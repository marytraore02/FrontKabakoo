{"ast":null,"code":"import { Animation, Browser, ChildProperty, Complex, Component, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, debounce, detach, extend, formatUnit, getComponent, getUniqueID, getValue, isNullOrUndefined, isUndefined, matches, prepend, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, JsonAdaptor, Predicate, Query } from '@syncfusion/ej2-data';\nimport { ListBase, Sortable, cssClass, moveTo } from '@syncfusion/ej2-lists';\nimport { Popup, createSpinner, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nimport { Button, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { TreeView } from '@syncfusion/ej2-navigations';\n\n/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches$1 = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nfunction incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId) {\n  queryString += String.fromCharCode(keyCode);\n  setTimeout(function () {\n    queryString = '';\n  }, 1000);\n  var index;\n  queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n  if (prevElementId === elementId && prevString === queryString) {\n    for (var i = 0; i < matches$1.length; i++) {\n      if (matches$1[i].classList.contains(activeClass)) {\n        index = i;\n        break;\n      }\n    }\n    index = index + 1;\n    return matches$1[index] ? matches$1[index] : matches$1[0];\n  } else {\n    var listItems = items;\n    var strLength = queryString.length;\n    var text = void 0;\n    var item = void 0;\n    selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n    var i = selectedIndex;\n    matches$1 = [];\n    do {\n      if (i === listItems.length) {\n        i = -1;\n      }\n      if (i === -1) {\n        index = 0;\n      } else {\n        index = i;\n      }\n      item = listItems[index];\n      text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n      if (text.substr(0, strLength) === queryString) {\n        matches$1.push(listItems[index]);\n      }\n      i++;\n    } while (i !== selectedIndex);\n    prevString = queryString;\n    prevElementId = elementId;\n    return matches$1[0];\n  }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nfunction Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n  var listItems = items;\n  ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n  var itemData = {\n    item: null,\n    index: null\n  };\n  if (inputVal && inputVal.length) {\n    var strLength = inputVal.length;\n    var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n    queryStr = escapeCharRegExp(queryStr);\n    var _loop_1 = function (i, itemsData) {\n      var item = itemsData[i];\n      var text = void 0;\n      var filterValue;\n      if (items && dataSource) {\n        var checkField_1 = item;\n        var fieldValue_1 = fields.text.split('.');\n        dataSource.filter(function (data) {\n          Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n            /* eslint-disable security/detect-object-injection */\n            if (type === 'object' && !data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1 && checkField_1.getAttribute('data-value') === data[fields.value].toString() || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n              filterValue = type === 'object' ? data[value] : data;\n            }\n          });\n        });\n      }\n      text = dataSource && filterValue ? (ignoreCase ? filterValue.toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n      /* eslint-disable security/detect-non-literal-regexp */\n      if (searchType === 'Equal' && text === queryStr || searchType === 'StartsWith' && text.substr(0, strLength) === queryStr || searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr || searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text)) {\n        itemData.item = item;\n        itemData.index = i;\n        return {\n          value: {\n            item: item,\n            index: i\n          }\n        };\n      }\n    };\n    for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n      var state_1 = _loop_1(i, itemsData);\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n    return itemData;\n    /* eslint-enable security/detect-non-literal-regexp */\n  }\n\n  return itemData;\n}\n/* eslint-enable security/detect-object-injection */\nfunction escapeCharRegExp(value) {\n  return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nfunction resetIncrementalSearchValues(elementId) {\n  if (prevElementId === elementId) {\n    prevElementId = '';\n    prevString = '';\n    queryString = '';\n    matches$1 = [];\n  }\n}\n\n/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nfunction highlightSearch(element, query, ignoreCase, type) {\n  if (query === '') {\n    return;\n  } else {\n    var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n    // eslint-disable-next-line\n    query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ? '(' + query + ')$' : '(' + query + ')';\n    // eslint-disable-next-line security/detect-non-literal-regexp\n    findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n  }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n  for (var index = 0; element.childNodes && index < element.childNodes.length; index++) {\n    if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n      var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n      element.childNodes[index].nodeValue = '';\n      element.innerHTML = element.innerHTML.trim() + value;\n      break;\n    } else {\n      findTextNode(element.childNodes[index], pattern);\n    }\n  }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nfunction revertHighlightSearch(content) {\n  var contentElement = content.querySelectorAll('.e-highlight');\n  for (var i = contentElement.length - 1; i >= 0; i--) {\n    var parent_1 = contentElement[i].parentNode;\n    var text = document.createTextNode(contentElement[i].textContent);\n    parent_1.replaceChild(text, contentElement[i]);\n  }\n}\nvar __assign = undefined && undefined.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar VirtualScroll = /** @__PURE__ @class */function () {\n  function VirtualScroll(parent) {\n    var _this = this;\n    this.sentinelInfo = {\n      'up': {\n        check: function (rect, info) {\n          var top = rect.top - _this.containerElementRect.top;\n          info.entered = top >= 0;\n          return top + _this.parent.listItemHeight * _this.parent.virtualItemCount / 2 >= 0;\n        },\n        axis: 'Y'\n      },\n      'down': {\n        check: function (rect, info) {\n          var cHeight = _this.parent.popupContentElement.clientHeight;\n          var top = rect.bottom;\n          info.entered = rect.bottom <= _this.containerElementRect.bottom;\n          return top - _this.parent.listItemHeight * _this.parent.virtualItemCount / 2 <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n        },\n        axis: 'Y'\n      }\n    };\n    this.parent = parent;\n    this.removeEventListener();\n    this.addEventListener();\n  }\n  VirtualScroll.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on('observe', this.observe, this);\n    this.parent.on('setGeneratedData', this.setGeneratedData, this);\n    this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n    this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n    this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n  };\n  VirtualScroll.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off('observe', this.observe);\n    this.parent.off('setGeneratedData', this.setGeneratedData);\n    this.parent.off('dataProcessAsync', this.dataProcessAsync);\n    this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n    this.parent.off('bindScrollEvent', this.bindScrollEvent);\n  };\n  VirtualScroll.prototype.bindScrollEvent = function (component) {\n    var _this = this;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.component = component.component;\n    this.observe(function (scrollArgs) {\n      return _this.scrollListener(scrollArgs);\n    });\n  };\n  VirtualScroll.prototype.observe = function (callback) {\n    this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n    EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n    this.touchModule = new Touch(this.parent.popupContentElement, {\n      scroll: this.popupScrollHandler.bind(this)\n    });\n    EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n  };\n  VirtualScroll.prototype.getModuleName = function () {\n    return 'VirtualScroll';\n  };\n  VirtualScroll.prototype.popupScrollHandler = function (e) {\n    this.parent.isMouseScrollAction = true;\n    this.parent.isPreventScrollAction = false;\n  };\n  VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n    if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n      query = query.skip(virtualStartIndex);\n    }\n    return query;\n  };\n  VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n    var loopIteration = 0;\n    var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n    for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n      var alreadyAddedData = this.parent.generatedDataObject[i];\n      if (!alreadyAddedData) {\n        if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n          var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n          if (slicedData.length > 0) {\n            // Safely assign slicedData to this.parent.generatedDataObject[i]\n            this.parent.generatedDataObject[i] = slicedData;\n          }\n        }\n      }\n      loopIteration++;\n    }\n  };\n  VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n    if (virtualItemStartIndex === void 0) {\n      virtualItemStartIndex = 0;\n    }\n    if (virtualItemEndIndex === void 0) {\n      virtualItemEndIndex = 0;\n    }\n    if (isQueryGenerated === void 0) {\n      isQueryGenerated = false;\n    }\n    var dataSource = this.parent.dataSource;\n    if (!isQueryGenerated) {\n      query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n    }\n    this.parent.resetList(dataSource, this.parent.fields, query);\n  };\n  VirtualScroll.prototype.setCurrentViewDataAsync = function () {\n    // eslint-disable-next-line\n    var currentData = [];\n    for (var i = this.parent.viewPortInfo.startIndex; i < this.parent.viewPortInfo.endIndex; i++) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var alreadyAddedData = this.parent.generatedDataObject[i];\n      if (alreadyAddedData) {\n        currentData.push(alreadyAddedData[0]);\n      }\n    }\n    this.parent.renderItems(currentData, this.parent.fields);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n    if (virtualTrackElement) {\n      virtualTrackElement.style = this.parent.GetVirtualTrackHeight();\n    }\n    this.parent.UpdateSkeleton();\n    this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n    if (virtualContentElement) {\n      virtualContentElement.style = this.parent.getTransformValues();\n    }\n  };\n  VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n    var isStartIndexInitialised = false;\n    var queryStartIndex = 0;\n    var queryEndIndex = 0;\n    var sortedDataStartIndex = 0;\n    var vEndIndex = this.parent && this.parent.viewPortInfo.endIndex !== 0 ? this.parent.viewPortInfo.endIndex : sortedDataStartIndex + this.parent.getItems().length;\n    if (!isPopupOpen && vEndIndex !== 0) {\n      for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n        if (!(i in this.parent.generatedDataObject)) {\n          if (!isStartIndexInitialised) {\n            isStartIndexInitialised = true;\n            queryStartIndex = queryEndIndex = i;\n          } else {\n            queryEndIndex = i === vEndIndex ? i : i + 1;\n          }\n        }\n      }\n    }\n    if (isStartIndexInitialised && !(this.parent.totalItemCount == queryStartIndex && this.parent.totalItemCount == queryEndIndex)) {\n      this.parent.virtualItemStartIndex = queryStartIndex;\n      this.parent.virtualItemEndIndex = queryEndIndex;\n      this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n    }\n    this.setCurrentViewDataAsync();\n  };\n  VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n    this.parent.selectedValueInfo = null;\n    this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n    this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n    this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n  };\n  VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.parent.isCustomFilter = !(this.parent.isTyped || this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString != this.parent.typedString || !isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '' && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null) || this.parent.isCustomFilter;\n            if (this.parent.allowFiltering || this.component === 'autocomplete') {\n              if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                  this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                }\n                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                  this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                }\n              } else {\n                this.parent.getSkeletonCount(true);\n              }\n            }\n            return [4 /*yield*/, this.dataProcessAsync()];\n          case 1:\n            _a.sent();\n            if (this.parent.keyboardEvent != null) {\n              this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n            }\n            this.parent.isCustomFilter = false;\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n    var _this = this;\n    if (!this.parent.isPreventScrollAction) {\n      var info = scrollArgs.sentinel;\n      var pStartIndex = this.parent.previousStartIndex;\n      this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n      this.parent.isUpwardScrolling = false;\n      if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n        this.parent.isScrollActionTriggered = false;\n        this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n        this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n        this.parent.isPreventKeyAction = true;\n        this.parent.isVirtualScrolling = true;\n        setTimeout(function () {\n          _this.parent.pageCount = _this.parent.getPageCount();\n          _this.virtualScrollRefreshAsync().then(function () {\n            if (_this.parent.popupObj) {\n              _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n              _this.parent.updateSelectionList();\n              _this.parent.liCollections = _this.parent.getItems();\n            }\n            _this.parent.isKeyBoardAction = false;\n            _this.parent.isVirtualScrolling = false;\n            _this.parent.isPreventKeyAction = false;\n          });\n        }, 5);\n      } else if (this.parent.isScrollActionTriggered) {\n        this.parent.isPreventKeyAction = false;\n        this.parent.isScrollActionTriggered = false;\n        var virtualListCount = this.parent.list.querySelectorAll('.e-virtual-list').length;\n        var listElement = this.parent.list.querySelector('.' + 'e-list-item');\n        var translateY = scrollArgs.offset.top - listElement.offsetHeight * virtualListCount;\n        this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style.transform = \"translate(0px,\" + translateY + \"px)\";\n      }\n      this.parent.previousInfo = this.parent.viewPortInfo;\n    }\n  };\n  VirtualScroll.prototype.getPageCount = function (popupElement, returnExactCount) {\n    if (returnExactCount === void 0) {\n      returnExactCount = false;\n    }\n    var list = popupElement && popupElement.querySelector('.e-content');\n    if (list) {\n      var liHeight = list.classList.contains('e-nodata') ? null : getComputedStyle(list.querySelectorAll('.e-list-item')[0], null).getPropertyValue('height');\n      var pageCount = list.getBoundingClientRect().height / parseInt(liHeight, 10);\n      return returnExactCount ? pageCount : Math.round(pageCount);\n    }\n    return 0;\n  };\n  VirtualScroll.prototype.getRowHeight = function () {\n    return isNullOrUndefined(this.parent.liCollections) || this.parent.liCollections.length == 0 ? 0 : Math.ceil(this.parent.liCollections[0].getBoundingClientRect().height);\n  };\n  VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n    var infoType = {\n      direction: direction,\n      sentinelInfo: info,\n      offsets: e,\n      startIndex: this.parent.previousStartIndex,\n      endIndex: this.parent.previousEndIndex\n    };\n    var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n    //Row Start and End Index calculation\n    var rowHeight = this.parent.listItemHeight;\n    var exactTopIndex = e.top / rowHeight;\n    var infoViewIndices = vHeight / rowHeight;\n    var exactEndIndex = exactTopIndex + infoViewIndices;\n    var pageSizeBy4 = this.parent.virtualItemCount / 4;\n    var totalItemCount = this.parent.totalItemCount;\n    if (infoType.direction === 'down') {\n      var sIndex = Math.round(exactEndIndex) - Math.round(pageSizeBy4);\n      if (isNullOrUndefined(infoType.startIndex) || exactEndIndex > infoType.startIndex + Math.round(this.parent.virtualItemCount / 2 + pageSizeBy4) && infoType.endIndex !== totalItemCount) {\n        infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n        infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n        var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n        infoType.startIndex = eIndex < exactEndIndex ? Math.ceil(exactEndIndex) - this.parent.virtualItemCount : infoType.startIndex;\n        infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n        infoType.startIndex = eIndex >= totalItemCount ? infoType.endIndex - this.parent.virtualItemCount > 0 ? infoType.endIndex - this.parent.virtualItemCount : 0 : infoType.startIndex;\n        infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n      }\n    } else if (infoType.direction === 'up') {\n      if (infoType.startIndex && infoType.endIndex) {\n        var loadAtIndex = Math.round((infoType.startIndex * rowHeight + pageSizeBy4 * rowHeight) / rowHeight);\n        if (exactTopIndex < loadAtIndex) {\n          var idxAddedToExactTop = pageSizeBy4 > infoViewIndices ? pageSizeBy4 : infoViewIndices + infoViewIndices / 4;\n          var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n          infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n          var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n          infoType.startIndex = sIndex > 0 ? sIndex : 0;\n          infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n          infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n        }\n      }\n    }\n    if (!isscrollAction) {\n      this.parent.previousStartIndex = infoType.startIndex;\n      this.parent.startIndex = infoType.startIndex;\n      this.parent.previousEndIndex = infoType.endIndex;\n    } else {\n      this.parent.scrollPreStartIndex = infoType.startIndex;\n    }\n    return infoType;\n  };\n  VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n    var _this = this;\n    var delay = Browser.info.name === 'chrome' ? 200 : 100;\n    var prevTop = 0;\n    var debounced100 = debounce(callback, delay);\n    var debounced50 = debounce(callback, 50);\n    return function (e) {\n      var top = e.target.scrollTop;\n      var left = e.target.scrollLeft;\n      var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n      prevTop = top;\n      var current = _this.sentinelInfo[direction];\n      var pstartIndex = _this.parent.scrollPreStartIndex;\n      var scrollOffsetargs = {\n        top: top,\n        left: left\n      };\n      if (_this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n        var infoview = _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n        if (_this.parent.scrollPreStartIndex != pstartIndex && !_this.parent.isPreventScrollAction) {\n          _this.parent.isScrollActionTriggered = true;\n          var virtualPoup = _this.parent.list.querySelector('.e-virtual-ddl-content');\n          virtualPoup.style.transform = \"translate(0px,\" + top + \"px)\";\n        }\n      }\n      var debounceFunction = debounced100;\n      if (current.axis === 'X') {\n        debounceFunction = debounced50;\n      }\n      debounceFunction({\n        direction: direction,\n        sentinel: current,\n        offset: {\n          top: top,\n          left: left\n        },\n        focusElement: document.activeElement\n      });\n    };\n  };\n  VirtualScroll.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return VirtualScroll;\n}();\n\n/**\n * Common source\n */\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FieldSettings = /** @__PURE__ @class */function (_super) {\n  __extends(FieldSettings, _super);\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property()], FieldSettings.prototype, \"text\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"value\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"iconCss\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"groupBy\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"htmlAttributes\", void 0);\n  return FieldSettings;\n}(ChildProperty);\nvar dropDownBaseClasses = {\n  root: 'e-dropdownbase',\n  rtl: 'e-rtl',\n  content: 'e-content',\n  selected: 'e-active',\n  hover: 'e-hover',\n  noData: 'e-nodata',\n  fixedHead: 'e-fixed-head',\n  focus: 'e-item-focus',\n  li: 'e-list-item',\n  group: 'e-list-group-item',\n  disabled: 'e-disabled',\n  grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @__PURE__ @class */function (_super) {\n  __extends(DropDownBase, _super);\n  /**\n   * * Constructor for DropDownBase class\n   *\n   * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.isPreventChange = false;\n    _this.isDynamicDataChange = false;\n    _this.addedNewItem = false;\n    _this.isAddNewItemTemplate = false;\n    _this.isRequesting = false;\n    _this.isVirtualizationEnabled = false;\n    _this.isAllowFiltering = false;\n    _this.virtualizedItemsCount = 0;\n    _this.totalItemCount = 0;\n    _this.dataCount = 0;\n    return _this;\n  }\n  DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n    var newProperty = new Object();\n    var oldProperty = new Object();\n    var propName = function (prop) {\n      return prop;\n    };\n    newProperty[propName(prop)] = newProp[propName(prop)];\n    oldProperty[propName(prop)] = oldProp[propName(prop)];\n    var data = new Object();\n    data.newProperty = newProperty;\n    data.oldProperty = oldProperty;\n    return data;\n  };\n  DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n    var value = null;\n    if (!isNullOrUndefined(this.listData)) {\n      if (ignoreCase) {\n        value = this.checkValueCase(text, true, ignoreAccent);\n      } else {\n        value = this.checkValueCase(text, false, ignoreAccent);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n    var _this = this;\n    var value = null;\n    if (isTextByValue) {\n      value = text;\n    }\n    var dataSource = this.listData;\n    var fields = this.fields;\n    var type = this.typeOfData(dataSource).typeof;\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n        var item = dataSource_1[_i];\n        if (!isNullOrUndefined(item)) {\n          if (ignoreAccent) {\n            value = this.checkingAccent(String(item), text, ignoreCase);\n          } else {\n            if (ignoreCase) {\n              if (this.checkIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n              }\n            } else {\n              if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      if (ignoreCase) {\n        dataSource.filter(function (item) {\n          var itemValue = getValue(fields.value, item);\n          if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n            value = getValue(fields.value, item);\n          }\n        });\n      } else {\n        if (isTextByValue) {\n          var compareValue_1 = null;\n          compareValue_1 = value;\n          dataSource.filter(function (item) {\n            var itemValue = getValue(fields.value, item);\n            if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n              value = getValue(fields.text, item);\n            }\n          });\n        } else {\n          dataSource.filter(function (item) {\n            if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n              value = getValue(fields.value, item);\n            }\n          });\n        }\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n    var dataItem = DataUtil.ignoreDiacritics(String(item));\n    var textItem = DataUtil.ignoreDiacritics(text.toString());\n    var value = null;\n    if (ignoreCase) {\n      if (this.checkIgnoreCase(dataItem, textItem)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    } else {\n      if (this.checkNonIgnoreCase(String(item), text)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n    return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n  };\n  DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n    return String(item) === text.toString() ? true : false;\n  };\n  DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n    var value = null;\n    var dataSource = this.listData;\n    var type = this.typeOfData(dataSource).typeof;\n    if (isTextByValue) {\n      value = dataItem.toString();\n    } else {\n      if (ignoreCase) {\n        value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n      } else {\n        value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n    var checkTemplate = false;\n    if (typeof baseTemplate !== 'function' && baseTemplate) {\n      try {\n        checkTemplate = selectAll(baseTemplate, document).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n    var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n    if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var compiledString = void 0;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      ele.innerHTML = '';\n      var tempaltecheck = this.templateCompiler(template);\n      if (typeof template !== 'function' && tempaltecheck) {\n        compiledString = compile(select(template, document).innerHTML.trim());\n      } else {\n        compiledString = compile(template);\n      }\n      var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var noDataElement = void 0;\n      if (this.isReact && typeof template === 'function') {\n        noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n      } else {\n        noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n      }\n      if (noDataElement && noDataElement.length > 0) {\n        for (var i = 0; i < noDataElement.length; i++) {\n          if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n            if (noDataElement[i].nodeName === '#text') {\n              var liElem = this.createElement('li');\n              liElem.textContent = noDataElement[i].textContent;\n              liElem.classList.add('e-list-nrt');\n              liElem.setAttribute('role', 'option');\n              ele.appendChild(liElem);\n            } else {\n              noDataElement[i].classList.add('e-list-nr-template');\n              ele.appendChild(noDataElement[i]);\n            }\n          } else {\n            ele.appendChild(noDataElement[i]);\n          }\n        }\n      }\n      this.renderReactTemplates();\n    } else {\n      var l10nLocale = {\n        noRecordsTemplate: 'No records found',\n        actionFailureTemplate: 'Request failed'\n      };\n      var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n      if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n        this.l10n = componentLocale;\n      } else {\n        this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n      }\n      var content = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n      if (this.getModuleName() === 'listbox') {\n        var liElem = this.createElement('li');\n        liElem.textContent = content;\n        ele.appendChild(liElem);\n        liElem.classList.add('e-list-nrt');\n        liElem.setAttribute('role', 'option');\n      } else {\n        if (!isNullOrUndefined(ele)) {\n          ele.innerHTML = content;\n        }\n      }\n    }\n  };\n  DropDownBase.prototype.getLocaleName = function () {\n    return 'drop-down-base';\n  };\n  DropDownBase.prototype.getTextByValue = function (value) {\n    var text = this.checkValueCase(value, false, false, true);\n    return text;\n  };\n  DropDownBase.prototype.getFormattedValue = function (value) {\n    if (this.listData && this.listData.length) {\n      var item = void 0;\n      if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n        item = this.typeOfData(this.properties.value);\n      } else {\n        item = this.typeOfData(this.listData);\n      }\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'number' || item.typeof === 'number') {\n        return parseFloat(value);\n      }\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'boolean' || item.typeof === 'boolean') {\n        return value === 'true' || '' + value === 'true';\n      }\n    }\n    return value;\n  };\n  /**\n   * Sets RTL to dropdownbase wrapper\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setEnableRtl = function () {\n    if (!isNullOrUndefined(this.enableRtlElements)) {\n      if (this.list) {\n        this.enableRtlElements.push(this.list);\n      }\n      if (this.enableRtl) {\n        addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n      } else {\n        removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n      }\n    }\n  };\n  /**\n   * Initialize the Component.\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.initialize = function (e) {\n    this.bindEvent = true;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n    if (this.element.tagName === 'UL') {\n      var jsonElement = ListBase.createJsonFromElement(this.element);\n      this.setProperties({\n        fields: {\n          text: 'text',\n          value: 'text'\n        }\n      }, true);\n      this.resetList(jsonElement, this.fields);\n    } else if (this.element.tagName === 'SELECT') {\n      var dataSource = this.dataSource instanceof Array ? this.dataSource.length > 0 ? true : false : !isNullOrUndefined(this.dataSource) ? true : false;\n      if (!dataSource) {\n        this.renderItemsBySelect();\n      } else if (this.isDynamicDataChange) {\n        this.setListData(this.dataSource, this.fields, this.query);\n      }\n    } else {\n      this.setListData(this.dataSource, this.fields, this.query, e);\n    }\n  };\n  /**\n   * Get the properties to be maintained in persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownBase.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @param {string} value - Specifies the attribute values to add on the input element.\n   * @returns {void}\n   */\n  DropDownBase.prototype.updateDataAttribute = function (value) {\n    var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n    var attr = {};\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n  DropDownBase.prototype.renderItemsBySelect = function () {\n    var element = this.element;\n    var fields = {\n      value: 'value',\n      text: 'text'\n    };\n    var jsonElement = [];\n    var group = element.querySelectorAll('select>optgroup');\n    var option = element.querySelectorAll('select>option');\n    this.getJSONfromOption(jsonElement, option, fields);\n    if (group.length) {\n      for (var i = 0; i < group.length; i++) {\n        var item = group[i];\n        var optionGroup = {};\n        optionGroup[fields.text] = item.label;\n        optionGroup.isHeader = true;\n        var child = item.querySelectorAll('option');\n        jsonElement.push(optionGroup);\n        this.getJSONfromOption(jsonElement, child, fields);\n      }\n      element.querySelectorAll('select>option');\n    }\n    this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n    this.resetList(jsonElement, fields);\n  };\n  DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n    var field = {\n      'fields': {\n        text: text,\n        value: value,\n        groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n        htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n        iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n      }\n    };\n    this.setProperties(field, true);\n  };\n  DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n      var option = options_1[_i];\n      var json = {};\n      json[fields.text] = option.innerText;\n      json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ? option.getAttribute(fields.value) : option.innerText;\n      items.push(json);\n    }\n  };\n  /**\n   * Execute before render the list items\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.preRender = function () {\n    // there is no event handler\n    this.scrollTimer = -1;\n    this.enableRtlElements = [];\n    this.isRequested = false;\n    this.isDataFetched = false;\n    this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n    this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n    this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n    this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n    this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n  };\n  /**\n   * Creates the list items of DropDownBase component.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {void}\n   */\n  DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n    var _this = this;\n    fields = fields ? fields : this.fields;\n    var ulElement;\n    this.isActive = true;\n    var eventArgs = {\n      cancel: false,\n      data: dataSource,\n      query: query\n    };\n    this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n    if (!this.isRequesting) {\n      this.trigger('actionBegin', eventArgs, function (eventArgs) {\n        if (!eventArgs.cancel) {\n          _this.isRequesting = true;\n          _this.showSpinner();\n          if (dataSource instanceof DataManager) {\n            _this.isRequested = true;\n            if (_this.isDataFetched) {\n              _this.emptyDataRequest(fields);\n              return;\n            }\n            eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n              _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n              _this.trigger('actionComplete', e, function (e) {\n                if (!e.cancel) {\n                  var listItems = e.result;\n                  if (listItems.length === 0) {\n                    _this.isDataFetched = true;\n                  }\n                  _this.dataCount = e.count;\n                  _this.totalItemCount = e.count;\n                  ulElement = _this.renderItems(listItems, fields);\n                  _this.onActionComplete(ulElement, listItems, e);\n                  if (_this.groupTemplate) {\n                    _this.renderGroupTemplate(ulElement);\n                  }\n                  _this.isRequested = false;\n                  _this.bindChildItems(listItems, ulElement, fields, e);\n                }\n                _this.isRequesting = false;\n              });\n            }).catch(function (e) {\n              _this.isRequested = false;\n              _this.isRequesting = false;\n              _this.onActionFailure(e);\n              _this.hideSpinner();\n            });\n          } else {\n            _this.isRequesting = false;\n            var dataManager = new DataManager(eventArgs.data);\n            var listItems = _this.getQuery(eventArgs.query).executeLocal(dataManager);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.dataCount = listItems.count;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.totalItemCount = listItems.count;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n            var localDataArgs = {\n              cancel: false,\n              result: listItems\n            };\n            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n            _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n              if (!localDataArgs.cancel) {\n                ulElement = _this.renderItems(localDataArgs.result, fields);\n                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                if (_this.groupTemplate) {\n                  _this.renderGroupTemplate(ulElement);\n                }\n                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                setTimeout(function () {\n                  if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || _this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)) {\n                    _this.updateDataList();\n                  }\n                });\n              }\n            });\n          }\n        }\n      });\n    }\n  };\n  DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n    var _this = this;\n    if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n      setTimeout(function () {\n        var childNode = _this.remainingItems(_this.sortedData, fields);\n        append(childNode, ulElement);\n        _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        _this.updateListValues();\n        _this.raiseDataBound(listItems, e);\n      }, 0);\n    } else {\n      this.raiseDataBound(listItems, e);\n    }\n  };\n  DropDownBase.prototype.updateListValues = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n    var liElement = null;\n    if (list) {\n      var listArr = [].slice.call(list.querySelectorAll(findNode));\n      for (var index = 0; index < listArr.length; index++) {\n        if (listArr[index].getAttribute(attribute) === value + '') {\n          liElement = listArr[index];\n          break;\n        }\n      }\n    }\n    return liElement;\n  };\n  DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n    this.hideSpinner();\n    var dataBoundEventArgs = {\n      items: listItems,\n      e: e\n    };\n    this.trigger('dataBound', dataBoundEventArgs);\n  };\n  DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n    var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n    if (this.itemTemplate) {\n      var listElements = this.templateListItem(spliceData, fields);\n      return [].slice.call(listElements.childNodes);\n    }\n    var type = this.typeOfData(spliceData).typeof;\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n    }\n    return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n  };\n  DropDownBase.prototype.emptyDataRequest = function (fields) {\n    var listItems = [];\n    this.onActionComplete(this.renderItems(listItems, fields), listItems);\n    this.isRequested = false;\n    this.hideSpinner();\n  };\n  DropDownBase.prototype.showSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.hideSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.onActionFailure = function (e) {\n    this.liCollections = [];\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    if (!isNullOrUndefined(this.list)) {\n      addClass([this.list], dropDownBaseClasses.noData);\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    this.listData = list;\n    if (this.isVirtualizationEnabled) {\n      this.notify(\"setGeneratedData\", {\n        module: \"VirtualScroll\"\n      });\n    }\n    if (this.getModuleName() !== 'listbox') {\n      ulElement.setAttribute('tabindex', '0');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n    }\n    this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n    if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n      for (var i = 0; i < ulElement.childElementCount; i++) {\n        if (ulElement.children[i].classList.contains('e-list-group-item')) {\n          if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n            addClass([ulElement.children[i]], HIDE_GROUPLIST);\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(this.list)) {\n      if (!this.isVirtualizationEnabled) {\n        this.list.innerHTML = '';\n        this.list.appendChild(ulElement);\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.postRender(this.list, list, this.bindEvent);\n      }\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n    var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n    if (focusItem && !selectedItem) {\n      focusItem.classList.add(dropDownBaseClasses.focus);\n    }\n    if (list.length <= 0) {\n      this.l10nUpdate();\n      addClass([listElement], dropDownBaseClasses.noData);\n    } else {\n      listElement.classList.remove(dropDownBaseClasses.noData);\n    }\n  };\n  /**\n   * Get the query to do the data operation before list item generation.\n   *\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {Query} Returns the query to do the data query operation.\n   */\n  DropDownBase.prototype.getQuery = function (query) {\n    return query ? query : this.query ? this.query : new Query();\n  };\n  DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering) {\n    this.isVirtualizationEnabled = true;\n    this.virtualizedItemsCount = itemCount;\n    this.isAllowFiltering = filtering;\n  };\n  /**\n   * To render the template content for group header element.\n   *\n   * @param {HTMLElement} listEle - Specifies the group list elements.\n   * @returns {void}\n   */\n  DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n    if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n      var dataSource = this.dataSource;\n      var option = {\n        groupTemplateID: this.groupTemplateId,\n        isStringTemplate: this.isStringTemplate\n      };\n      var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n      var groupcheck = this.templateCompiler(this.groupTemplate);\n      if (typeof this.groupTemplate !== 'function' && groupcheck) {\n        var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      }\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To create the ul li list items\n   *\n   * @param {object []} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @returns {HTMLElement} Return the ul li list items.\n   */\n  DropDownBase.prototype.createListItems = function (dataSource, fields) {\n    if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n      if (fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      }\n      addClass([this.list], dropDownBaseClasses.grouping);\n    } else {\n      dataSource = this.getSortedDataSource(dataSource);\n    }\n    var options = this.listOption(dataSource, fields);\n    var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n    this.sortedData = dataSource;\n    return ListBase.createList(this.createElement, this.getModuleName() === 'autocomplete' ? spliceData : dataSource, options, true, this);\n  };\n  DropDownBase.prototype.listOption = function (dataSource, fields) {\n    var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n    var fieldValues = !isNullOrUndefined(fields.properties) ? fields.properties : fields;\n    var options = fields.text !== null || fields.value !== null ? {\n      fields: fieldValues,\n      showIcon: iconCss,\n      ariaAttributes: {\n        groupItemRole: 'presentation'\n      }\n    } : {\n      fields: {\n        value: 'text'\n      }\n    };\n    return extend({}, options, fields, true);\n  };\n  DropDownBase.prototype.setFloatingHeader = function (e) {\n    if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n      if (isNullOrUndefined(this.fixedHeaderElement)) {\n        this.fixedHeaderElement = this.createElement('div', {\n          className: dropDownBaseClasses.fixedHead\n        });\n        if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n          this.fixedHeaderElement.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n          prepend([this.fixedHeaderElement], this.list);\n        }\n        this.setFixedHeader();\n      }\n      if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n        this.setFixedHeader();\n      }\n      this.scrollStop(e);\n    }\n  };\n  DropDownBase.prototype.scrollStop = function (e) {\n    var target = !isNullOrUndefined(e) ? e.target : this.list;\n    var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n    var topIndex = Math.round(target.scrollTop / liHeight);\n    var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n    for (var i = topIndex; i > -1; i--) {\n      if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n        var currentLi = liCollections[i];\n        this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n        this.fixedHeaderElement.style.top = target.scrollTop + 'px';\n        this.fixedHeaderElement.style.display = 'block';\n        break;\n      } else {\n        this.fixedHeaderElement.style.display = 'none';\n        this.fixedHeaderElement.style.top = 'none';\n      }\n    }\n  };\n  DropDownBase.prototype.getValidLi = function () {\n    return this.liCollections[0];\n  };\n  /**\n   * To render the list items\n   *\n   * @param {object[]} listData - Specifies the list of array of data.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @returns {HTMLElement} Return the list items.\n   */\n  DropDownBase.prototype.renderItems = function (listData, fields) {\n    var ulElement;\n    if (this.itemTemplate && listData) {\n      var dataSource = listData;\n      if (dataSource && fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      } else {\n        dataSource = this.getSortedDataSource(dataSource);\n      }\n      this.sortedData = dataSource;\n      var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n      ulElement = this.templateListItem(this.getModuleName() === 'autocomplete' ? spliceData : dataSource, fields);\n      if (this.isVirtualizationEnabled) {\n        var oldUlElement = this.list.querySelector('.e-list-parent');\n        var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n        if (listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement || oldUlElement && virtualUlElement && this.isAllowFiltering || oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete') {\n          virtualUlElement.replaceChild(ulElement, oldUlElement);\n          this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          this.ulElement = this.list.querySelector('ul');\n          this.listData = listData;\n          this.postRender(this.list, listData, this.bindEvent);\n        } else if (!virtualUlElement) {\n          this.list.innerHTML = '';\n          this.list.appendChild(ulElement);\n          this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          this.ulElement = this.list.querySelector('ul');\n          this.listData = listData;\n          this.postRender(this.list, listData, this.bindEvent);\n        }\n      }\n    } else {\n      ulElement = this.createListItems(listData, fields);\n      if (this.isVirtualizationEnabled) {\n        var oldUlElement = this.list.querySelector('.e-list-parent');\n        var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n        if (listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement || oldUlElement && virtualUlElement && this.isAllowFiltering || oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete') {\n          virtualUlElement.replaceChild(ulElement, oldUlElement);\n          this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          this.ulElement = this.list.querySelector('ul');\n          this.listData = listData;\n          this.postRender(this.list, listData, this.bindEvent);\n        } else if (!virtualUlElement) {\n          this.list.innerHTML = '';\n          this.list.appendChild(ulElement);\n          this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          this.ulElement = this.list.querySelector('ul');\n          this.listData = listData;\n          this.postRender(this.list, listData, this.bindEvent);\n        }\n      }\n    }\n    return ulElement;\n  };\n  DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n    var option = this.listOption(dataSource, fields);\n    option.templateID = this.itemTemplateId;\n    option.isStringTemplate = this.isStringTemplate;\n    var itemcheck = this.templateCompiler(this.itemTemplate);\n    if (typeof this.itemTemplate !== 'function' && itemcheck) {\n      var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n      return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n    } else {\n      return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n    }\n  };\n  DropDownBase.prototype.typeOfData = function (items) {\n    var item = {\n      typeof: null,\n      item: null\n    };\n    for (var i = 0; !isNullOrUndefined(items) && i < items.length; i++) {\n      if (!isNullOrUndefined(items[i])) {\n        var listDataType = typeof items[i] === 'string' || typeof items[i] === 'number' || typeof items[i] === 'boolean';\n        var isNullData = listDataType ? isNullOrUndefined(items[i]) : isNullOrUndefined(getValue(this.fields.value ? this.fields.value : 'value', items[i]));\n        if (!isNullData) {\n          return item = {\n            typeof: typeof items[i],\n            item: items[i]\n          };\n        }\n      }\n    }\n    return item;\n  };\n  DropDownBase.prototype.setFixedHeader = function () {\n    if (!isNullOrUndefined(this.list)) {\n      this.list.parentElement.style.display = 'block';\n    }\n    var borderWidth = 0;\n    if (this.list && this.list.parentElement) {\n      borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n      /*Shorthand property not working in Firefox for getComputedStyle method.\n      Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n      Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n      if (isNaN(borderWidth)) {\n        var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n        var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n        var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n        var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n        borderWidth = borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth;\n      }\n    }\n    if (!isNullOrUndefined(this.liCollections)) {\n      var liWidth = this.getValidLi().offsetWidth - borderWidth;\n      this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n    }\n    setStyleAttribute(this.fixedHeaderElement, {\n      zIndex: 10\n    });\n    var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n    this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n  };\n  DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n    if (dataSource && this.sortOrder !== 'None') {\n      var textField = this.fields.text ? this.fields.text : 'text';\n      if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number' || this.typeOfData(dataSource).typeof === 'boolean') {\n        textField = '';\n      }\n      dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n    }\n    return dataSource;\n  };\n  /**\n   * Return the index of item which matched with given value in data source\n   *\n   * @param {string | number | boolean} value - Specifies given value.\n   * @returns {number} Returns the index of the item.\n   */\n  DropDownBase.prototype.getIndexByValue = function (value) {\n    var index;\n    var listItems = this.getItems();\n    for (var i = 0; i < listItems.length; i++) {\n      if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n        index = i;\n        break;\n      }\n    }\n    return index;\n  };\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n  DropDownBase.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    if (element) {\n      element.dispatchEvent(evt);\n    }\n  };\n  /**\n   * To set the current fields\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setFields = function () {\n    if (this.fields.value && !this.fields.text) {\n      this.updateFields(this.fields.value, this.fields.value);\n    } else if (!this.fields.value && this.fields.text) {\n      this.updateFields(this.fields.text, this.fields.text);\n    } else if (!this.fields.value && !this.fields.text) {\n      this.updateFields('text', 'text');\n    }\n  };\n  /**\n   * reset the items list.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {void}\n   */\n  DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n    if (this.list) {\n      if (this.element.tagName === 'SELECT' && this.element.options.length > 0 || this.element.tagName === 'UL' && this.element.childNodes.length > 0) {\n        var data = dataSource instanceof Array ? dataSource.length > 0 : !isNullOrUndefined(dataSource);\n        if (!data && this.selectData && this.selectData.length > 0) {\n          dataSource = this.selectData;\n        }\n      }\n      dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n      this.addedNewItem = false;\n      this.setListData(dataSource, fields, query, e);\n    }\n  };\n  DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n    if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n      this.selectData = this.listData;\n    }\n  };\n  DropDownBase.prototype.updateSelection = function () {\n    // This is for after added the item, need to update the selected index values.\n  };\n  DropDownBase.prototype.renderList = function () {\n    // This is for render the list items.\n    this.render();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateDataSource = function (props) {\n    this.resetList(this.dataSource);\n    this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n  };\n  DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n    this.isDataFetched = false;\n    var updateData = {};\n    for (var j = 0; props.length > j; j++) {\n      if (newProp[props[j]] && props[j] === 'fields') {\n        this.setFields();\n        updateData[props[j]] = newProp[props[j]];\n      } else if (newProp[props[j]]) {\n        updateData[props[j]] = newProp[props[j]];\n      }\n    }\n    if (Object.keys(updateData).length > 0) {\n      if (Object.keys(updateData).indexOf('dataSource') === -1) {\n        updateData.dataSource = this.dataSource;\n      }\n      this.updateDataSource(updateData);\n    }\n  };\n  /**\n   * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n   *\n   * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'dropdownbase') {\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'query':\n        case 'sortOrder':\n        case 'dataSource':\n        case 'itemTemplate':\n          break;\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n        case 'groupTemplate':\n          this.renderGroupTemplate(this.list);\n          if (this.ulElement && this.fixedHeaderElement) {\n            var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n          }\n          break;\n        case 'locale':\n          if (this.list && !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0) {\n            this.l10nUpdate();\n          }\n          break;\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n      }\n    }\n  };\n  /**\n   * Build and render the component\n   *\n   * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.render = function (e, isEmptyData) {\n    if (this.getModuleName() === 'listbox') {\n      this.list = this.createElement('div', {\n        className: dropDownBaseClasses.content,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n    } else {\n      this.list = this.createElement('div', {\n        className: dropDownBaseClasses.content\n      });\n    }\n    this.list.classList.add(dropDownBaseClasses.root);\n    this.setFields();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + dropDownBaseClasses.li\n    };\n    this.rippleFun = rippleEffect(this.list, rippleModel);\n    var group = this.element.querySelector('select>optgroup');\n    if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n    if (this.getModuleName() === 'dropdownbase') {\n      if (this.element.getAttribute('tabindex')) {\n        this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n      }\n      removeClass([this.element], dropDownBaseClasses.root);\n      this.element.style.display = 'none';\n      var wrapperElement = this.createElement('div');\n      this.element.parentElement.insertBefore(wrapperElement, this.element);\n      wrapperElement.appendChild(this.element);\n      wrapperElement.appendChild(this.list);\n    }\n    this.setEnableRtl();\n    if (!isEmptyData) {\n      this.initialize(e);\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownBase.prototype.getModuleName = function () {\n    return 'dropdownbase';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownBase.prototype.getItems = function () {\n    return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n   * @deprecated\n   */\n  DropDownBase.prototype.addItem = function (items, itemIndex) {\n    if (!this.list || this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox') {\n      this.renderList();\n    }\n    if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n      var newList = [].slice.call(this.listData);\n      newList.push(items);\n      newList = this.getSortedDataSource(newList);\n      if (this.fields.groupBy) {\n        newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n        itemIndex = newList.indexOf(items);\n      } else {\n        itemIndex = newList.indexOf(items);\n      }\n    }\n    var itemsCount = this.getItems().length;\n    var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    items = items instanceof Array ? items : [items];\n    var index;\n    index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;\n    var fields = this.fields;\n    if (items && fields.groupBy) {\n      items = ListBase.groupDataSource(items, fields.properties);\n    }\n    var liCollections = [];\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var isHeader = item.isHeader;\n      var li = this.createElement('li', {\n        className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li,\n        id: 'option-add-' + i\n      });\n      var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n      if (isHeader) {\n        li.innerText = itemText;\n      }\n      if (this.itemTemplate && !isHeader) {\n        var itemCheck = this.templateCompiler(this.itemTemplate);\n        var compiledString = typeof this.itemTemplate !== 'function' && itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n        if (addItemTemplate) {\n          append(addItemTemplate, li);\n        }\n      } else if (!isHeader) {\n        li.appendChild(document.createTextNode(itemText));\n      }\n      li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n      li.setAttribute('role', 'option');\n      this.notify('addItem', {\n        module: 'CheckBoxSelection',\n        item: li\n      });\n      liCollections.push(li);\n      this.listData.push(item);\n      if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n        index = null;\n      }\n      this.updateActionCompleteData(li, item, index);\n      //Listbox event\n      this.trigger('beforeItemRender', {\n        element: li,\n        item: item\n      });\n    }\n    if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n      if (!isNullOrUndefined(this.list)) {\n        this.list.innerHTML = '';\n        this.list.classList.remove(dropDownBaseClasses.noData);\n        this.isAddNewItemTemplate = true;\n        if (!isNullOrUndefined(this.ulElement)) {\n          this.list.appendChild(this.ulElement);\n        }\n      }\n      this.liCollections = liCollections;\n      if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n        append(liCollections, this.ulElement);\n      }\n      this.updateAddItemList(this.list, itemsCount);\n    } else {\n      if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n        this.ulElement.innerHTML = '';\n      }\n      var attr = [];\n      for (var i = 0; i < items.length; i++) {\n        var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n        for (var j = 0; j < listGroupItem.length; j++) {\n          attr[j] = listGroupItem[j].innerText;\n        }\n        if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n          for (var j = 0; j < listGroupItem.length; j++) {\n            if (attr[j] === liCollections[i].innerText) {\n              if (this.sortOrder === 'None') {\n                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n              } else {\n                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n              }\n              i = i + 1;\n              break;\n            }\n          }\n        } else {\n          if (this.liCollections[index]) {\n            this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n          } else {\n            this.ulElement.appendChild(liCollections[i]);\n          }\n        }\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 0, liCollections[i]);\n        this.liCollections = tempLi;\n        index += 1;\n        if (this.getModuleName() === 'multiselect') {\n          this.updateDataList();\n        }\n      }\n    }\n    if (this.getModuleName() === 'listbox' && this.isReact) {\n      this.renderReactTemplates();\n    }\n    if (selectedItemValue || itemIndex === 0) {\n      this.updateSelection();\n    }\n    this.addedNewItem = true;\n  };\n  DropDownBase.prototype.validationAttribute = function (target, hidden) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    hidden.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n    for (var i = 0; i < attributes$$1.length; i++) {\n      if (!target.getAttribute(attributes$$1[i])) {\n        continue;\n      }\n      var attr = target.getAttribute(attributes$$1[i]);\n      hidden.setAttribute(attributes$$1[i], attr);\n      target.removeAttribute(attributes$$1[i]);\n    }\n  };\n  DropDownBase.prototype.setZIndex = function () {\n    // this is for component wise\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n    // this is for ComboBox custom value\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n    // this is for multiselect add item\n  };\n  DropDownBase.prototype.updateDataList = function () {\n    // this is for multiselect update list items\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownBase.prototype.getDataByValue = function (value) {\n    if (!isNullOrUndefined(this.listData)) {\n      var type = this.typeOfData(this.listData).typeof;\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n          var item = _a[_i];\n          if (!isNullOrUndefined(item) && item === value) {\n            return item;\n          }\n        }\n      } else {\n        for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n          var item = _c[_b];\n          if (!isNullOrUndefined(item) && getValue(this.fields.value ? this.fields.value : 'value', item) === value) {\n            return item;\n          }\n        }\n      }\n    }\n    return null;\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownBase.prototype.destroy = function () {\n    if (document.body.contains(this.list)) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n      if (!isNullOrUndefined(this.rippleFun)) {\n        this.rippleFun();\n      }\n      detach(this.list);\n    }\n    this.liCollections = null;\n    this.ulElement = null;\n    this.list = null;\n    this.enableRtlElements = null;\n    this.rippleFun = null;\n    _super.prototype.destroy.call(this);\n  };\n  __decorate([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], DropDownBase.prototype, \"fields\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"itemTemplate\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"groupTemplate\", void 0);\n  __decorate([Property('No records found')], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n  __decorate([Property('Request failed')], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n  __decorate([Property('None')], DropDownBase.prototype, \"sortOrder\", void 0);\n  __decorate([Property([])], DropDownBase.prototype, \"dataSource\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"query\", void 0);\n  __decorate([Property('StartsWith')], DropDownBase.prototype, \"filterType\", void 0);\n  __decorate([Property(true)], DropDownBase.prototype, \"ignoreCase\", void 0);\n  __decorate([Property(1000)], DropDownBase.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], DropDownBase.prototype, \"ignoreAccent\", void 0);\n  __decorate([Property()], DropDownBase.prototype, \"locale\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionBegin\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionComplete\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionFailure\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"select\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"dataBound\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"created\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"destroyed\", void 0);\n  DropDownBase = __decorate([NotifyPropertyChanges], DropDownBase);\n  return DropDownBase;\n}(Component);\n\n/**\n * export all modules from current location\n */\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\n// don't use space in classnames\nvar dropDownListClasses = {\n  root: 'e-dropdownlist',\n  hover: dropDownBaseClasses.hover,\n  selected: dropDownBaseClasses.selected,\n  rtl: dropDownBaseClasses.rtl,\n  li: dropDownBaseClasses.li,\n  disable: dropDownBaseClasses.disabled,\n  base: dropDownBaseClasses.root,\n  focus: dropDownBaseClasses.focus,\n  content: dropDownBaseClasses.content,\n  input: 'e-input-group',\n  inputFocus: 'e-input-focus',\n  icon: 'e-input-group-icon e-ddl-icon',\n  iconAnimation: 'e-icon-anim',\n  value: 'e-input-value',\n  device: 'e-ddl-device',\n  backIcon: 'e-input-group-icon e-back-icon e-icons',\n  filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n  filterInput: 'e-input-filter',\n  filterParent: 'e-filter-parent',\n  mobileFilter: 'e-ddl-device-filter',\n  footer: 'e-ddl-footer',\n  header: 'e-ddl-header',\n  clearIcon: 'e-clear-icon',\n  clearIconHide: 'e-clear-icon-hide',\n  popupFullScreen: 'e-popup-full-page',\n  disableIcon: 'e-ddl-disable-icon',\n  hiddenElement: 'e-ddl-hidden',\n  virtualList: 'e-list-item e-virtual-list'\n};\nvar inputObject = {\n  container: null,\n  buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @__PURE__ @class */function (_super) {\n  __extends$1(DropDownList, _super);\n  /**\n   * * Constructor for creating the DropDownList component.\n   *\n   * @param {DropDownListModel} options - Specifies the DropDownList model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownList(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.skeletonCount = 32;\n    _this.isListSearched = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.itemCount = 10;\n    _this.virtualListHeight = 0;\n    _this.isVirtualScrolling = false;\n    _this.isPreventScrollAction = false;\n    _this.scrollPreStartIndex = 0;\n    _this.isScrollActionTriggered = false;\n    _this.previousStartIndex = 0;\n    _this.isMouseScrollAction = false;\n    _this.isKeyBoardAction = false;\n    _this.isUpwardScrolling = false;\n    _this.startIndex = 0;\n    _this.currentPageNumber = 0;\n    _this.pageCount = 0;\n    _this.isPreventKeyAction = false;\n    _this.generatedDataObject = {};\n    _this.virtualListInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    _this.viewPortInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    _this.selectedValueInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    _this.IsScrollerAtEnd = function () {\n      return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n    };\n    return _this;\n  }\n  /**\n   * Initialize the event handler.\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.preRender = function () {\n    this.valueTempElement = null;\n    this.element.style.opacity = '0';\n    this.initializeData();\n    _super.prototype.preRender.call(this);\n    this.activeIndex = this.index;\n    this.queryString = '';\n  };\n  DropDownList.prototype.initializeData = function () {\n    this.isPopupOpen = false;\n    this.isDocumentClick = false;\n    this.isInteracted = false;\n    this.isFilterFocus = false;\n    this.beforePopupOpen = false;\n    this.initial = true;\n    this.initRemoteRender = false;\n    this.isNotSearchList = false;\n    this.isTyped = false;\n    this.isSelected = false;\n    this.preventFocus = false;\n    this.preventAutoFill = false;\n    this.isValidKey = false;\n    this.typedString = '';\n    this.isEscapeKey = false;\n    this.isPreventBlur = false;\n    this.isTabKey = false;\n    this.actionCompleteData = {\n      isUpdated: false\n    };\n    this.actionData = {\n      isUpdated: false\n    };\n    this.prevSelectPoints = {};\n    this.isSelectCustom = false;\n    this.isDropDownClick = false;\n    this.preventAltUp = false;\n    this.isCustomFilter = false;\n    this.isSecondClick = false;\n    this.previousValue = null;\n    this.keyConfigure = {\n      tab: 'tab',\n      enter: '13',\n      escape: '27',\n      end: '35',\n      home: '36',\n      down: '40',\n      up: '38',\n      pageUp: '33',\n      pageDown: '34',\n      open: 'alt+40',\n      close: 'shift+tab',\n      hide: 'alt+38',\n      space: '32'\n    };\n    this.viewPortInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: this.itemCount\n    };\n  };\n  DropDownList.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        'zIndex': this.zIndex\n      });\n    }\n  };\n  DropDownList.prototype.requiredModules = function () {\n    var modules = [];\n    if (this.enableVirtualization) {\n      modules.push({\n        args: [this],\n        member: 'VirtualScroll'\n      });\n    }\n    return modules;\n  };\n  DropDownList.prototype.renderList = function (e, isEmptyData) {\n    _super.prototype.render.call(this, e, isEmptyData);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    this.unWireListEvents();\n    this.wireListEvents();\n  };\n  DropDownList.prototype.floatLabelChange = function () {\n    if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n      var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n      if (this.inputElement.value !== '' || this.isInteracted) {\n        classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n      } else {\n        classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n      }\n    }\n  };\n  DropDownList.prototype.resetHandler = function (e) {\n    e.preventDefault();\n    this.clearAll(e);\n    if (this.enableVirtualization) {\n      this.list.scrollTop = 0;\n      this.virtualListInfo = null;\n      this.previousStartIndex = 0;\n      this.previousEndIndex = 0;\n    }\n  };\n  DropDownList.prototype.resetFocusElement = function () {\n    this.removeHover();\n    this.removeSelection();\n    this.removeFocus();\n    this.list.scrollTop = 0;\n    if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n      var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n      if (this.enableVirtualization) {\n        li = this.liCollections[this.skeletonCount];\n      }\n      if (li) {\n        li.classList.add(dropDownListClasses.focus);\n      }\n    }\n  };\n  DropDownList.prototype.clearAll = function (e, properties) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    if (isNullOrUndefined(properties) || !isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n      this.isActive = true;\n      this.resetSelection(properties);\n    }\n    var dataItem = this.getItemData();\n    if (this.previousValue === dataItem.value) {\n      return;\n    }\n    this.onChangeEvent(e);\n    this.checkAndResetCache();\n    if (this.enableVirtualization) {\n      this.updateInitialData();\n    }\n  };\n  DropDownList.prototype.resetSelection = function (properties) {\n    if (this.list) {\n      if (!isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n        this.selectedLI = null;\n        this.actionCompleteData.isUpdated = false;\n        this.actionCompleteData.ulElement = null;\n        this.actionCompleteData.list = null;\n        this.resetList(properties.dataSource);\n      } else {\n        if (this.allowFiltering && this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) && this.actionCompleteData.list.length > 0) {\n          this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n        }\n        this.resetFocusElement();\n      }\n    }\n    if (!isNullOrUndefined(this.hiddenElement)) {\n      this.hiddenElement.innerHTML = '';\n    }\n    if (!isNullOrUndefined(this.inputElement)) {\n      this.inputElement.value = '';\n    }\n    this.value = null;\n    this.itemData = null;\n    this.text = null;\n    this.index = null;\n    this.activeIndex = null;\n    this.item = null;\n    this.queryString = '';\n    if (this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n      this.valueTempElement = null;\n    }\n    this.setSelection(null, null);\n    this.isSelectCustom = false;\n    this.updateIconState();\n    this.cloneElements();\n  };\n  DropDownList.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        if (htmlAttr === 'class') {\n          var updatedClassValue = this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ').trim();\n          if (updatedClassValue !== '') {\n            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n          }\n        } else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n          this.enabled = false;\n          this.setEnable();\n        } else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n          this.readonly = true;\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n        } else if (htmlAttr === 'aria-label') {\n          if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (this.getModuleName() === 'dropdownlist') {\n            this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n          if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            defaultAttr.push('tabindex');\n          }\n          if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder') {\n              Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n            } else {\n              this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n            }\n          } else {\n            this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        }\n      }\n    }\n    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n      this.inputWrapper.container.removeAttribute('tabindex');\n    }\n  };\n  DropDownList.prototype.getAriaAttributes = function () {\n    return {\n      'aria-disabled': 'false',\n      'role': 'combobox',\n      'aria-expanded': 'false',\n      'aria-live': 'polite',\n      'aria-labelledby': this.hiddenElement.id\n    };\n  };\n  DropDownList.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n  DropDownList.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement);\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.targetElement().setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hidePopup();\n      addClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.targetElement().tabIndex = -1;\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownList.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  DropDownList.prototype.getLocaleName = function () {\n    return 'drop-down-list';\n  };\n  DropDownList.prototype.preventTabIndex = function (element) {\n    if (this.getModuleName() === 'dropdownlist') {\n      element.tabIndex = -1;\n    }\n  };\n  DropDownList.prototype.targetElement = function () {\n    return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n  };\n  DropDownList.prototype.getNgDirective = function () {\n    return 'EJS-DROPDOWNLIST';\n  };\n  DropDownList.prototype.getElementByText = function (text) {\n    return this.getElementByValue(this.getValueByText(text));\n  };\n  DropDownList.prototype.getElementByValue = function (value) {\n    var item;\n    var listItems = this.getItems();\n    for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n      var liItem = listItems_1[_i];\n      if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n        item = liItem;\n        break;\n      }\n    }\n    return item;\n  };\n  DropDownList.prototype.initValue = function () {\n    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n    this.renderList();\n    if (this.dataSource instanceof DataManager) {\n      this.initRemoteRender = true;\n    } else {\n      this.updateValues();\n    }\n  };\n  DropDownList.prototype.updateValues = function () {\n    this.selectedValueInfo = this.viewPortInfo;\n    if (!isNullOrUndefined(this.value)) {\n      this.setSelection(this.getElementByValue(this.value), null);\n    } else if (this.text && isNullOrUndefined(this.value)) {\n      var element = this.getElementByText(this.text);\n      if (isNullOrUndefined(element)) {\n        this.setProperties({\n          text: null\n        });\n        return;\n      } else {\n        this.setSelection(element, null);\n      }\n    } else {\n      this.setSelection(this.liCollections[this.activeIndex], null);\n    }\n    this.setHiddenValue();\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n  DropDownList.prototype.onBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    var target = e.relatedTarget;\n    var currentTarget = e.target;\n    var isPreventBlur = this.isPreventBlur;\n    this.isPreventBlur = false;\n    //IE 11 - issue\n    if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) || !this.isFilterLayout() && isNullOrUndefined(target))) {\n      if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n        this.filterInput.focus();\n      } else {\n        this.targetElement().focus();\n      }\n      return;\n    }\n    if (this.isDocumentClick || !isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter)) {\n      if (!this.beforePopupOpen) {\n        this.isDocumentClick = false;\n      }\n      return;\n    }\n    if (this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement && (document.activeElement !== target || document.activeElement === target && currentTarget.classList.contains(dropDownListClasses.inputFocus)) || isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering && currentTarget !== this.inputWrapper.container || this.getModuleName() !== 'dropdownlist' && !this.inputWrapper.container.contains(target) || this.isTabKey) {\n      this.isDocumentClick = this.isPopupOpen ? true : false;\n      this.focusOutAction(e);\n      this.isTabKey = false;\n    }\n    if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n      this.isActive = false;\n      this.beforePopupOpen = false;\n    }\n  };\n  DropDownList.prototype.focusOutAction = function (e) {\n    this.isInteracted = false;\n    this.focusOut(e);\n    this.onFocusOut();\n  };\n  DropDownList.prototype.onFocusOut = function () {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isSelected) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(null);\n    }\n    this.floatLabelChange();\n    this.dispatchEvent(this.hiddenElement, 'change');\n    if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n      this.dispatchEvent(this.inputElement, 'blur');\n    }\n    if (this.inputWrapper.clearButton) {\n      addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n    }\n    this.trigger('blur');\n  };\n  DropDownList.prototype.onFocus = function (e) {\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      var args = {\n        isInteracted: e ? true : false,\n        event: e\n      };\n      this.trigger('focus', args);\n    }\n    this.updateIconState();\n  };\n  DropDownList.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement && e.target === formElement) {\n      var val = this.element.tagName === this.getNgDirective() ? null : this.inputElement.getAttribute('value');\n      this.text = val;\n    }\n  };\n  DropDownList.prototype.wireEvent = function () {\n    EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    this.bindCommonEvent();\n  };\n  DropDownList.prototype.bindCommonEvent = function () {\n    EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.mobileKeyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    }\n    this.bindClearEvent();\n  };\n  DropDownList.prototype.windowResize = function () {\n    if (this.isPopupOpen) {\n      this.popupObj.refreshPosition(this.inputWrapper.container);\n    }\n  };\n  DropDownList.prototype.bindClearEvent = function () {\n    if (this.showClearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n  DropDownList.prototype.unBindCommonEvent = function () {\n    if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n      EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n    }\n    var formElement = this.inputElement && closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule.destroy();\n    }\n    if (this.showClearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n    }\n  };\n  DropDownList.prototype.updateIconState = function () {\n    if (this.showClearButton) {\n      if (this.inputElement.value !== '' && !this.readonly) {\n        removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      } else {\n        addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      }\n    }\n  };\n  /**\n   * Event binding for list\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.wireListEvents = function () {\n    if (!isNullOrUndefined(this.list)) {\n      EventHandler.add(this.list, 'click', this.onMouseClick, this);\n      EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n  DropDownList.prototype.onSearch = function (e) {\n    if (e.charCode !== 32 && e.charCode !== 13) {\n      if (this.list === undefined) {\n        this.renderList();\n      }\n      this.searchKeyEvent = e;\n      this.onServerIncrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.onServerIncrementalSearch = function (e) {\n    if (!this.isRequested && !isNullOrUndefined(this.list) && !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n      this.incrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.onMouseClick = function (e) {\n    var target = e.target;\n    this.keyboardEvent = null;\n    var li = closest(target, '.' + dropDownBaseClasses.li);\n    if (!this.isValidLI(li)) {\n      return;\n    }\n    this.setSelection(li, e);\n    if (Browser.isDevice && this.isFilterLayout()) {\n      history.back();\n    } else {\n      var delay = 100;\n      this.closePopup(delay, e);\n    }\n  };\n  DropDownList.prototype.onMouseOver = function (e) {\n    var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n    this.setHover(currentLi);\n  };\n  DropDownList.prototype.setHover = function (li) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n      this.removeHover();\n      addClass([li], dropDownBaseClasses.hover);\n    }\n  };\n  DropDownList.prototype.onMouseLeave = function () {\n    this.removeHover();\n  };\n  DropDownList.prototype.removeHover = function () {\n    if (this.list) {\n      var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, dropDownBaseClasses.hover);\n      }\n    }\n  };\n  DropDownList.prototype.isValidLI = function (li) {\n    return li && li.hasAttribute('role') && li.getAttribute('role') === 'option';\n  };\n  DropDownList.prototype.incrementalSearch = function (e) {\n    if (this.liCollections.length > 0) {\n      var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n      if (!isNullOrUndefined(li)) {\n        this.setSelection(li, e);\n        this.setScrollPosition();\n      }\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      this.spinnerElement.innerHTML = '';\n      this.spinnerElement = null;\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] || !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n      addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  DropDownList.prototype.keyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    this.keyboardEvent = e;\n    if (this.isPreventKeyAction && this.enableVirtualization) {\n      e.preventDefault();\n    }\n    var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n    var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n    this.isEscapeKey = e.action === 'escape';\n    this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n    var isNavigation = e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown' || e.action === 'home' || e.action === 'end';\n    if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      var isTabAction = e.action === 'tab' || e.action === 'close';\n      if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n        this.searchKeyEvent = e;\n        this.renderList(e);\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (isTabAction && this.getModuleName() !== 'autocomplete' && this.isPopupOpen || e.action === 'escape') {\n        e.preventDefault();\n      }\n      this.isSelected = e.action === 'escape' ? false : this.isSelected;\n      this.isTyped = isNavigation || e.action === 'escape' ? false : this.isTyped;\n      switch (e.action) {\n        case 'down':\n        case 'up':\n          this.updateUpDownAction(e);\n          break;\n        case 'pageUp':\n          this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'pageDown':\n          this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'home':\n          this.isMouseScrollAction = true;\n          this.updateHomeEndAction(e);\n          break;\n        case 'end':\n          this.isMouseScrollAction = true;\n          this.updateHomeEndAction(e);\n          break;\n        case 'space':\n          if (this.getModuleName() === 'dropdownlist') {\n            if (!this.beforePopupOpen) {\n              this.showPopup();\n            }\n          }\n          break;\n        case 'open':\n          this.showPopup(e);\n          break;\n        case 'hide':\n          this.preventAltUp = this.isPopupOpen;\n          this.hidePopup(e);\n          this.focusDropDown(e);\n          break;\n        case 'enter':\n          this.selectCurrentItem(e);\n          break;\n        case 'tab':\n          this.selectCurrentValueOnTab(e);\n          break;\n        case 'escape':\n        case 'close':\n          if (this.isPopupOpen) {\n            this.hidePopup(e);\n            this.focusDropDown(e);\n          }\n          break;\n      }\n    }\n  };\n  DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n    if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n      this.setSelection(focusEle, e);\n      if (this.enableVirtualization) {\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n        this.list.scrollTop = selectedLiOffsetTop - this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight;\n      }\n    } else if (!isNullOrUndefined(this.liCollections)) {\n      var virtualIndex = this.activeIndex;\n      var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n      index = isVirtualKeyAction ? virtualIndex : index;\n      var startIndex = 0;\n      if (this.getModuleName() === 'autocomplete') {\n        startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n        index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n      }\n      var nextItem = void 0;\n      if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n        if (!this.enableVirtualization) {\n          nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n        } else {\n          if (!isVirtualKeyAction) {\n            nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount] : this.liCollections[index];\n            nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n          } else {\n            if (this.getModuleName() === 'autocomplete') {\n              var value = this.selectedLI.dataset.value;\n              nextItem = this.getElementByValue(value);\n            } else {\n              nextItem = this.getElementByValue(this.getItemData().value);\n            }\n          }\n        }\n      }\n      if (!isNullOrUndefined(nextItem)) {\n        this.setSelection(nextItem, e);\n      }\n    }\n    e.preventDefault();\n  };\n  DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n    if (this.getModuleName() === 'dropdownlist') {\n      var findLi = 0;\n      if (e.action === 'home') {\n        findLi = 0;\n        if (this.enableVirtualization) {\n          findLi = this.skeletonCount;\n        }\n      } else {\n        findLi = this.getItems().length - 1;\n      }\n      e.preventDefault();\n      if (this.activeIndex === findLi) {\n        if (isVirtualKeyAction) {\n          this.setSelection(this.liCollections[findLi], e);\n        }\n        return;\n      }\n      this.setSelection(this.liCollections[findLi], e);\n    }\n  };\n  DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n    if (this.getModuleName() === 'autocomplete') {\n      this.selectCurrentItem(e);\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup(e);\n        this.focusDropDown(e);\n      }\n    }\n  };\n  DropDownList.prototype.mobileKeyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isEditTextBox() && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      if (this.list === undefined && !this.isRequested) {\n        this.searchKeyEvent = e;\n        this.renderList();\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (e.action === 'enter') {\n        this.selectCurrentItem(e);\n      }\n    }\n  };\n  DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n    switch (e.action) {\n      case 'down':\n      case 'up':\n        if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n          this.updateUpDownAction(e, true);\n        }\n        break;\n      case 'pageUp':\n        var count = pageCount * 2 - 4;\n        this.activeIndex = Math.round(count);\n        this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n        e.preventDefault();\n        break;\n      case 'pageDown':\n        this.activeIndex = 1;\n        this.pageDownSelection(this.activeIndex + this.getPageCount(), e, true);\n        e.preventDefault();\n        break;\n      case 'home':\n        this.isMouseScrollAction = true;\n        this.updateHomeEndAction(e, true);\n        break;\n      case 'end':\n        this.isMouseScrollAction = true;\n        this.updateHomeEndAction(e, true);\n        break;\n    }\n    this.keyboardEvent = null;\n  };\n  DropDownList.prototype.selectCurrentItem = function (e) {\n    if (this.isPopupOpen) {\n      var li = this.list.querySelector('.' + dropDownListClasses.focus);\n      if (li) {\n        this.setSelection(li, e);\n        this.isTyped = false;\n      }\n      if (this.isSelected) {\n        this.isSelectCustom = false;\n        this.onChangeEvent(e);\n      }\n      this.hidePopup(e);\n      this.focusDropDown(e);\n    } else {\n      this.showPopup();\n    }\n  };\n  DropDownList.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  DropDownList.prototype.getPageCount = function (returnExactCount) {\n    var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n    var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n    return returnExactCount ? pageCount : Math.round(pageCount);\n  };\n  DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n    var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n    if (this.enableVirtualization && this.activeIndex == null || isVirtualKeyAction) {\n      previousItem = steps >= 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n    }\n    if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n      previousItem = this.liCollections[this.skeletonCount];\n    }\n    this.PageUpDownSelection(previousItem, event);\n  };\n  DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n    if (this.enableVirtualization) {\n      if (!isNullOrUndefined(previousItem) && (this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active') || this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus'))) {\n        this.setSelection(previousItem, event);\n      }\n    } else {\n      this.setSelection(previousItem, event);\n    }\n  };\n  DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n    var list = this.getItems();\n    var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n    if (this.enableVirtualization && this.activeIndex == null || isVirtualKeyAction) {\n      previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n    }\n    this.PageUpDownSelection(previousItem, event);\n  };\n  DropDownList.prototype.unWireEvent = function () {\n    if (!isNullOrUndefined(this.inputWrapper)) {\n      EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n      EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n      EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n      EventHandler.remove(window, 'resize', this.windowResize);\n    }\n    this.unBindCommonEvent();\n  };\n  /**\n   * Event un binding for list items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.unWireListEvents = function () {\n    if (this.list) {\n      EventHandler.remove(this.list, 'click', this.onMouseClick);\n      EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n      EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    }\n  };\n  DropDownList.prototype.checkSelector = function (id) {\n    return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n  };\n  DropDownList.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) && !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n      if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n        this.isDocumentClick = true;\n        var isActive = this.isRequested;\n        this.isInteracted = false;\n        this.hidePopup(e);\n        if (!isActive) {\n          this.onFocusOut();\n          this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n      }\n    } else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && !(this.getModuleName() === 'combobox' && !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n      this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() || document.activeElement === this.filterInput);\n      e.preventDefault();\n    }\n  };\n  DropDownList.prototype.activeStateChange = function () {\n    if (this.isDocumentClick) {\n      this.hidePopup();\n      this.onFocusOut();\n      this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n    }\n  };\n  DropDownList.prototype.focusDropDown = function (e) {\n    if (!this.initial && this.isFilterLayout()) {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.dropDownClick = function (e) {\n    if (e.which === 3 || e.button === 2) {\n      return;\n    }\n    this.keyboardEvent = null;\n    if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n      return;\n    }\n    var target = e.target;\n    if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n      e.preventDefault();\n    }\n    if (!this.readonly) {\n      if (this.isPopupOpen) {\n        this.hidePopup(e);\n        if (this.isFilterLayout()) {\n          this.focusDropDown(e);\n        }\n      } else {\n        this.focusIn(e);\n        this.floatLabelChange();\n        this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n        this.isDropDownClick = true;\n        this.showPopup(e);\n      }\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_1 = this;\n      // eslint-disable-next-line max-len\n      var duration = this.element.tagName === this.getNgDirective() && this.itemTemplate ? 500 : 100;\n      if (!this.isSecondClick) {\n        setTimeout(function () {\n          proxy_1.cloneElements();\n          proxy_1.isSecondClick = true;\n        }, duration);\n      }\n    } else {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.cloneElements = function () {\n    if (this.list) {\n      var ulElement = this.list.querySelector('ul');\n      if (ulElement) {\n        ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n        this.actionCompleteData.ulElement = ulElement;\n      }\n    }\n  };\n  DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n    var _this = this;\n    this.removeSelection();\n    li.classList.add(dropDownBaseClasses.selected);\n    this.removeHover();\n    var value = li.getAttribute('data-value') !== \"null\" ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n    var selectedData = this.getDataByValue(value);\n    if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n      var items = this.detachChanges(selectedData);\n      this.isSelected = true;\n      var eventArgs = {\n        e: e,\n        item: li,\n        itemData: items,\n        isInteracted: e ? true : false,\n        cancel: false\n      };\n      this.trigger('select', eventArgs, function (eventArgs) {\n        if (eventArgs.cancel) {\n          li.classList.remove(dropDownBaseClasses.selected);\n        } else {\n          _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n          if (isSelection) {\n            _this.setSelectOptions(li, e);\n          }\n        }\n      });\n    } else {\n      this.selectEventCallback(li, e, preventSelect, selectedData, value);\n      if (isSelection) {\n        this.setSelectOptions(li, e);\n      }\n    }\n  };\n  DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    if (this.itemData != selectedData) {\n      this.previousValue = !isNullOrUndefined(this.itemData) ? typeof this.itemData == \"object\" ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n    }\n    this.item = li;\n    this.itemData = selectedData;\n    var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (focusedItem) {\n      removeClass([focusedItem], dropDownBaseClasses.focus);\n    }\n    li.setAttribute('aria-selected', 'true');\n    if (isNullOrUndefined(value)) {\n      value = 'null';\n    }\n    this.activeIndex = this.getIndexByValue(value);\n  };\n  DropDownList.prototype.activeItem = function (li) {\n    if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n      this.removeSelection();\n      li.classList.add(dropDownBaseClasses.selected);\n      this.removeHover();\n      li.setAttribute('aria-selected', 'true');\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.setValue = function (e) {\n    var dataItem = this.getItemData();\n    if (dataItem.value === null) {\n      Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    if (this.valueTemplate && this.itemData !== null) {\n      this.setValueTemplate();\n    } else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n    }\n    var clearIcon = dropDownListClasses.clearIcon;\n    var isFilterElement = this.isFiltering() && this.filterInput && this.getModuleName() === 'combobox';\n    var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n    if (this.isFiltering() && clearElement) {\n      clearElement.style.removeProperty('visibility');\n    }\n    if (this.previousValue === dataItem.value) {\n      this.isSelected = false;\n      return true;\n    } else {\n      this.isSelected = !this.initial ? true : false;\n      this.isSelectCustom = false;\n      if (this.getModuleName() === 'dropdownlist') {\n        this.updateIconState();\n      }\n      return false;\n    }\n  };\n  DropDownList.prototype.setSelection = function (li, e) {\n    if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || this.isPopupOpen && this.isSelected && li.classList.contains(dropDownBaseClasses.selected))) {\n      this.updateSelectedItem(li, e, false, true);\n    } else {\n      this.setSelectOptions(li, e);\n      if (this.enableVirtualization) {\n        var fields = this.fields.value ? this.fields.value : '';\n        var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', this.value)));\n        if (getItem && getItem.length > 0) {\n          this.itemData = getItem[0];\n          this.setProperties({\n            'text': getItem[0].text,\n            'value': getItem[0].value\n          }, true);\n        }\n      }\n    }\n  };\n  DropDownList.prototype.setSelectOptions = function (li, e) {\n    if (this.list) {\n      this.removeHover();\n    }\n    this.previousSelectedLI = !isNullOrUndefined(this.selectedLI) ? this.selectedLI : null;\n    this.selectedLI = li;\n    if (this.setValue(e)) {\n      return;\n    }\n    if (!this.isPopupOpen && !isNullOrUndefined(li) || this.isPopupOpen && !isNullOrUndefined(e) && (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter')) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(e);\n    }\n    if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n      this.setScrollPosition(e);\n    }\n    if (Browser.info.name !== 'mozilla') {\n      if (this.targetElement()) {\n        attributes(this.targetElement(), {\n          'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id\n        });\n        this.targetElement().removeAttribute('aria-live');\n      }\n    }\n    if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n      attributes(this.targetElement(), {\n        'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n      });\n    } else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n      attributes(this.targetElement(), {\n        'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id\n      });\n    }\n  };\n  DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n    var checkTemplate = false;\n    if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n      try {\n        checkTemplate = document.querySelectorAll(dropdownTemplate).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownList.prototype.setValueTemplate = function () {\n    var compiledString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['valueTemplate']);\n      if (this.valueTempElement) {\n        detach(this.valueTempElement);\n        this.inputElement.style.display = 'block';\n        this.valueTempElement = null;\n      }\n    }\n    if (!this.valueTempElement) {\n      this.valueTempElement = this.createElement('span', {\n        className: dropDownListClasses.value\n      });\n      this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n      this.inputElement.style.display = 'none';\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.valueTempElement.innerHTML = '';\n    }\n    var valuecheck = this.dropdownCompiler(this.valueTemplate);\n    if (typeof this.valueTemplate !== 'function' && valuecheck) {\n      compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n    } else {\n      compiledString = compile(this.valueTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n    if (valueCompTemp && valueCompTemp.length > 0) {\n      append(valueCompTemp, this.valueTempElement);\n    }\n    this.renderReactTemplates();\n  };\n  DropDownList.prototype.removeSelection = function () {\n    if (this.list) {\n      var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n      if (selectedItems.length) {\n        removeClass(selectedItems, dropDownBaseClasses.selected);\n        selectedItems[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n  DropDownList.prototype.getItemData = function () {\n    var fields = this.fields;\n    var dataItem = null;\n    dataItem = this.itemData;\n    var dataValue;\n    var dataText;\n    if (!isNullOrUndefined(dataItem)) {\n      dataValue = getValue(fields.value, dataItem);\n      dataText = getValue(fields.text, dataItem);\n    }\n    var value = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataValue : dataItem;\n    var text = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataText : dataItem;\n    return {\n      value: value,\n      text: text\n    };\n  };\n  /**\n   * To trigger the change event for list.\n   *\n   * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n   * @returns {void}\n   */\n  DropDownList.prototype.onChangeEvent = function (eve) {\n    var dataItem = this.getItemData();\n    var index = this.isSelectCustom ? null : this.activeIndex;\n    this.setProperties({\n      'index': index,\n      'text': dataItem.text,\n      'value': dataItem.value\n    }, true);\n    this.detachChangeEvent(eve);\n  };\n  DropDownList.prototype.detachChanges = function (value) {\n    var items;\n    if (typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number') {\n      items = Object.defineProperties({}, {\n        value: {\n          value: value,\n          enumerable: true\n        },\n        text: {\n          value: value,\n          enumerable: true\n        }\n      });\n    } else {\n      items = value;\n    }\n    return items;\n  };\n  DropDownList.prototype.detachChangeEvent = function (eve) {\n    this.isSelected = false;\n    this.previousValue = this.value;\n    this.activeIndex = this.index;\n    this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n    if (!this.initial) {\n      var items = this.detachChanges(this.itemData);\n      var preItems = void 0;\n      if (typeof this.previousItemData === 'string' || typeof this.previousItemData === 'boolean' || typeof this.previousItemData === 'number') {\n        preItems = Object.defineProperties({}, {\n          value: {\n            value: this.previousItemData,\n            enumerable: true\n          },\n          text: {\n            value: this.previousItemData,\n            enumerable: true\n          }\n        });\n      } else {\n        preItems = this.previousItemData;\n      }\n      this.setHiddenValue();\n      var eventArgs = {\n        e: eve,\n        item: this.item,\n        itemData: items,\n        previousItem: this.previousSelectedLI,\n        previousItemData: preItems,\n        isInteracted: eve ? true : false,\n        value: this.value,\n        element: this.element,\n        event: eve\n      };\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', eventArgs);\n      }\n    }\n    if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n      removeClass([this.inputWrapper.container], 'e-valid-input');\n    }\n  };\n  DropDownList.prototype.setHiddenValue = function () {\n    if (!isNullOrUndefined(this.value)) {\n      if (this.hiddenElement.querySelector('option')) {\n        var selectedElement = this.hiddenElement.querySelector('option');\n        selectedElement.textContent = this.text;\n        selectedElement.setAttribute('value', this.value.toString());\n      } else {\n        if (!isNullOrUndefined(this.hiddenElement)) {\n          this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n          var selectedElement = this.hiddenElement.querySelector('option');\n          selectedElement.setAttribute('value', this.value.toString());\n        }\n      }\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /**\n   * Filter bar implementation\n   *\n   * @param {KeyboardEventArgs} e - Specifies the event arguments.\n   * @returns {void}\n   */\n  DropDownList.prototype.onFilterUp = function (e) {\n    if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n      this.isValidKey = false;\n      switch (e.keyCode) {\n        case 38: //up arrow\n        case 40:\n          //down arrow\n          if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else {\n            this.preventAutoFill = false;\n          }\n          this.preventAltUp = false;\n          if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), {\n              'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n            });\n          }\n          e.preventDefault();\n          break;\n        case 46: //delete\n        case 8:\n          //backspace\n          this.typedString = this.filterInput.value;\n          if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '') {\n            if (this.list) {\n              this.resetFocusElement();\n            }\n            this.activeIndex = null;\n            if (this.getModuleName() !== 'dropdownlist') {\n              this.preventAutoFill = true;\n              this.searchLists(e);\n              if (this.getModuleName() === 'autocomplete') {\n                this.hidePopup();\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        default:\n          this.typedString = this.filterInput.value;\n          this.preventAutoFill = false;\n          this.searchLists(e);\n          if (this.enableVirtualization) {\n            this.getFilteringSkeletonCount();\n          }\n          break;\n      }\n    } else {\n      this.isValidKey = false;\n    }\n  };\n  DropDownList.prototype.getFilteringSkeletonCount = function () {\n    var difference = this.dataCount - this.viewPortInfo.endIndex;\n    var currentSkeletonCount = this.skeletonCount;\n    this.getSkeletonCount(true);\n    this.skeletonCount = this.dataCount > this.itemCount * 2 ? this.skeletonCount : difference > this.skeletonCount ? this.skeletonCount : difference > 0 ? difference : 0;\n    if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n      var isSkeletonCountChange = currentSkeletonCount !== this.skeletonCount;\n      if (currentSkeletonCount !== this.skeletonCount) {\n        this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n      } else {\n        this.UpdateSkeleton();\n      }\n      this.liCollections = this.list.querySelectorAll('.e-list-item');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n    }\n  };\n  DropDownList.prototype.getSkeletonCount = function (retainSkeleton) {\n    this.virtualListHeight = this.listHeight != null ? parseInt(this.listHeight, 10) : this.virtualListHeight;\n    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n    this.skeletonCount = actualCount * 2 < this.itemCount ? this.itemCount : actualCount * 2;\n    this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n    this.skeletonCount = Math.floor(this.skeletonCount / 2) + 2;\n  };\n  DropDownList.prototype.onFilterDown = function (e) {\n    switch (e.keyCode) {\n      case 13:\n        //enter\n        break;\n      case 40: //down arrow\n      case 38:\n        //up arrow\n        this.queryString = this.filterInput.value;\n        e.preventDefault();\n        break;\n      case 9:\n        //tab\n        if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n          e.preventDefault();\n        }\n        break;\n      default:\n        this.prevSelectPoints = this.getSelectionPoints();\n        this.queryString = this.filterInput.value;\n        break;\n    }\n  };\n  DropDownList.prototype.removeFillSelection = function () {\n    if (this.isInteracted) {\n      var selection = this.getSelectionPoints();\n      this.inputElement.setSelectionRange(selection.end, selection.end);\n    }\n  };\n  DropDownList.prototype.getQuery = function (query) {\n    var filterQuery;\n    if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n      filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n      var filterType = this.typedString === '' ? 'contains' : this.filterType;\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      } else {\n        var fields = this.fields.text ? this.fields.text : '';\n        filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      }\n    } else {\n      filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    }\n    if (this.enableVirtualization && this.viewPortInfo.endIndex != 0) {\n      var takeValue = this.getTakeValue();\n      if (this.allowFiltering) {\n        filterQuery.skip(this.virtualItemStartIndex);\n      }\n      filterQuery.take(takeValue);\n      filterQuery.requiresCount();\n    }\n    return filterQuery;\n  };\n  DropDownList.prototype.getSelectionPoints = function () {\n    var input = this.inputElement;\n    return {\n      start: Math.abs(input.selectionStart),\n      end: Math.abs(input.selectionEnd)\n    };\n  };\n  DropDownList.prototype.searchLists = function (e) {\n    var _this = this;\n    this.isTyped = true;\n    this.activeIndex = null;\n    this.isListSearched = true;\n    if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n      var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n    }\n    this.isDataFetched = false;\n    if (this.isFiltering()) {\n      this.checkAndResetCache();\n      var eventArgs_1 = {\n        preventDefaultAction: false,\n        text: this.filterInput.value,\n        updateData: function (dataSource, query, fields) {\n          if (eventArgs_1.cancel) {\n            return;\n          }\n          _this.isCustomFilter = true;\n          _this.filteringAction(dataSource, query, fields);\n        },\n        baseEventArgs: e,\n        cancel: false\n      };\n      this.trigger('filtering', eventArgs_1, function (eventArgs) {\n        if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n          _this.filteringAction(_this.dataSource, null, _this.fields);\n        }\n      });\n    }\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n   * @deprecated\n   */\n  DropDownList.prototype.filter = function (dataSource, query, fields) {\n    this.isCustomFilter = true;\n    this.filteringAction(dataSource, query, fields);\n  };\n  DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n    if (!isNullOrUndefined(this.filterInput)) {\n      this.beforePopupOpen = !this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '' ? false : true;\n      var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n      if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n        this.actionCompleteData.isUpdated = false;\n        this.isTyped = false;\n        if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n          if (this.enableVirtualization) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            this.resetList(dataSource, fields, query);\n            if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n              if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                this.list.appendChild(this.createElement('div', {\n                  className: 'e-virtual-ddl-content',\n                  styles: this.getTransformValues()\n                })).appendChild(this.list.querySelector('.e-list-parent'));\n              }\n              if (!this.list.querySelector('.e-virtual-ddl')) {\n                var virualElement = this.createElement('div', {\n                  id: this.element.id + '_popup',\n                  className: 'e-virtual-ddl',\n                  styles: this.GetVirtualTrackHeight()\n                });\n                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n              }\n            }\n          }\n          this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n        }\n        this.isTyped = true;\n        if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n          this.focusIndexItem();\n          this.setScrollPosition();\n        }\n        this.isNotSearchList = true;\n      } else {\n        this.isNotSearchList = false;\n        query = this.filterInput.value.trim() === '' ? null : query;\n        if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n          this.isPreventScrollAction = true;\n          this.list.scrollTop = 0;\n          this.previousStartIndex = 0;\n          this.virtualListInfo = null;\n        }\n        this.resetList(dataSource, fields, query);\n        if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n          if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n              className: 'e-virtual-ddl-content',\n              styles: this.getTransformValues()\n            })).appendChild(this.list.querySelector('.e-list-parent'));\n          }\n          if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = this.createElement('div', {\n              id: this.element.id + '_popup',\n              className: 'e-virtual-ddl',\n              styles: this.GetVirtualTrackHeight()\n            });\n            document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n          }\n        }\n      }\n      if (this.enableVirtualization) {\n        this.getFilteringSkeletonCount();\n      }\n      this.renderReactTemplates();\n    }\n  };\n  DropDownList.prototype.setSearchBox = function (popupElement) {\n    if (this.isFiltering()) {\n      var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ? popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n        className: dropDownListClasses.filterParent\n      });\n      this.filterInput = this.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: dropDownListClasses.filterInput\n      });\n      this.element.parentNode.insertBefore(this.filterInput, this.element);\n      var backIcon = false;\n      if (Browser.isDevice) {\n        backIcon = true;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n        properties: {\n          placeholder: this.filterBarPlaceholder\n        }\n      }, this.createElement);\n      if (!isNullOrUndefined(this.cssClass)) {\n        if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], parentElement);\n      prepend([parentElement], popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      if (!Browser.isDevice) {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.keyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      } else {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.mobileKeyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      }\n      EventHandler.add(this.filterInput, 'input', this.onInput, this);\n      EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n      EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n      return this.filterInputObj;\n    } else {\n      return inputObject;\n    }\n  };\n  DropDownList.prototype.onInput = function (e) {\n    this.isValidKey = true;\n    if (this.getModuleName() === 'combobox') {\n      this.updateIconState();\n    }\n    // For filtering works in mobile firefox.\n    if (Browser.isDevice && Browser.info.name === 'mozilla') {\n      this.typedString = this.filterInput.value;\n      this.preventAutoFill = true;\n      this.searchLists(e);\n    }\n  };\n  DropDownList.prototype.pasteHandler = function (e) {\n    var _this = this;\n    setTimeout(function () {\n      _this.typedString = _this.filterInput.value;\n      _this.searchLists(e);\n    });\n  };\n  DropDownList.prototype.onActionFailure = function (e) {\n    _super.prototype.onActionFailure.call(this, e);\n    if (this.beforePopupOpen) {\n      this.renderPopup();\n    }\n  };\n  DropDownList.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n    var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n    var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n    if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.enableVirtualization) {\n      var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n      for (var i = 0; i < totalSkeletonCount; i++) {\n        var liElement = this.createElement('li', {\n          className: dropDownListClasses.virtualList,\n          styles: 'overflow: inherit'\n        });\n        if (this.enableVirtualization && this.itemTemplate) {\n          liElement.style.height = this.listItemHeight + 'px';\n        }\n        var skeleton = new Skeleton({\n          shape: \"Text\",\n          height: \"10px\",\n          width: \"95%\",\n          cssClass: \"e-skeleton-text\"\n        });\n        skeleton.appendTo(this.createElement('div'));\n        liElement.appendChild(skeleton.element);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n      }\n    }\n  };\n  DropDownList.prototype.getTakeValue = function () {\n    return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    var _this = this;\n    if (this.dataSource instanceof DataManager && !isNullOrUndefined(e)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = e.count;\n    }\n    if (this.isNotSearchList && !this.enableVirtualization) {\n      this.isNotSearchList = false;\n      return;\n    }\n    var tempItemCount = this.itemCount;\n    if (this.isActive || !isNullOrUndefined(ulElement)) {\n      var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n      _super.prototype.onActionComplete.call(this, ulElement, list, e);\n      this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < this.itemCount * 2 ? 0 : this.skeletonCount;\n      this.updateSelectElementData(this.allowFiltering);\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n        this.isRequested = false;\n        this.keyActionHandler(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n        this.incrementalSearch(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      if (!this.enableVirtualization) {\n        this.list.scrollTop = 0;\n      }\n      if (!isNullOrUndefined(ulElement)) {\n        attributes(ulElement, {\n          'id': this.element.id + '_options',\n          'role': 'listbox',\n          'aria-hidden': 'false'\n        });\n      }\n      if (this.initRemoteRender) {\n        this.initial = true;\n        this.activeIndex = this.index;\n        this.initRemoteRender = false;\n        if (this.value && this.dataSource instanceof DataManager) {\n          var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n          var fieldValue_1 = this.fields.value.split('.');\n          var checkVal = list.some(function (x) {\n            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ? _this.checkFieldValue(x, fieldValue_1) === _this.value : x[checkField_1] === _this.value;\n          });\n          if (!checkVal) {\n            this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', this.value))).then(function (e) {\n              if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n                _this.updateValues();\n              } else {\n                _this.updateValues();\n              }\n            });\n          } else {\n            this.updateValues();\n          }\n        } else {\n          this.updateValues();\n        }\n        this.initial = false;\n      } else if (this.getModuleName() === 'autocomplete' && this.value) {\n        this.setInputValue();\n      }\n      if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n        if (!this.actionCompleteData.isUpdated || !this.isCustomFilter && !this.isFilterFocus || isNullOrUndefined(this.itemData) && this.allowFiltering && (this.dataSource instanceof DataManager || !isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) && this.dataSource.length !== 0)) {\n          if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n            setTimeout(function () {\n              _this.updateActionCompleteDataValues(ulElement, list);\n            }, 0);\n          } else {\n            this.updateActionCompleteDataValues(ulElement, list);\n          }\n        }\n        if (!this.enableVirtualization) {\n          this.addNewItem(list, selectedItem);\n        }\n        if (!isNullOrUndefined(this.itemData) || isNullOrUndefined(this.itemData) && this.enableVirtualization) {\n          this.focusIndexItem();\n        }\n        if (this.enableVirtualization) {\n          this.updateActionCompleteDataValues(ulElement, list);\n        }\n      } else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n      } else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n        this.activeIndex = this.skeletonCount;\n      }\n      if (this.beforePopupOpen) {\n        this.renderPopup(e);\n        if (this.enableVirtualization) {\n          if (!this.list.querySelector('.e-virtual-list')) {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n          }\n        }\n        if (this.enableVirtualization && tempItemCount != this.itemCount) {\n          this.resetList(this.dataSource, this.fields);\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var checkField = list;\n    fieldValue.forEach(function (value) {\n      checkField = checkField[value];\n    });\n    return checkField;\n  };\n  DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n    this.actionCompleteData = {\n      ulElement: ulElement.cloneNode(true),\n      list: list,\n      isUpdated: true\n    };\n    if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.addNewItem = function (listData, newElement) {\n    var _this = this;\n    if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n      var value_1 = this.getItemData().value;\n      var isExist = listData.some(function (data) {\n        return (typeof data === 'string' || typeof data === 'number') && data === value_1 || getValue(_this.fields.value, data) === value_1;\n      });\n      if (!isExist) {\n        this.addItem(this.itemData);\n      }\n    }\n  };\n  DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n    var _this = this;\n    if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n      if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n        setTimeout(function () {\n          _this.actionCompleteDataUpdate(li, item, index);\n        }, 0);\n      } else {\n        this.actionCompleteDataUpdate(li, item, index);\n      }\n    }\n  };\n  DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n    if (index !== null) {\n      this.actionCompleteData.ulElement.insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n    } else {\n      this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n    }\n    if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n      this.actionCompleteData.list.push(item);\n    }\n  };\n  DropDownList.prototype.focusIndexItem = function () {\n    var value = this.getItemData().value;\n    this.activeIndex = this.getIndexByValue(value);\n    var element = this.findListElement(this.list, 'li', 'data-value', value);\n    this.selectedLI = element;\n    this.activeItem(element);\n    if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n      this.removeFocus();\n    }\n  };\n  DropDownList.prototype.updateSelection = function () {\n    var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    if (selectedItem) {\n      this.setProperties({\n        'index': this.getIndexByValue(selectedItem.getAttribute('data-value'))\n      });\n      this.activeIndex = this.index;\n    } else {\n      this.removeFocus();\n      this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.updateSelectionList = function () {\n    var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n    if (!selectedItem && !isNullOrUndefined(this.value)) {\n      var findEle = this.findListElement(this.list, 'li', 'data-value', this.value);\n      if (findEle) {\n        findEle.classList.add('e-active');\n      }\n    }\n  };\n  DropDownList.prototype.checkAndResetCache = function () {\n    if (this.enableVirtualization) {\n      this.generatedDataObject = {};\n      this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n      this.viewPortInfo = {\n        currentPageNumber: null,\n        direction: null,\n        sentinelInfo: {},\n        offsets: {},\n        startIndex: 0,\n        endIndex: this.itemCount\n      };\n      this.selectedValueInfo = null;\n    }\n  };\n  DropDownList.prototype.removeFocus = function () {\n    var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n    if (highlightedItem && highlightedItem.length) {\n      removeClass(highlightedItem, dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.getTransformValues = function () {\n    var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n    translateY = translateY - this.skeletonCount * this.listItemHeight;\n    translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 ? 0 : translateY;\n    var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n    return styleText;\n  };\n  DropDownList.prototype.GetVirtualTrackHeight = function () {\n    var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n    var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n    return heightDimension;\n  };\n  DropDownList.prototype.renderPopup = function (e) {\n    var _this = this;\n    if (this.popupObj && document.body.contains(this.popupObj.element)) {\n      this.refreshPopup();\n      return;\n    }\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        var popupEle = _this.createElement('div', {\n          id: _this.element.id + '_popup',\n          className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n        });\n        var searchBox = _this.setSearchBox(popupEle);\n        _this.listHeight = formatUnit(_this.popupHeight);\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate(popupEle);\n        }\n        append([_this.list], popupEle);\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate(popupEle);\n        }\n        document.body.appendChild(popupEle);\n        if (_this.enableVirtualization && _this.itemTemplate) {\n          var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n          _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) : 0;\n        }\n        if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n          if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n            _this.list.appendChild(_this.createElement('div', {\n              className: 'e-virtual-ddl-content',\n              styles: _this.getTransformValues()\n            })).appendChild(_this.list.querySelector('.e-list-parent'));\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n          }\n          _this.UpdateSkeleton();\n          _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          _this.virtualItemCount = _this.itemCount;\n          if (!_this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = _this.createElement('div', {\n              id: _this.element.id + '_popup',\n              className: 'e-virtual-ddl',\n              styles: _this.GetVirtualTrackHeight()\n            });\n            popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n          }\n        }\n        popupEle.style.visibility = 'hidden';\n        if (_this.popupHeight !== 'auto') {\n          _this.searchBoxHeight = 0;\n          if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n            _this.searchBoxHeight = searchBox.container.parentElement.getBoundingClientRect().height;\n            _this.listHeight = (parseInt(_this.listHeight, 10) - _this.searchBoxHeight).toString() + 'px';\n          }\n          if (_this.headerTemplate) {\n            _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n            var height = Math.round(_this.header.getBoundingClientRect().height);\n            _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          if (_this.footerTemplate) {\n            _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n            var height = Math.round(_this.footer.getBoundingClientRect().height);\n            _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          _this.list.style.maxHeight = (parseInt(_this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n          popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n        } else {\n          popupEle.style.height = 'auto';\n        }\n        var offsetValue = 0;\n        var left = void 0;\n        _this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(_this.selectedLI) && !isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0) {\n          _this.setScrollPosition();\n        } else if (_this.enableVirtualization) {\n          _this.setScrollPosition();\n        } else {\n          _this.list.scrollTop = 0;\n        }\n        if (Browser.isDevice && !_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' || _this.isDropDownClick && _this.getModuleName() === 'combobox')) {\n          offsetValue = _this.getOffsetValue(popupEle);\n          var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n          if (!isNullOrUndefined(_this.inputElement)) {\n            left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n          }\n        }\n        _this.getFocusElement();\n        _this.createPopup(popupEle, offsetValue, left);\n        _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n        _this.checkCollision(popupEle);\n        if (Browser.isDevice) {\n          _this.popupObj.element.classList.add(dropDownListClasses.device);\n          if (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox' && !_this.allowFiltering && _this.isDropDownClick) {\n            _this.popupObj.collision = {\n              X: 'fit',\n              Y: 'fit'\n            };\n          }\n          if (_this.isFilterLayout()) {\n            _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n            _this.popupObj.position = {\n              X: 0,\n              Y: 0\n            };\n            _this.popupObj.dataBind();\n            attributes(_this.popupObj.element, {\n              style: 'left:0px;right:0px;top:0px;bottom:0px;'\n            });\n            addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n            _this.setSearchBoxPosition();\n            _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n            _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n            EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n            EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n          }\n        }\n        popupEle.style.visibility = 'visible';\n        addClass([popupEle], 'e-popup-close');\n        var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n        for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n          var element = scrollParentElements_1[_i];\n          EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n        }\n        if (!isNullOrUndefined(_this.list)) {\n          _this.unWireListEvents();\n          _this.wireListEvents();\n        }\n        _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n        if (_this.enableVirtualization) {\n          _this.notify(\"bindScrollEvent\", {\n            module: \"VirtualScroll\",\n            component: _this.getModuleName(),\n            enable: _this.enableVirtualization\n          });\n          setTimeout(function () {\n            if (_this.value) {\n              _this.updateSelectionList();\n              if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n              } else {\n                _this.scrollBottom(true, true);\n              }\n            }\n          }, 5);\n        }\n        attributes(_this.targetElement(), {\n          'aria-expanded': 'true',\n          'aria-owns': _this.element.id + '_options'\n        });\n        _this.inputElement.setAttribute('aria-expanded', 'true');\n        var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n        addClass([inputParent], [dropDownListClasses.inputFocus]);\n        var animModel = {\n          name: 'FadeIn',\n          duration: 100\n        };\n        _this.beforePopupOpen = true;\n        var popupInstance = _this.popupObj;\n        var eventArgs = {\n          popup: popupInstance,\n          event: e,\n          cancel: false,\n          animation: animModel\n        };\n        _this.trigger('open', eventArgs, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            if (!isNullOrUndefined(_this.inputWrapper)) {\n              addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n            }\n            _this.renderReactTemplates();\n            if (!isNullOrUndefined(_this.popupObj)) {\n              _this.popupObj.show(new Animation(eventArgs.animation), _this.zIndex === 1000 ? _this.element : null);\n            }\n          } else {\n            _this.beforePopupOpen = false;\n            _this.destroyPopup();\n          }\n        });\n      } else {\n        _this.beforePopupOpen = false;\n      }\n    });\n  };\n  DropDownList.prototype.checkCollision = function (popupEle) {\n    if (!Browser.isDevice || Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick)) {\n      var collision = isCollide(popupEle);\n      if (collision.length > 0) {\n        popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n      }\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.getOffsetValue = function (popupEle) {\n    var popupStyles = getComputedStyle(popupEle);\n    var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n    var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n    return this.setPopupPosition(borderTop + borderBottom);\n  };\n  DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n    var _this = this;\n    this.popupObj = new Popup(element, {\n      width: this.setWidth(),\n      targetType: 'relative',\n      relateTo: this.inputWrapper.container,\n      collision: this.enableRtl ? {\n        X: 'fit',\n        Y: 'flip'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      offsetY: offsetValue,\n      enableRtl: this.enableRtl,\n      offsetX: left,\n      position: this.enableRtl ? {\n        X: 'right',\n        Y: 'bottom'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      zIndex: this.zIndex,\n      close: function () {\n        if (!_this.isDocumentClick) {\n          _this.focusDropDown();\n        }\n        // eslint-disable-next-line\n        if (_this.isReact) {\n          _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n        }\n        _this.isNotSearchList = false;\n        _this.isDocumentClick = false;\n        _this.destroyPopup();\n        if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n          _this.isActive = true;\n          _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n        }\n      },\n      open: function () {\n        EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n        _this.isPopupOpen = true;\n        var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement && _this.actionCompleteData.ulElement.querySelector('li');\n        var ulElement = _this.list.querySelector('ul li');\n        if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n          attributes(_this.targetElement(), {\n            'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id\n          });\n        } else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n          attributes(_this.targetElement(), {\n            'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id\n          });\n        }\n        if (_this.isFiltering() && _this.itemTemplate && _this.element.tagName === _this.getNgDirective() && actionList && ulElement && actionList.textContent !== ulElement.textContent && _this.element.tagName !== 'EJS-COMBOBOX') {\n          _this.cloneElements();\n        }\n        if (_this.isFilterLayout()) {\n          removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n          _this.isFilterFocus = true;\n          _this.filterInput.focus();\n          if (_this.inputWrapper.clearButton) {\n            addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n          }\n        }\n        _this.activeStateChange();\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hidePopup();\n        }\n      }\n    });\n  };\n  DropDownList.prototype.isEmptyList = function () {\n    return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n  };\n  DropDownList.prototype.getFocusElement = function () {\n    // combo-box used this method\n  };\n  DropDownList.prototype.isFilterLayout = function () {\n    return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n  };\n  DropDownList.prototype.scrollHandler = function () {\n    if (Browser.isDevice && (this.getModuleName() === 'dropdownlist' && !this.isFilterLayout() || this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick)) {\n      this.hidePopup();\n    }\n  };\n  DropDownList.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    this.popupObj.element.style.maxHeight = '100%';\n    this.popupObj.element.style.width = '100%';\n    this.list.style.maxHeight = window.innerHeight - searchBoxHeight + 'px';\n    this.list.style.height = window.innerHeight - searchBoxHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  DropDownList.prototype.setPopupPosition = function (border) {\n    var offsetValue;\n    var popupOffset = border;\n    var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n    var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n    var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n    var liHeight = firstItem.getBoundingClientRect().height;\n    this.listItemHeight = liHeight;\n    var listHeight = this.list.offsetHeight / 2;\n    var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n    var lastItemOffsetValue = lastItem.offsetTop;\n    if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n      var count = this.list.offsetHeight / liHeight;\n      var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n      offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n      this.list.scrollTop = selectedLI.offsetTop;\n    } else if (height > listHeight && !this.enableVirtualization) {\n      offsetValue = listHeight - liHeight / 2;\n      this.list.scrollTop = height - listHeight + liHeight / 2;\n    } else {\n      offsetValue = height;\n    }\n    var inputHeight = this.inputWrapper.container.offsetHeight;\n    offsetValue = offsetValue + liHeight + popupOffset - (liHeight - inputHeight) / 2;\n    return -offsetValue;\n  };\n  DropDownList.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n    if (Browser.isDevice && !this.allowFiltering && (this.getModuleName() === 'dropdownlist' || this.isDropDownClick && this.getModuleName() === 'combobox')) {\n      var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n      width = parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2 + 'px';\n    }\n    return width;\n  };\n  DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n    if (isInitialSelection === void 0) {\n      isInitialSelection = false;\n    }\n    if (keyAction === void 0) {\n      keyAction = null;\n    }\n    if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n      this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n      if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n        this.selectedLI = this.liCollections[this.skeletonCount];\n      }\n    }\n    if (!isNullOrUndefined(this.selectedLI)) {\n      this.isUpwardScrolling = false;\n      var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n      var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n      var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n      var currentOffset = this.list.offsetHeight;\n      var nextBottom = selectedLiOffsetTop - virtualListCount * this.selectedLI.offsetHeight + this.selectedLI.offsetHeight - this.list.scrollTop;\n      var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n      var isScrollerCHanged = false;\n      nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n      var boxRange = selectedLiOffsetTop - virtualListCount * this.selectedLI.offsetHeight + this.selectedLI.offsetHeight - this.list.scrollTop;\n      boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n      if (this.activeIndex === 0 && !this.enableVirtualization) {\n        this.list.scrollTop = 0;\n        isScrollerCHanged = this.isKeyBoardAction;\n      } else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n        var liCount = keyAction == \"pageDown\" ? this.getPageCount() - 2 : 1;\n        if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n          if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction != \"end\" && !this.isVirtualScrolling) {\n            this.isPreventKeyAction = true;\n            if (this.enableVirtualization && this.itemTemplate) {\n              this.list.scrollTop += nextOffset;\n            } else {\n              this.list.scrollTop += this.selectedLI.offsetHeight * liCount;\n            }\n            this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n          } else if (this.enableVirtualization && keyAction == \"end\") {\n            this.isPreventKeyAction = false;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n            this.list.scrollTop = this.list.scrollHeight;\n          } else {\n            if (keyAction == \"pageDown\" && this.enableVirtualization && !this.isVirtualScrolling) {\n              this.isPreventKeyAction = false;\n              this.isKeyBoardAction = false;\n              this.isPreventScrollAction = false;\n              nextOffset = nextOffset + this.selectedLI.offsetHeight * liCount;\n            }\n            this.list.scrollTop = nextOffset;\n          }\n        } else {\n          this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n        }\n        isScrollerCHanged = this.isKeyBoardAction;\n      }\n      this.isKeyBoardAction = isScrollerCHanged;\n    }\n  };\n  DropDownList.prototype.scrollTop = function (keyAction) {\n    if (keyAction === void 0) {\n      keyAction = null;\n    }\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n      var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n      var nextOffset = selectedLiOffsetTop - virtualListCount * this.selectedLI.offsetHeight - this.list.scrollTop;\n      var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n      nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n      var boxRange = selectedLiOffsetTop - virtualListCount * this.selectedLI.offsetHeight + this.selectedLI.offsetHeight - this.list.scrollTop;\n      var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n      if (this.activeIndex === 0 && !this.enableVirtualization) {\n        this.list.scrollTop = 0;\n      } else if (nextOffset < 0 || isPageUpKeyAction) {\n        var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n        var liCount = keyAction == \"pageUp\" ? this.getPageCount() - 2 : 1;\n        if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction != \"home\" && !this.isVirtualScrolling) {\n          this.isUpwardScrolling = true;\n          this.isPreventKeyAction = true;\n          this.list.scrollTop -= this.selectedLI.offsetHeight * liCount;\n          this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n          this.isKeyBoardAction = false;\n          this.isPreventScrollAction = false;\n        } else if (this.enableVirtualization && keyAction == \"home\") {\n          this.isPreventScrollAction = false;\n          this.isPreventKeyAction = true;\n          this.isKeyBoardAction = false;\n          this.list.scrollTo(0, 0);\n        } else {\n          if (keyAction == \"pageUp\" && this.enableVirtualization && !this.isVirtualScrolling) {\n            this.isPreventKeyAction = false;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n            nextOffset = nextOffset - this.selectedLI.offsetHeight * liCount;\n          }\n          this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n      } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0);\n      }\n    }\n  };\n  DropDownList.prototype.isEditTextBox = function () {\n    return false;\n  };\n  DropDownList.prototype.isFiltering = function () {\n    return this.allowFiltering;\n  };\n  DropDownList.prototype.isPopupButton = function () {\n    return true;\n  };\n  DropDownList.prototype.setScrollPosition = function (e) {\n    this.isPreventScrollAction = true;\n    if (!isNullOrUndefined(e)) {\n      switch (e.action) {\n        case 'pageDown':\n        case 'down':\n        case 'end':\n          this.isKeyBoardAction = true;\n          this.scrollBottom(false, false, e.action);\n          break;\n        default:\n          this.isKeyBoardAction = e.action == 'up' || e.action == 'pageUp' || e.action == 'open';\n          this.scrollTop(e.action);\n          break;\n      }\n    } else {\n      this.scrollBottom(true);\n    }\n    this.isKeyBoardAction = false;\n  };\n  DropDownList.prototype.clearText = function () {\n    this.filterInput.value = this.typedString = '';\n    this.searchLists(null);\n    if (this.enableVirtualization) {\n      this.list.scrollTop = 0;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n      }\n      this.getSkeletonCount();\n      this.UpdateSkeleton();\n      this.liCollections = this.list.querySelectorAll('.e-list-item');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n      }\n    }\n  };\n  DropDownList.prototype.setEleWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.inputWrapper.container.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.inputWrapper.container.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n  DropDownList.prototype.closePopup = function (delay, e) {\n    var _this = this;\n    var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n    var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n    this.isTyped = false;\n    if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n      return;\n    }\n    this.keyboardEvent = null;\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.isActive = false;\n    this.filterInputObj = null;\n    this.isDropDownClick = false;\n    this.preventAutoFill = false;\n    var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n    for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n      var element = scrollableParentElements_1[_i];\n      EventHandler.remove(element, 'scroll', this.scrollHandler);\n    }\n    if (Browser.isDevice && this.isFilterLayout()) {\n      removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n    }\n    if (this.isFilterLayout()) {\n      if (!Browser.isDevice) {\n        this.searchKeyModule.destroy();\n        if (this.clearIconElement) {\n          EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n        }\n      }\n      if (this.backIconElement) {\n        EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n        EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n      }\n      if (!isNullOrUndefined(this.filterInput)) {\n        EventHandler.remove(this.filterInput, 'input', this.onInput);\n        EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n        EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n        EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n        EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n      }\n      this.filterInput = null;\n    }\n    attributes(this.targetElement(), {\n      'aria-expanded': 'false'\n    });\n    this.inputElement.setAttribute('aria-expanded', 'false');\n    this.targetElement().removeAttribute('aria-owns');\n    this.targetElement().removeAttribute('aria-activedescendant');\n    this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n    if (this.isFiltering()) {\n      this.actionCompleteData.isUpdated = false;\n    }\n    if (this.enableVirtualization) {\n      if (this.value == null || this.isTyped) {\n        this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString != \"\" || this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString != \"\") {\n          this.checkAndResetCache();\n        }\n      } else if (this.getModuleName() === 'autocomplete') {\n        this.checkAndResetCache();\n      }\n      if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount == 0)) {\n        this.getSkeletonCount(true);\n      }\n    }\n    this.beforePopupOpen = false;\n    var animModel = {\n      name: 'FadeOut',\n      duration: 100,\n      delay: delay ? delay : 0\n    };\n    var popupInstance = this.popupObj;\n    var eventArgs = {\n      popup: popupInstance,\n      cancel: false,\n      animation: animModel,\n      event: e || null\n    };\n    this.trigger('close', eventArgs, function (eventArgs) {\n      if (!isNullOrUndefined(_this.popupObj) && !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n        var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n        fixedHeader.parentNode.removeChild(fixedHeader);\n        _this.fixedHeaderElement = null;\n      }\n      if (!eventArgs.cancel) {\n        if (_this.getModuleName() === 'autocomplete') {\n          _this.rippleFun();\n        }\n        if (_this.isPopupOpen) {\n          _this.popupObj.hide(new Animation(eventArgs.animation));\n        } else {\n          _this.destroyPopup();\n        }\n      }\n    });\n    if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n      this.actionCompleteData.ulElement = this.ulElement.cloneNode(true);\n    }\n    var dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    if (this.enableVirtualization && this.isFiltering() && this.value != null && isFilterValue && this.totalItemCount !== dataSourceCount) {\n      this.updateInitialData();\n      this.checkAndResetCache();\n    }\n  };\n  DropDownList.prototype.updateInitialData = function () {\n    var currentData = this.selectData;\n    var ulElement = this.renderItems(currentData, this.fields);\n    this.list.scrollTop = 0;\n    this.virtualListInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    if (this.getModuleName() === 'combobox') {\n      this.typedString = \"\";\n    }\n    this.previousStartIndex = 0;\n    this.previousEndIndex = 0;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n    }\n    this.getSkeletonCount();\n    this.UpdateSkeleton();\n    this.listData = currentData;\n    this.updateActionCompleteDataValues(ulElement, currentData);\n    this.liCollections = this.list.querySelectorAll('.e-list-item');\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n    }\n  };\n  DropDownList.prototype.destroyPopup = function () {\n    this.isPopupOpen = false;\n    this.isFilterFocus = false;\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n  DropDownList.prototype.clickOnBackIcon = function () {\n    this.hidePopup();\n    this.focusIn();\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.render = function () {\n    if (this.element.tagName === 'INPUT') {\n      this.inputElement = this.element;\n      if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n        this.inputElement.setAttribute('role', 'combobox');\n      }\n      if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n        this.inputElement.setAttribute('type', 'text');\n      }\n      this.inputElement.setAttribute('aria-expanded', 'false');\n    } else {\n      this.inputElement = this.createElement('input', {\n        attrs: {\n          role: 'combobox',\n          type: 'text'\n        }\n      });\n      if (this.element.tagName !== this.getNgDirective()) {\n        this.element.style.display = 'none';\n      }\n      this.element.parentElement.insertBefore(this.inputElement, this.element);\n      this.preventTabIndex(this.inputElement);\n    }\n    var updatedCssClassValues = this.cssClass;\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      }\n    }, this.createElement);\n    if (this.element.tagName === this.getNgDirective()) {\n      this.element.appendChild(this.inputWrapper.container);\n    } else {\n      this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n    }\n    this.hiddenElement = this.createElement('select', {\n      attrs: {\n        'aria-hidden': 'true',\n        'aria-label': this.getModuleName(),\n        'tabindex': '-1',\n        'class': dropDownListClasses.hiddenElement\n      }\n    });\n    prepend([this.hiddenElement], this.inputWrapper.container);\n    this.validationAttribute(this.element, this.hiddenElement);\n    this.setReadOnly();\n    this.setFields();\n    this.inputWrapper.container.style.width = formatUnit(this.width);\n    this.inputWrapper.container.classList.add('e-ddl');\n    if (this.floatLabelType === 'Auto') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n    }\n    this.wireEvent();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n    this.element.id = id;\n    this.hiddenElement.id = id + '_hidden';\n    this.targetElement().setAttribute('tabindex', this.tabIndex);\n    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n      this.inputElement.setAttribute('aria-label', this.getModuleName());\n    } else if (this.getModuleName() === 'dropdownlist') {\n      attributes(this.targetElement(), {\n        'aria-label': this.getModuleName()\n      });\n    }\n    attributes(this.targetElement(), this.getAriaAttributes());\n    this.updateDataAttribute(this.htmlAttributes);\n    this.setHTMLAttributes();\n    if (this.targetElement() === this.inputElement) {\n      this.inputElement.removeAttribute('aria-labelledby');\n    }\n    if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n      if (this.enableVirtualization) {\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n      }\n      this.initValue();\n      this.selectedValueInfo = this.viewPortInfo;\n      if (this.enableVirtualization) {\n        this.activeIndex = this.activeIndex + this.skeletonCount;\n      }\n    } else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n      var selectElement = this.element;\n      this.value = selectElement.options[selectElement.selectedIndex].value;\n      this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n      this.initValue();\n    }\n    this.setEnabled();\n    this.preventTabIndex(this.element);\n    if (!this.enabled) {\n      this.targetElement().tabIndex = -1;\n    }\n    this.initial = false;\n    this.element.style.opacity = '';\n    this.inputElement.onselect = function (e) {\n      e.stopImmediatePropagation();\n    };\n    this.inputElement.onchange = function (e) {\n      e.stopImmediatePropagation();\n    };\n    if (this.element.hasAttribute('autofocus')) {\n      this.focusIn();\n    }\n    if (!isNullOrUndefined(this.text)) {\n      this.inputElement.setAttribute('value', this.text);\n    }\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n    var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n    if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n      floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n      attributes(this.inputElement, {\n        'aria-labelledby': floatLabelElement.id\n      });\n    }\n    this.renderComplete();\n    this.listItemHeight = this.getListHeight();\n    this.getSkeletonCount();\n    if (this.enableVirtualization) {\n      this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n    }\n    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n  };\n  DropDownList.prototype.getListHeight = function () {\n    var listParent = this.createElement('div', {\n      className: 'e-dropdownbase'\n    });\n    var item = this.createElement('li', {\n      className: 'e-list-item'\n    });\n    var listParentHeight = formatUnit(this.popupHeight);\n    listParent.style.height = parseInt(listParentHeight, 10).toString() + 'px';\n    listParent.appendChild(item);\n    document.body.appendChild(listParent);\n    this.virtualListHeight = listParent.getBoundingClientRect().height;\n    var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n    listParent.remove();\n    return listItemHeight;\n  };\n  DropDownList.prototype.setFooterTemplate = function (popupEle) {\n    var compiledString;\n    if (this.footer) {\n      if (this.isReact && typeof this.footerTemplate === 'function') {\n        this.clearTemplate(['footerTemplate']);\n      } else {\n        this.footer.innerHTML = '';\n      }\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], dropDownListClasses.footer);\n    }\n    var footercheck = this.dropdownCompiler(this.footerTemplate);\n    if (typeof this.footerTemplate !== 'function' && footercheck) {\n      compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.footerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n    if (footerCompTemp && footerCompTemp.length > 0) {\n      append(footerCompTemp, this.footer);\n    }\n    append([this.footer], popupEle);\n  };\n  DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n    var compiledString;\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], dropDownListClasses.header);\n    }\n    var headercheck = this.dropdownCompiler(this.headerTemplate);\n    if (typeof this.headerTemplate !== 'function' && headercheck) {\n      compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.headerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n    if (headerCompTemp && headerCompTemp.length) {\n      append(headerCompTemp, this.header);\n    }\n    var contentEle = popupEle.querySelector('div.e-content');\n    popupEle.insertBefore(this.header, contentEle);\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.setEnabled = function () {\n    this.element.setAttribute('aria-disabled', this.enabled ? 'false' : 'true');\n  };\n  DropDownList.prototype.setOldText = function (text) {\n    this.text = text;\n  };\n  DropDownList.prototype.setOldValue = function (value) {\n    this.value = value;\n  };\n  DropDownList.prototype.refreshPopup = function () {\n    if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && (this.allowFiltering && !(Browser.isDevice && this.isFilterLayout()) || this.getModuleName() === 'autocomplete')) {\n      removeClass([this.popupObj.element], 'e-popup-close');\n      this.popupObj.refreshPosition(this.inputWrapper.container);\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.checkData = function (newProp) {\n    if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering && !(this.isListSearched && newProp.dataSource instanceof DataManager)) {\n      this.list = null;\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n    }\n    this.isListSearched = false;\n    var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n    var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n    if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n      this.itemData = null;\n    }\n    if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n      this.actionData = this.actionCompleteData;\n      this.itemData = null;\n    } else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n      this.actionCompleteData = this.getModuleName() === 'combobox' ? {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      } : this.actionCompleteData;\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.updateDataSource = function (props) {\n    if (this.inputElement.value !== '' || !isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) {\n      this.clearAll(null, props);\n    }\n    if (this.fields.groupBy && props.fields && !this.isGroupChecking && this.list) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n    if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) || !(props.dataSource === [])) {\n      this.typedString = '';\n      this.resetList(this.dataSource);\n    }\n    if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n      this.checkCustomValue();\n    }\n  };\n  DropDownList.prototype.checkCustomValue = function () {\n    this.itemData = this.getDataByValue(this.value);\n    var dataItem = this.getItemData();\n    this.setProperties({\n      'text': dataItem.text,\n      'value': dataItem.value\n    });\n  };\n  DropDownList.prototype.updateInputFields = function () {\n    if (this.getModuleName() === 'dropdownlist') {\n      Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @private\n   * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n   * @returns {void}\n   */\n  DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n    if (this.getModuleName() === 'dropdownlist') {\n      this.checkData(newProp);\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    var _loop_1 = function (prop) {\n      switch (prop) {\n        case 'query':\n        case 'dataSource':\n          this_1.getSkeletonCount();\n          this_1.checkAndResetCache();\n          break;\n        case 'htmlAttributes':\n          this_1.setHTMLAttributes();\n          break;\n        case 'width':\n          this_1.setEleWidth(newProp.width);\n          Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n          break;\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n          break;\n        case 'filterBarPlaceholder':\n          if (this_1.filterInput) {\n            Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n          }\n          break;\n        case 'readonly':\n          if (this_1.getModuleName() !== 'dropdownlist') {\n            Input.setReadonly(newProp.readonly, this_1.inputElement);\n          }\n          this_1.setReadOnly();\n          break;\n        case 'cssClass':\n          this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n          Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n          break;\n        case 'enableRtl':\n          this_1.setEnableRtl();\n          break;\n        case 'enabled':\n          this_1.setEnable();\n          break;\n        case 'text':\n          if (newProp.text === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender) {\n            var li = this_1.getElementByText(newProp.text);\n            if (!this_1.checkValidLi(li)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n              } else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                var listLength_1 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                this_1.typedString = '';\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_1);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldText(oldProp.text);\n                  }\n                });\n              } else if (this_1.getModuleName() === 'autocomplete') {\n                this_1.setInputValue(newProp, oldProp);\n              } else {\n                this_1.setOldText(oldProp.text);\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'value':\n          if (newProp.value === null) {\n            this_1.clearAll();\n            break;\n          }\n          this_1.notify('beforeValueChange', {\n            newProp: newProp\n          }); // gird component value type change\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender) {\n            var item = this_1.getElementByValue(newProp.value);\n            if (!this_1.checkValidLi(item)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n              } else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                var listLength_2 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                this_1.typedString = '';\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.value))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_2);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldValue(oldProp.value);\n                  }\n                });\n              } else if (this_1.getModuleName() === 'autocomplete') {\n                this_1.setInputValue(newProp, oldProp);\n              } else {\n                this_1.setOldValue(oldProp.value);\n              }\n            }\n            this_1.updateInputFields();\n            this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n          }\n          break;\n        case 'index':\n          if (newProp.index === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender && this_1.liCollections) {\n            var element = this_1.liCollections[newProp.index];\n            if (!this_1.checkValidLi(element)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n              } else {\n                this_1.index = oldProp.index;\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'footerTemplate':\n          if (this_1.popupObj) {\n            this_1.setFooterTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'headerTemplate':\n          if (this_1.popupObj) {\n            this_1.setHeaderTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'valueTemplate':\n          if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n            this_1.setValueTemplate();\n          }\n          break;\n        case 'allowFiltering':\n          if (this_1.allowFiltering) {\n            this_1.actionCompleteData = {\n              ulElement: this_1.ulElement,\n              list: this_1.listData,\n              isUpdated: true\n            };\n            this_1.actionData = this_1.actionCompleteData;\n            this_1.updateSelectElementData(this_1.allowFiltering);\n          }\n          break;\n        case 'floatLabelType':\n          Input.removeFloating(this_1.inputWrapper);\n          Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n          if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n            this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n          break;\n        case 'showClearButton':\n          if (!this_1.inputWrapper.clearButton) {\n            Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n            this_1.bindClearEvent();\n          }\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n          }\n          break;\n      }\n    };\n    var this_1 = this;\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      _loop_1(prop);\n    }\n  };\n  DropDownList.prototype.checkValidLi = function (element) {\n    if (this.isValidLI(element)) {\n      this.setSelection(element, null);\n      return true;\n    }\n    return false;\n  };\n  DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n    var _this = this;\n    var li;\n    this.updateListValues = function () {\n      if (prop === 'text') {\n        li = _this.getElementByText(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldText(oldProp);\n        }\n      } else if (prop === 'value') {\n        li = _this.getElementByValue(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldValue(oldProp);\n        }\n      } else if (prop === 'index') {\n        li = _this.liCollections[newProp];\n        if (!_this.checkValidLi(li)) {\n          _this.index = oldProp;\n        }\n      }\n    };\n  };\n  DropDownList.prototype.setReadOnly = function () {\n    if (this.readonly) {\n      addClass([this.inputWrapper.container], ['e-readonly']);\n    } else {\n      removeClass([this.inputWrapper.container], ['e-readonly']);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DropDownList.prototype.setInputValue = function (newProp, oldProp) {};\n  DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n    if (!isNullOrUndefined(oldClass)) {\n      oldClass = oldClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newClass)) {\n      newClass = newClass.replace(/\\s+/g, ' ').trim();\n    }\n    Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n    if (this.popupObj) {\n      Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownList.prototype.getModuleName = function () {\n    return 'dropdownlist';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showPopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n      this.renderList();\n      this.isAddNewItemTemplate = false;\n    }\n    if (this.isFiltering() && this.dataSource instanceof DataManager && this.actionData.list !== this.actionCompleteData.list && this.actionData.list && this.actionData.ulElement) {\n      this.actionCompleteData = this.actionData;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    }\n    if (this.beforePopupOpen) {\n      this.refreshPopup();\n      return;\n    }\n    this.beforePopupOpen = true;\n    if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n      this.isActive = true;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    } else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) || this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n      this.renderList(e);\n    }\n    if (this.enableVirtualization && this.listData && this.listData.length) {\n      if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n        this.removeHover();\n      }\n      if (!this.beforePopupOpen) {\n        this.notify(\"setCurrentViewDataAsync\", {\n          module: \"VirtualScroll\"\n        });\n      }\n    }\n    this.invokeRenderPopup(e);\n    if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n      this.notify(\"dataProcessAsync\", {\n        module: \"VirtualScroll\",\n        isOpen: true\n      });\n    }\n  };\n  DropDownList.prototype.invokeRenderPopup = function (e) {\n    if (Browser.isDevice && this.isFilterLayout()) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_2 = this;\n      window.onpopstate = function () {\n        proxy_2.hidePopup();\n      };\n      history.pushState({}, '');\n    }\n    if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData))) {\n      this.renderPopup(e);\n    }\n  };\n  DropDownList.prototype.renderHightSearch = function () {\n    // update high light search\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in an open state.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hidePopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n      if (!isNullOrUndefined(this.inputElement)) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n      this.isEscapeKey = false;\n      if (!isNullOrUndefined(this.index)) {\n        var element = this.findListElement(this.ulElement, 'li', 'data-value', this.value);\n        this.selectedLI = this.liCollections[this.index] || element;\n        if (this.selectedLI) {\n          this.updateSelectedItem(this.selectedLI, null, true);\n          if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n          }\n        }\n      } else {\n        this.resetSelection();\n      }\n    }\n    this.closePopup(0, e);\n    var dataItem = this.getItemData();\n    var isSelectVal = !isNullOrUndefined(this.selectedLI);\n    if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom || isSelectVal && this.inputElement.value !== dataItem.text)) {\n      this.isSelectCustom = false;\n      this.clearAll(e);\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Sets the focus on the component for interaction.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusIn = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n      return;\n    }\n    var isFocused = false;\n    if (this.preventFocus && Browser.isDevice) {\n      this.inputWrapper.container.tabIndex = 1;\n      this.inputWrapper.container.focus();\n      this.preventFocus = false;\n      isFocused = true;\n    }\n    if (!isFocused) {\n      this.targetElement().focus();\n    }\n    addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    this.onFocus(e);\n    if (this.floatLabelType === 'Auto') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n  };\n  /**\n   * Moves the focus from the component if the component is already focused.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusOut = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (!this.enabled) {\n      return;\n    }\n    if (!this.enableVirtualization && this.getModuleName() === 'combobox') {\n      this.isTyped = true;\n    }\n    this.hidePopup(e);\n    if (this.targetElement()) {\n      this.targetElement().blur();\n    }\n    removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    if (this.floatLabelType === 'Auto' && this.inputElement.value === '') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownList.prototype.destroy = function () {\n    this.isActive = false;\n    resetIncrementalSearchValues(this.element.id);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n    this.hidePopup();\n    this.unWireEvent();\n    if (this.list) {\n      this.unWireListEvents();\n    }\n    if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n      return;\n    }\n    if (this.inputElement) {\n      var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby', 'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize', 'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n      for (var i = 0; i < attrArray.length; i++) {\n        this.inputElement.removeAttribute(attrArray[i]);\n      }\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n      this.inputElement.classList.remove('e-input');\n      Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    this.element.style.display = 'block';\n    if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n      detach(this.inputWrapper.container);\n    } else {\n      this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n      detach(this.inputWrapper.container);\n    }\n    this.hiddenElement = null;\n    this.inputWrapper = null;\n    this.keyboardModule = null;\n    this.ulElement = null;\n    this.list = null;\n    this.popupObj = null;\n    this.popupContentElement = null;\n    this.rippleFun = null;\n    this.selectedLI = null;\n    this.liCollections = null;\n    this.item = null;\n    this.inputWrapper = null;\n    this.footer = null;\n    this.header = null;\n    this.previousSelectedLI = null;\n    this.valueTempElement = null;\n    this.actionData.ulElement = null;\n    if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n      this.inputElement.onchange = null;\n    }\n    if (this.isAngular) {\n      this.inputElement = null;\n    }\n    _super.prototype.destroy.call(this);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownList.prototype.getItems = function () {\n    if (!this.list) {\n      if (this.dataSource instanceof DataManager) {\n        this.initRemoteRender = true;\n      }\n      this.renderList();\n    }\n    return this.ulElement ? _super.prototype.getItems.call(this) : [];\n  };\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownList.prototype.getDataByValue = function (value) {\n    return _super.prototype.getDataByValue.call(this, value);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Allows you to clear the selected values from the component.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.clear = function () {\n    this.value = null;\n  };\n  __decorate$1([Property(null)], DropDownList.prototype, \"cssClass\", void 0);\n  __decorate$1([Property('100%')], DropDownList.prototype, \"width\", void 0);\n  __decorate$1([Property(true)], DropDownList.prototype, \"enabled\", void 0);\n  __decorate$1([Property(false)], DropDownList.prototype, \"enablePersistence\", void 0);\n  __decorate$1([Property('300px')], DropDownList.prototype, \"popupHeight\", void 0);\n  __decorate$1([Property('100%')], DropDownList.prototype, \"popupWidth\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"placeholder\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$1([Property({})], DropDownList.prototype, \"htmlAttributes\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"query\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"valueTemplate\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"headerTemplate\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"footerTemplate\", void 0);\n  __decorate$1([Property(false)], DropDownList.prototype, \"allowFiltering\", void 0);\n  __decorate$1([Property(false)], DropDownList.prototype, \"readonly\", void 0);\n  __decorate$1([Property(false)], DropDownList.prototype, \"enableVirtualization\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"text\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"value\", void 0);\n  __decorate$1([Property(null)], DropDownList.prototype, \"index\", void 0);\n  __decorate$1([Property('Never')], DropDownList.prototype, \"floatLabelType\", void 0);\n  __decorate$1([Property(false)], DropDownList.prototype, \"showClearButton\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"filtering\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"change\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"beforeOpen\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"open\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"close\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"blur\", void 0);\n  __decorate$1([Event()], DropDownList.prototype, \"focus\", void 0);\n  DropDownList = __decorate$1([NotifyPropertyChanges], DropDownList);\n  return DropDownList;\n}(DropDownBase);\n\n/**\n * export all modules from current location\n */\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @__PURE__ @class */function (_super) {\n  __extends$2(Fields, _super);\n  function Fields() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate$2([Property('child')], Fields.prototype, \"child\", void 0);\n  __decorate$2([Property([])], Fields.prototype, \"dataSource\", void 0);\n  __decorate$2([Property('expanded')], Fields.prototype, \"expanded\", void 0);\n  __decorate$2([Property('hasChildren')], Fields.prototype, \"hasChildren\", void 0);\n  __decorate$2([Property('htmlAttributes')], Fields.prototype, \"htmlAttributes\", void 0);\n  __decorate$2([Property('iconCss')], Fields.prototype, \"iconCss\", void 0);\n  __decorate$2([Property('imageUrl')], Fields.prototype, \"imageUrl\", void 0);\n  __decorate$2([Property('parentValue')], Fields.prototype, \"parentValue\", void 0);\n  __decorate$2([Property(null)], Fields.prototype, \"query\", void 0);\n  __decorate$2([Property('selectable')], Fields.prototype, \"selectable\", void 0);\n  __decorate$2([Property('selected')], Fields.prototype, \"selected\", void 0);\n  __decorate$2([Property(null)], Fields.prototype, \"tableName\", void 0);\n  __decorate$2([Property('text')], Fields.prototype, \"text\", void 0);\n  __decorate$2([Property('tooltip')], Fields.prototype, \"tooltip\", void 0);\n  __decorate$2([Property('value')], Fields.prototype, \"value\", void 0);\n  return Fields;\n}(ChildProperty);\nvar TreeSettings = /** @__PURE__ @class */function (_super) {\n  __extends$2(TreeSettings, _super);\n  function TreeSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate$2([Property(false)], TreeSettings.prototype, \"autoCheck\", void 0);\n  __decorate$2([Property('Auto')], TreeSettings.prototype, \"expandOn\", void 0);\n  __decorate$2([Property(false)], TreeSettings.prototype, \"loadOnDemand\", void 0);\n  return TreeSettings;\n}(ChildProperty);\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @__PURE__ @class */function (_super) {\n  __extends$2(DropDownTree, _super);\n  function DropDownTree(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.filterTimer = null;\n    _this.isFilteredData = false;\n    _this.isFilterRestore = false;\n    // eslint-disable-next-line\n    _this.selectedData = [];\n    _this.filterDelayTime = 300;\n    _this.isClicked = false;\n    // Specifies if the checkAll method has been called\n    _this.isCheckAllCalled = false;\n    _this.isFromFilterChange = false;\n    return _this;\n  }\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string}\n   * @hidden\n   */\n  DropDownTree.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  DropDownTree.prototype.getLocaleName = function () {\n    return 'drop-down-tree';\n  };\n  /**\n   * Initialize the event handler.\n   *\n   * @returns {void}\n   * @private\n   */\n  DropDownTree.prototype.preRender = function () {\n    this.inputFocus = false;\n    this.isPopupOpen = false;\n    this.isFirstRender = true;\n    this.isInitialized = false;\n    this.currentText = null;\n    this.currentValue = null;\n    this.oldValue = null;\n    this.removeValue = false;\n    this.selectedText = [];\n    this.treeItems = [];\n    this.dataValue = null;\n    this.isNodeSelected = false;\n    this.isDynamicChange = false;\n    this.clearIconWidth = 0;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n    this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n    this.keyConfigs = {\n      escape: 'escape',\n      altUp: 'alt+uparrow',\n      altDown: 'alt+downarrow',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      end: 'end',\n      enter: 'enter',\n      home: 'home',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlUp: 'ctrl+uparrow',\n      ctrlEnter: 'ctrl+enter',\n      ctrlHome: 'ctrl+home',\n      ctrlEnd: 'ctrl+end',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      shiftEnter: 'shift+enter',\n      shiftHome: 'shift+home',\n      shiftEnd: 'shift+end',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      csEnter: 'ctrl+shift+enter',\n      csHome: 'ctrl+shift+home',\n      csEnd: 'ctrl+shift+end',\n      space: 'space',\n      ctrlA: 'ctrl+A'\n    };\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownTree.prototype.render = function () {\n    var isTree = select('#' + this.element.id + '_tree', document);\n    if (isTree) {\n      var popupDiv = select('#' + this.element.id + '_popup', document);\n      detach(popupDiv ? popupDiv : isTree.parentElement);\n    }\n    this.ensureAutoCheck();\n    if (this.element.tagName === 'INPUT') {\n      this.inputEle = this.element;\n      if (isNullOrUndefined(this.inputEle.getAttribute('role'))) {\n        this.inputEle.setAttribute('role', 'textbox');\n      }\n      if (isNullOrUndefined(this.inputEle.getAttribute('type'))) {\n        this.inputEle.setAttribute('type', 'text');\n      }\n    } else {\n      this.inputEle = this.createElement('input', {\n        attrs: {\n          role: 'textbox',\n          type: 'text'\n        }\n      });\n      this.element.parentElement.insertBefore(this.inputEle, this.element);\n    }\n    this.inputObj = Input.createInput({\n      element: this.inputEle,\n      floatLabelType: this.floatLabelType,\n      buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n      properties: {\n        readonly: true,\n        placeholder: this.placeholder,\n        enabled: this.enabled,\n        cssClass: this.cssClass,\n        enableRtl: this.enableRtl\n      }\n    }, this.createElement);\n    this.inputWrapper = this.inputObj.container;\n    if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n      this.inputWrapper.classList.add(INPUTGROUP);\n    }\n    if (this.showDropDownIcon) {\n      this.inputWrapper.classList.add(SHOW_DD_ICON);\n    }\n    if (this.element.tagName === this.getDirective()) {\n      this.element.appendChild(this.inputWrapper);\n    }\n    this.createHiddenElement();\n    this.createClearIcon();\n    this.inputWrapper.classList.add(DROPDOWNTREE);\n    this.setElementWidth(this.width);\n    this.updateDataAttribute();\n    this.setHTMLAttributes();\n    this.setAttributes();\n    this.popupDiv = this.createElement('div', {\n      className: CONTENT\n    });\n    this.popupDiv.classList.add(DROPDOWN);\n    this.tree = this.createElement('div', {\n      id: this.element.id + '_tree'\n    });\n    this.popupDiv.appendChild(this.tree);\n    document.body.appendChild(this.popupDiv);\n    this.wireTreeEvents();\n    addClass([this.popupDiv], DDTHIDEICON);\n    this.renderTree();\n    this.isRemoteData = this.fields.dataSource instanceof DataManager;\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter') {\n        this.createChip();\n      }\n      if (!this.wrapText && this.mode !== 'Custom') {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n        if (this.mode !== 'Box') {\n          addClass([this.overFlowWrapper], SHOW_TEXT);\n        }\n      }\n    }\n    if (!this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n      if (!this.wrapText) {\n        this.updateView();\n      }\n    }\n    this.wireEvents();\n    var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n    if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n      firstUl.removeAttribute('aria-multiselectable');\n    }\n    this.oldValue = this.value;\n    this.isInitialized = true;\n    this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate || this.noRecordsTemplate || this.customTemplate;\n    this.renderComplete();\n  };\n  DropDownTree.prototype.ensureAutoCheck = function () {\n    if (this.allowFiltering && this.treeSettings.autoCheck) {\n      this.setProperties({\n        treeSettings: {\n          autoCheck: false\n        }\n      }, true);\n    }\n  };\n  DropDownTree.prototype.hideCheckAll = function (flag) {\n    var checkAllEle = !isNullOrUndefined(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n    if (!isNullOrUndefined(checkAllEle)) {\n      if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n        addClass([checkAllEle], CHECKALLHIDE);\n      } else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n        removeClass([checkAllEle], CHECKALLHIDE);\n      }\n    }\n  };\n  DropDownTree.prototype.renderFilter = function () {\n    this.filterContainer = this.createElement('div', {\n      id: this.element.id + '_filter_wrap',\n      className: FILTERWRAP\n    });\n    var filterInput = this.createElement('input', {\n      id: this.element.id + '_filter',\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': this.filterBarPlaceholder\n      }\n    });\n    this.filterContainer.appendChild(filterInput);\n    prepend([this.filterContainer], this.popupEle);\n    this.filterObj = new TextBox({\n      value: '',\n      showClearButton: true,\n      placeholder: this.filterBarPlaceholder,\n      input: this.filterChangeHandler.bind(this)\n    });\n    this.filterObj.appendTo('#' + this.element.id + '_filter');\n  };\n  DropDownTree.prototype.filterChangeHandler = function (args) {\n    var _this = this;\n    if (!isNullOrUndefined(args.value)) {\n      window.clearTimeout(this.filterTimer);\n      this.filterTimer = window.setTimeout(function () {\n        _this.filterHandler(args.value, args.event);\n      }, this.filterDelayTime);\n    }\n  };\n  DropDownTree.prototype.filterHandler = function (value, event) {\n    var _this = this;\n    this.isFromFilterChange = true;\n    if (!this.isFilteredData) {\n      this.treeData = this.treeObj.getTreeData();\n    }\n    var filterFields = this.cloneFields(this.fields);\n    var args = {\n      cancel: false,\n      preventDefaultAction: false,\n      event: event,\n      text: value,\n      fields: filterFields\n    };\n    this.trigger('filtering', args, function (args) {\n      if (!args.cancel) {\n        var flag = false;\n        var fields = void 0;\n        _this.isFilteredData = true;\n        if (value === '') {\n          _this.isFilteredData = false;\n          _this.isFilterRestore = true;\n          fields = _this.cloneFields(_this.fields);\n        } else if (args.preventDefaultAction) {\n          fields = args.fields;\n        } else {\n          if (_this.treeDataType === 1) {\n            fields = _this.selfReferencefilter(value, args.fields);\n          } else {\n            if (_this.fields.dataSource instanceof DataManager) {\n              flag = true;\n            } else {\n              fields = _this.nestedFilter(value, args.fields);\n            }\n          }\n        }\n        _this.hideCheckAll(_this.isFilteredData);\n        if (flag) {\n          return;\n        }\n        _this.treeObj.fields = _this.getTreeFields(fields);\n        _this.treeObj.dataBind();\n        if (_this.hasTemplate && _this.portals) {\n          _this.portals = [].concat(_this.treeObj.portals);\n          if (_this.isReact) {\n            _this.renderReactTemplates();\n          }\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n    // eslint-disable-next-line\n    var matchedDataSource = [];\n    for (var i = 0; i < this.treeData.length; i++) {\n      // eslint-disable-next-line\n      var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n      if (!isNullOrUndefined(filteredChild)) {\n        matchedDataSource.push(filteredChild);\n      }\n    }\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.nestedChildFilter = function (value, node) {\n    // eslint-disable-next-line\n    var children = node[this.fields.child];\n    if (isNullOrUndefined(children)) {\n      return this.isMatchedNode(value, node) ? node : null;\n    } else {\n      // eslint-disable-next-line\n      var matchedChildren = [];\n      for (var i = 0; i < children.length; i++) {\n        // eslint-disable-next-line\n        var filteredChild = this.nestedChildFilter(value, children[i]);\n        if (!isNullOrUndefined(filteredChild)) {\n          matchedChildren.push(filteredChild);\n        }\n      }\n      var filteredItems = Object.assign({}, node);\n      if (matchedChildren.length !== 0) {\n        filteredItems[this.fields.child] = matchedChildren;\n        return filteredItems;\n      } else {\n        filteredItems[this.fields.child] = null;\n        return this.isMatchedNode(value, filteredItems) ? filteredItems : null;\n      }\n    }\n  };\n  DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n    // eslint-disable-next-line\n    var matchedData = [];\n    // eslint-disable-next-line\n    var matchedDataSource = [];\n    for (var i = 0; i < this.treeData.length; i++) {\n      if (this.isMatchedNode(value, this.treeData[i])) {\n        matchedData.push(this.treeData[i]);\n      }\n    }\n    for (var i = 0; i < matchedData.length; i++) {\n      if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n        matchedDataSource.push(matchedData[i]);\n        // eslint-disable-next-line\n        var parentId = matchedData[i][this.fields.parentValue];\n        while (!isNullOrUndefined(parentId)) {\n          // eslint-disable-next-line\n          var parent_1 = null;\n          for (var j = 0; j < this.treeData.length; j++) {\n            // eslint-disable-next-line\n            var value_1 = this.treeData[j][this.fields.value];\n            if (!isNullOrUndefined(value_1) && value_1 === parentId) {\n              parent_1 = this.treeData[j];\n              break;\n            }\n          }\n          if (!isNullOrUndefined(parent_1) && matchedDataSource.indexOf(parent_1) === -1) {\n            matchedDataSource.push(parent_1);\n            parentId = parent_1[this.fields.parentValue];\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.isMatchedNode = function (value, node) {\n    var checkValue = node[this.fields.text];\n    if (this.ignoreCase) {\n      checkValue = checkValue.toLowerCase();\n      value = value.toLowerCase();\n    }\n    if (this.ignoreAccent) {\n      checkValue = DataUtil.ignoreDiacritics(checkValue);\n      value = DataUtil.ignoreDiacritics(value);\n    }\n    if (this.filterType === 'StartsWith') {\n      return checkValue.slice(0, value.length) === value;\n    } else if (this.filterType === 'EndsWith') {\n      return checkValue.slice(-value.length) === value;\n    } else {\n      return checkValue.indexOf(value) !== -1;\n    }\n  };\n  /* To wire events for the dropdown tree */\n  DropDownTree.prototype.wireEvents = function () {\n    EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n    EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n    EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n    EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  DropDownTree.prototype.wireTreeEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.tree, {\n      keyAction: this.treeAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n      keyAction: this.checkAllAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  /* To unwire events for the dropdown tree */\n  DropDownTree.prototype.unWireEvents = function () {\n    EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n    EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n    EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n    EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n    EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n    EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n  };\n  /* Trigger when the dropdown is clicked */\n  DropDownTree.prototype.dropDownClick = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n      return;\n    }\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    } else {\n      this.focusIn(e);\n      this.renderPopup();\n    }\n    this.showOverAllClear();\n  };\n  DropDownTree.prototype.mouseIn = function () {\n    if (this.enabled || !this.readonly) {\n      this.showOverAllClear();\n    }\n  };\n  DropDownTree.prototype.onMouseLeave = function () {\n    if (!this.inputFocus) {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n  };\n  DropDownTree.prototype.getDirective = function () {\n    return 'EJS-DROPDOWNTREE';\n  };\n  DropDownTree.prototype.focusOut = function (e) {\n    if (!this.enabled || this.readonly || !this.inputFocus) {\n      return;\n    }\n    if ((Browser.isIE || Browser.info.name === 'edge') && e.target === this.inputWrapper) {\n      return;\n    }\n    var target = e.relatedTarget;\n    if (target !== this.inputEle && isNullOrUndefined(target) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n      this.onFocusOut(e);\n    }\n  };\n  DropDownTree.prototype.onFocusOut = function (event) {\n    this.inputFocus = false;\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    }\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n    }\n    if (this.showClearButton) {\n      this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n    removeClass([this.inputWrapper], [INPUTFOCUS]);\n    if (this.allowMultiSelection || this.showCheckBox) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n      if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n        if (this.chipWrapper && this.mode === 'Default') {\n          addClass([this.chipWrapper], HIDEICON);\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n        }\n      }\n      if (!this.wrapText && isValue) {\n        this.updateView();\n      }\n    }\n    if (this.changeOnBlur) {\n      this.triggerChangeEvent(event);\n    }\n    this.removeValue = false;\n    this.oldValue = this.value;\n    this.trigger('blur');\n  };\n  DropDownTree.prototype.updateView = function () {\n    if (!this.showCheckBox && !this.allowMultiSelection || this.mode === 'Custom' || this.inputFocus) {\n      return;\n    }\n    if (this.mode !== 'Box') {\n      addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n    } else {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n    if (this.value && this.value.length !== 0) {\n      if (this.inputWrapper.contains(this.chipWrapper)) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n      addClass([this.inputEle], CHIP_INPUT);\n      this.updateOverFlowView();\n      this.ensurePlaceHolder();\n    }\n  };\n  DropDownTree.prototype.triggerChangeEvent = function (event) {\n    var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n    if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n      var eventArgs = {\n        e: event,\n        oldValue: this.oldValue,\n        value: this.value,\n        isInteracted: event ? true : false,\n        element: this.element\n      };\n      this.trigger('change', eventArgs);\n      this.oldValue = this.value;\n    }\n  };\n  DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n    if (oldValue === null || newValue === null) {\n      var isValid = oldValue === null ? newValue === oldValue ? true : false : oldValue.length === 0 ? newValue === oldValue : false;\n      return isValid;\n    } else if (oldValue.length !== newValue.length) {\n      return false;\n    }\n    for (var i = 0; i < oldValue.length; i++) {\n      if (oldValue[i] !== newValue[i]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  DropDownTree.prototype.focusIn = function (e) {\n    if (!this.enabled || this.readonly || this.inputFocus) {\n      return;\n    }\n    this.showOverAllClear();\n    this.inputFocus = true;\n    addClass([this.inputWrapper], [INPUTFOCUS]);\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter' && this.inputFocus) {\n        if (this.chipWrapper && this.value && this.value.length !== 0) {\n          removeClass([this.chipWrapper], HIDEICON);\n          addClass([this.inputEle], CHIP_INPUT);\n        }\n        addClass([this.inputWrapper], SHOW_CHIP);\n        if (this.popupObj) {\n          this.popupObj.refreshPosition();\n        }\n      }\n      if (!this.wrapText && this.mode !== 'Custom') {\n        if (this.inputWrapper.contains(this.overFlowWrapper)) {\n          addClass([this.overFlowWrapper], HIDEICON);\n        }\n        if (this.mode === 'Delimiter') {\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n        } else {\n          addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        removeClass([this.inputWrapper], SHOW_TEXT);\n        this.ensurePlaceHolder();\n      }\n    }\n    var args = {\n      isInteracted: e ? true : false,\n      event: e\n    };\n    this.trigger('focus', args);\n  };\n  DropDownTree.prototype.treeAction = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            _this.inputWrapper.focus();\n            e.preventDefault();\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'tab':\n          case 'shiftTab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'enter':\n          case 'ctrlEnter':\n          case 'shiftEnter':\n          case 'csEnter':\n            if (!_this.showCheckBox) {\n              _this.isValueChange = true;\n              _this.keyEventArgs = e;\n            }\n            break;\n          case 'space':\n            _this.isValueChange = true;\n            _this.keyEventArgs = e;\n            break;\n          case 'ctrlA':\n            if (_this.allowMultiSelection) {\n              _this.selectAll(true);\n            }\n            break;\n          case 'moveRight':\n          case 'moveLeft':\n          case 'shiftDown':\n          case 'moveDown':\n          case 'ctrlDown':\n          case 'csDown':\n          case 'shiftUp':\n          case 'moveUp':\n          case 'ctrlUp':\n          case 'csUp':\n          case 'home':\n          case 'shiftHome':\n          case 'ctrlHome':\n          case 'csHome':\n          case 'end':\n          case 'shiftEnd':\n          case 'ctrlEnd':\n          case 'csEnd':\n        }\n      } else {\n        e.stopImmediatePropagation();\n      }\n    });\n  };\n  DropDownTree.prototype.keyActionHandler = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'shiftTab':\n          case 'tab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            if (_this.inputFocus) {\n              _this.onFocusOut();\n            }\n            break;\n          case 'altDown':\n            if (!_this.isPopupOpen) {\n              _this.showPopup();\n              e.preventDefault();\n            }\n            break;\n          case 'moveDown':\n            if (_this.showSelectAll && _this.showCheckBox) {\n              _this.checkAllParent.focus();\n            }\n            break;\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.checkAllAction = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'space':\n            _this.clickHandler(e);\n            break;\n          case 'moveDown':\n            var focusedElement = _this.treeObj.element.querySelector('li');\n            focusedElement.focus();\n            addClass([focusedElement], ['e-node-focus']);\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.windowResize = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        width: this.setWidth()\n      });\n      this.popupObj.refreshPosition();\n    }\n  };\n  DropDownTree.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement && e.target === formElement) {\n      this.isDynamicChange = true;\n      this.setProperties({\n        value: null\n      }, true);\n      this.resetValue(true);\n      this.isDynamicChange = false;\n    }\n  };\n  DropDownTree.prototype.getAriaAttributes = function () {\n    var disable = this.enabled ? 'false' : 'true';\n    return {\n      'aria-disabled': disable,\n      'aria-owns': this.element.id + '_options',\n      'role': 'listbox',\n      'aria-haspopup': 'true',\n      'aria-expanded': 'false',\n      'aria-activedescendant': 'null',\n      'aria-labelledby': this.hiddenElement.id\n    };\n  };\n  DropDownTree.prototype.updateOverFlowView = function () {\n    this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n    removeClass([this.overFlowWrapper], HIDEICON);\n    if (this.value && this.value.length) {\n      var data = '';\n      var overAllContainer = void 0;\n      var temp = void 0;\n      var tempData = void 0;\n      var tempIndex = 1;\n      var wrapperleng = void 0;\n      var remaining = void 0;\n      var downIconWidth = 0;\n      this.overFlowWrapper.innerHTML = '';\n      // eslint-disable-next-line\n      var l10nLocale = {\n        overflowCountTemplate: '+${count} more..',\n        totalCountTemplate: '${count} selected'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      var remainContent = this.l10n.getConstant('overflowCountTemplate');\n      var totalContent = this.l10n.getConstant('totalCountTemplate');\n      var remainElement = this.createElement('span', {\n        className: REMAIN_WRAPPER\n      });\n      this.overFlowWrapper.appendChild(remainElement);\n      remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n      var remainSize = remainElement.offsetWidth;\n      remove(remainElement);\n      if (this.showDropDownIcon) {\n        downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n      }\n      if (!isNullOrUndefined(this.value)) {\n        if (this.mode !== 'Box') {\n          for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n            data += index === 0 ? '' : this.delimiterChar + ' ';\n            temp = this.getOverflowVal(index);\n            data += temp;\n            temp = this.overFlowWrapper.innerHTML;\n            if (this.enableHtmlSanitizer) {\n              this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n            } else {\n              this.overFlowWrapper.innerHTML = data;\n            }\n            wrapperleng = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n            if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n              if (tempData !== undefined && tempData !== '') {\n                temp = tempData;\n                index = tempIndex + 1;\n              }\n              this.overFlowWrapper.innerHTML = temp;\n              remaining = this.value.length - index;\n              wrapperleng = this.overFlowWrapper.offsetWidth;\n              while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                textArr.pop();\n                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                remaining++;\n                wrapperleng = this.overFlowWrapper.offsetWidth;\n              }\n              break;\n            } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n              tempData = data;\n              tempIndex = index;\n            } else if (index === 0) {\n              tempData = '';\n              tempIndex = -1;\n            }\n          }\n        } else {\n          addClass([this.chipWrapper], HIDEICON);\n          var ele = this.chipWrapper.cloneNode(true);\n          var chips = selectAll('.' + CHIP, ele);\n          for (var i = 0; i < chips.length; i++) {\n            temp = this.overFlowWrapper.innerHTML;\n            this.overFlowWrapper.appendChild(chips[i]);\n            data = this.overFlowWrapper.innerHTML;\n            wrapperleng = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n            if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n              if (tempData !== undefined && tempData !== '') {\n                temp = tempData;\n                i = tempIndex + 1;\n              }\n              this.overFlowWrapper.innerHTML = temp;\n              remaining = this.value.length - i;\n              wrapperleng = this.overFlowWrapper.offsetWidth;\n              while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                remaining++;\n                wrapperleng = this.overFlowWrapper.offsetWidth;\n              }\n              break;\n            } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n              tempData = data;\n              tempIndex = i;\n            } else if (i === 0) {\n              tempData = '';\n              tempIndex = -1;\n            }\n          }\n        }\n      }\n      if (remaining > 0) {\n        this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n      }\n      if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n        addClass([remainElement], REMAIN_COUNT);\n      }\n    } else {\n      this.overFlowWrapper.innerHTML = '';\n      addClass([this.overFlowWrapper], HIDEICON);\n    }\n    this.updateDelimMode();\n  };\n  DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n    if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 && this.overFlowWrapper.firstChild.nodeValue === '') {\n      this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n    }\n    remainElement.innerHTML = '';\n    remainElement.innerText = this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box') ? remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n    if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n      removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n    } else {\n      addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n      removeClass([this.overFlowWrapper], REMAIN_COUNT);\n    }\n    return remainElement;\n  };\n  DropDownTree.prototype.getOverflowVal = function (index) {\n    // eslint-disable-next-line\n    var selectedData = this.getSelectedData(this.value[index]);\n    return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n  };\n  DropDownTree.prototype.updateDelimMode = function () {\n    if (this.mode !== 'Box') {\n      if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n        addClass([this.overFlowWrapper], REMAIN_COUNT);\n        addClass([this.overFlowWrapper], SHOW_TEXT);\n      } else {\n        this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        removeClass([this.overFlowWrapper], REMAIN_COUNT);\n      }\n    } else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n      this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n    }\n  };\n  DropDownTree.prototype.createHiddenElement = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'class': HIDDENELEMENT,\n          'tabindex': '-1',\n          'multiple': ''\n        }\n      });\n    } else {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'tabindex': '-1',\n          'class': HIDDENELEMENT\n        }\n      });\n    }\n    prepend([this.hiddenElement], this.inputWrapper);\n    this.validationAttribute();\n  };\n  DropDownTree.prototype.createClearIcon = function () {\n    this.overAllClear = this.createElement('span', {\n      className: CLOSEICON_CLASS\n    });\n    addClass([this.overAllClear], HIDEICON);\n    removeClass([this.inputWrapper], SHOW_CLEAR);\n    if (this.showClearButton) {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n  DropDownTree.prototype.validationAttribute = function () {\n    var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n    this.hiddenElement.setAttribute('name', name);\n    this.inputEle.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n    for (var i = 0; i < attributes$$1.length; i++) {\n      var attr = this.inputEle.getAttribute(attributes$$1[i]);\n      if (attr) {\n        this.hiddenElement.setAttribute(attributes$$1[i], attr);\n        this.inputEle.removeAttribute(attributes$$1[i]);\n      }\n    }\n  };\n  DropDownTree.prototype.createChip = function () {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipWrapper = this.createElement('span', {\n        className: CHIP_WRAPPER\n      });\n      this.chipCollection = this.createElement('span', {\n        className: CHIP_COLLECTION\n      });\n      this.chipWrapper.appendChild(this.chipCollection);\n      this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n      addClass([this.inputWrapper], SHOW_CHIP);\n      var isValid = this.getValidMode();\n      if (isValid && this.value !== null && this.value && this.value.length !== 0) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else if (this.value === null || this.value && this.value.length === 0 || this.checkWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n    }\n  };\n  DropDownTree.prototype.getValidMode = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return this.mode === 'Box' ? true : this.mode === 'Default' && this.inputFocus ? true : false;\n    } else {\n      return false;\n    }\n  };\n  DropDownTree.prototype.createSelectAllWrapper = function () {\n    this.checkAllParent = this.createElement('div', {\n      className: CHECKALLPARENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.selectAllSpan = this.createElement('span', {\n      className: ALLTEXT\n    });\n    this.selectAllSpan.textContent = '';\n    var ele = closest(this.element, '.' + BIGGER);\n    var touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n    this.checkBoxElement = createCheckBox(this.createElement, true, {\n      cssClass: touchClass\n    });\n    this.checkBoxElement.setAttribute('role', 'checkbox');\n    this.checkAllParent.appendChild(this.checkBoxElement);\n    this.checkAllParent.appendChild(this.selectAllSpan);\n    this.setLocale();\n    EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n    this.wireCheckAllWrapperEvents();\n  };\n  DropDownTree.prototype.clickHandler = function (e) {\n    var target;\n    if (e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT)) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.target;\n    }\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      this.isClicked = true;\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n      this.isClicked = false;\n    }\n    e.preventDefault();\n  };\n  DropDownTree.prototype.changeState = function (wrapper, state, e) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n      if (!this.isReverseUpdate) {\n        this.isCheckAllCalled = true;\n        this.treeObj.checkAll();\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n      this.setLocale(true);\n    } else if (state === 'uncheck' && frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(CHECK);\n      ariaState = 'false';\n      if (!this.isReverseUpdate) {\n        this.treeObj.uncheckAll();\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n      this.setLocale(false);\n    }\n    this.setMultiSelect();\n    this.ensurePlaceHolder();\n    ariaState = state === 'check' ? 'true' : 'false';\n    if (!isNullOrUndefined(ariaState)) {\n      wrapper.setAttribute('aria-checked', ariaState);\n    }\n  };\n  DropDownTree.prototype.setLocale = function (unSelect) {\n    if (!this.selectAllSpan) {\n      return;\n    }\n    if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.unSelectAllText : this.selectAllText;\n      this.selectAllSpan.textContent = '';\n      // eslint-disable-next-line\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n      for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n    }\n  };\n  DropDownTree.prototype.setAttributes = function () {\n    this.inputEle.setAttribute('tabindex', '-1');\n    var id = this.element.getAttribute('id');\n    this.hiddenElement.id = id + '_hidden';\n    this.inputWrapper.setAttribute('tabindex', '0');\n    attributes(this.inputWrapper, this.getAriaAttributes());\n  };\n  DropDownTree.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        if (htmlAttr === 'class') {\n          this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n        } else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n          this.setProperties({\n            enabled: false\n          }, true);\n          this.setEnable();\n        } else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n          this.setProperties({\n            readonly: true\n          }, true);\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder', 'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n          if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder') {\n              Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n            } else {\n              this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n            }\n          } else {\n            this.inputWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.updateDataAttribute = function () {\n    var value = this.htmlAttributes;\n    var invalidAttr = ['class', 'style', 'id', 'type'];\n    var attr = {};\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n  DropDownTree.prototype.showOverAllClear = function () {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    if (this.overAllClear) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n      if (isValue && this.showClearButton) {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      } else {\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    }\n  };\n  DropDownTree.prototype.setTreeValue = function () {\n    if (this.value !== null && this.value.length !== 0) {\n      // eslint-disable-next-line\n      var data = void 0;\n      if (this.showCheckBox || this.allowMultiSelection) {\n        for (var i = 0; i < this.value.length; i++) {\n          data = this.treeObj.getTreeData(this.value[i])[0];\n          if (isNullOrUndefined(data)) {\n            this.value.splice(this.value.indexOf(this.value[i]), 1);\n          }\n        }\n        if (this.value.length !== 0) {\n          this.setValidValue();\n        }\n      } else {\n        data = this.treeObj.getTreeData(this.value[0])[0];\n        if (!isNullOrUndefined(data)) {\n          this.setProperties({\n            text: data[this.fields.text]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            value: this.currentValue\n          }, true);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.setTreeText = function () {\n    if (this.value !== null && !this.isInitialized) {\n      return;\n    }\n    if (this.text !== null) {\n      // eslint-disable-next-line\n      var data = void 0;\n      var valArr = [];\n      if (this.showCheckBox || this.allowMultiSelection) {\n        var textArr = this.text.split(this.delimiterChar);\n        for (var i = 0; i < textArr.length; i++) {\n          data = this.getItems(textArr[i]);\n          if (!isNullOrUndefined(data)) {\n            valArr.push(data[this.fields.value].toString());\n          }\n        }\n        if (valArr.length !== 0) {\n          this.oldValue = this.value;\n          this.setProperties({\n            value: valArr\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      } else {\n        data = this.getItems(this.text);\n        if (!isNullOrUndefined(data)) {\n          this.oldValue = this.value;\n          this.setProperties({\n            value: [data[this.fields.value].toString()]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.setSelectedValue = function () {\n    if (this.value != null) {\n      return;\n    }\n    if (!this.isInitialized) {\n      this.oldValue = this.value;\n      if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n        this.setProperties({\n          value: this.treeObj.selectedNodes\n        }, true);\n        if (this.allowMultiSelection) {\n          this.updateMode();\n        }\n      } else if (this.showCheckBox && this.treeObj.checkedNodes) {\n        if (this.treeObj.checkedNodes.length > 0) {\n          this.setProperties({\n            value: this.treeObj.checkedNodes\n          }, true);\n          setValue('selectedNodes', [], this.treeObj);\n          this.treeObj.dataBind();\n          this.updateMode();\n        }\n      }\n      this.updateSelectedValues();\n      this.currentText = this.text;\n      this.currentValue = this.value;\n    }\n  };\n  DropDownTree.prototype.setValidValue = function () {\n    var _this = this;\n    if (!this.showCheckBox && !this.allowMultiSelection) {\n      Input.setValue(this.text, this.inputEle, this.floatLabelType);\n      var id = this.value[0].toString();\n      if (this.treeObj.selectedNodes[0] !== id) {\n        setValue('selectedNodes', [id], this.treeObj);\n      }\n    } else {\n      if (this.showCheckBox) {\n        var difference = this.value.filter(function (e) {\n          return _this.treeObj.checkedNodes.indexOf(e) === -1;\n        });\n        if (difference.length > 0 || this.treeSettings.autoCheck) {\n          this.treeObj.checkedNodes = this.value.slice();\n          this.treeObj.dataBind();\n          this.setMultiSelect();\n        }\n      } else {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.selectedText = [];\n        this.updateSelectedValues();\n      }\n      this.treeObj.dataBind();\n    }\n    this.currentText = this.text;\n    this.currentValue = this.value;\n    if (this.isInitialized) {\n      this.triggerChangeEvent();\n    }\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.getItems = function (givenText) {\n    // eslint-disable-next-line\n    var data;\n    if (this.treeDataType === 1) {\n      for (var i = 0; i < this.treeItems.length; i++) {\n        // eslint-disable-next-line\n        var text = getValue(this.fields.text, this.treeItems[i]);\n        if (!isNullOrUndefined(this.treeItems[i]) && !isNullOrUndefined(text) && text === givenText) {\n          data = this.treeItems[i];\n          break;\n        }\n      }\n    } else {\n      data = this.getNestedItems(this.treeItems, this.fields, givenText);\n    }\n    return data;\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n    // eslint-disable-next-line\n    var newData;\n    for (var i = 0, objlen = data.length; i < objlen; i++) {\n      // eslint-disable-next-line\n      var dataId = getValue(this.fields.text, data[i]);\n      if (data[i] && dataId && dataId.toString() === givenText) {\n        return data[i];\n      } else if (typeof field.child === 'string' && !isNullOrUndefined(getValue(field.child, data[i]))) {\n        // eslint-disable-next-line\n        var childData = getValue(field.child, data[i]);\n        // eslint-disable-next-line\n        newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n        if (newData !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', data[i]))) {\n        var child = 'child';\n        // eslint-disable-next-line\n        newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n        if (newData !== undefined) {\n          break;\n        }\n      }\n    }\n    return newData;\n  };\n  DropDownTree.prototype.getChildType = function (mapper) {\n    return typeof mapper.child === 'string' || isNullOrUndefined(mapper.child) ? mapper : mapper.child;\n  };\n  /* To render the treeview */\n  DropDownTree.prototype.renderTree = function () {\n    this.treeObj = new TreeView({\n      fields: this.getTreeFields(this.fields),\n      enableRtl: this.enableRtl,\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeChecked: this.onNodeChecked.bind(this),\n      nodeChecking: this.beforeCheck.bind(this),\n      nodeExpanded: this.onNodeExpanded.bind(this),\n      actionFailure: this.onActionFailure.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      dataBound: this.OnDataBound.bind(this),\n      allowMultiSelection: this.allowMultiSelection,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      showCheckBox: this.showCheckBox,\n      autoCheck: this.treeSettings.autoCheck,\n      sortOrder: this.sortOrder,\n      expandOn: this.treeSettings.expandOn,\n      loadOnDemand: this.treeSettings.loadOnDemand,\n      nodeSelecting: this.onBeforeSelect.bind(this),\n      nodeTemplate: this.itemTemplate\n    });\n    this.treeObj.root = this.root ? this.root : this;\n    this.treeObj.appendTo('#' + this.tree.id);\n  };\n  /* To render the popup element */\n  DropDownTree.prototype.renderPopup = function () {\n    var _this = this;\n    if (this.isFilteredData) {\n      this.filterObj.value = '';\n      this.treeObj.fields = this.getTreeFields(this.fields);\n      this.isFilterRestore = true;\n      this.isFilteredData = false;\n      this.hideCheckAll(false);\n    }\n    var isCancelled = false;\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        addClass([_this.inputWrapper], [ICONANIMATION]);\n        if (_this.isFirstRender) {\n          _this.popupEle = _this.createElement('div', {\n            id: _this.element.id + '_popup',\n            className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n          });\n          document.body.appendChild(_this.popupEle);\n          _this.createPopup(_this.popupEle);\n        } else {\n          _this.popupEle = _this.popupObj.element;\n        }\n      } else {\n        isCancelled = true;\n      }\n      if (_this.isFirstRender && !isCancelled) {\n        prepend([_this.popupDiv], _this.popupEle);\n        removeClass([_this.popupDiv], DDTHIDEICON);\n        if (_this.allowFiltering) {\n          _this.renderFilter();\n        }\n        if (_this.showCheckBox && _this.showSelectAll && !_this.popupDiv.classList.contains(NODATA)) {\n          _this.createSelectAllWrapper();\n          _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n        }\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate();\n        }\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate();\n        }\n        _this.isFirstRender = false;\n        /* eslint-disable */\n        if (_this.hasTemplate && _this.portals) {\n          _this.portals = _this.portals.concat(_this.treeObj.portals);\n          /* eslint-enable */\n          _this.renderReactTemplates();\n        }\n      }\n      if (!isCancelled) {\n        attributes(_this.inputWrapper, {\n          'aria-expanded': 'true'\n        });\n        _this.popupObj.show(null, _this.zIndex === 1000 ? _this.inputEle : null);\n        removeClass([_this.popupEle], DDTHIDEICON);\n        _this.updatePopupHeight();\n        _this.popupObj.refreshPosition();\n        if (!(_this.showCheckBox && _this.showSelectAll) && !_this.popupDiv.classList.contains(NODATA) && _this.treeItems.length > 0) {\n          var focusedElement = _this.treeObj.element.querySelector('li');\n          focusedElement.focus();\n          addClass([focusedElement], ['e-node-focus']);\n        }\n        if (_this.checkSelectAll && _this.checkBoxElement) {\n          var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n          _this.changeState(wrap, 'check');\n          _this.checkSelectAll = false;\n        }\n        if (_this.allowFiltering) {\n          removeClass([_this.inputWrapper], [INPUTFOCUS]);\n          _this.filterObj.element.focus();\n        }\n        var eventArgs = {\n          popup: _this.popupObj\n        };\n        _this.trigger('open', eventArgs);\n      }\n    });\n  };\n  DropDownTree.prototype.updatePopupHeight = function () {\n    if (this.isFirstRender) {\n      return;\n    }\n    var popupHeight = this.getHeight();\n    this.popupEle.style.maxHeight = popupHeight;\n    if (this.allowFiltering) {\n      var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.headerTemplate) {\n      var height = Math.round(this.header.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.showCheckBox && this.showSelectAll && !this.popupDiv.classList.contains(NODATA)) {\n      var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.footerTemplate) {\n      var height = Math.round(this.footer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n    border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n    popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n    this.popupDiv.style.maxHeight = popupHeight;\n  };\n  DropDownTree.prototype.createPopup = function (element) {\n    var _this = this;\n    if (this.isFirstRender) {\n      this.popupObj = new Popup(element, {\n        width: this.setWidth(),\n        targetType: 'relative',\n        collision: {\n          X: 'flip',\n          Y: 'flip'\n        },\n        relateTo: this.inputWrapper,\n        zIndex: this.zIndex,\n        enableRtl: this.enableRtl,\n        position: {\n          X: 'left',\n          Y: 'bottom'\n        },\n        close: function () {\n          _this.isPopupOpen = false;\n        },\n        open: function () {\n          EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n          _this.isPopupOpen = true;\n        },\n        targetExitViewport: function () {\n          if (!Browser.isDevice) {\n            _this.hidePopup();\n          }\n        }\n      });\n    }\n  };\n  /* To calculate the width when change via set model */\n  DropDownTree.prototype.setElementWidth = function (inputWidth) {\n    var ddElement = this.inputWrapper;\n    if (!isNullOrUndefined(inputWidth)) {\n      if (typeof inputWidth === 'number') {\n        ddElement.style.width = formatUnit(inputWidth);\n      } else if (typeof inputWidth === 'string') {\n        ddElement.style.width = inputWidth.match(/px|%|em/) ? inputWidth : formatUnit(inputWidth);\n      }\n    }\n  };\n  /* To calculate the width of the popup */\n  DropDownTree.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n    } else if (typeof this.popupWidth === 'string') {\n      width = this.popupWidth.match(/px|em/) ? this.popupWidth : width;\n    }\n    return width;\n  };\n  /* To calculate the height of the popup */\n  DropDownTree.prototype.getHeight = function () {\n    var height = formatUnit(this.popupHeight);\n    if (height.indexOf('%') > -1) {\n      // Will set the height of the popup according to the view port height\n      height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n    } else if (typeof this.popupHeight === 'string') {\n      height = this.popupHeight.match(/px|em/) ? this.popupHeight : height;\n    }\n    return height;\n  };\n  DropDownTree.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    var isTree = closest(target, '.' + PARENTITEM);\n    var isFilter = closest(target, '.' + FILTERWRAP);\n    var isHeader = closest(target, '.' + HEADER);\n    var isFooter = closest(target, '.' + FOOTER);\n    var isScroller = target.classList.contains(DROPDOWN) ? true : matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview');\n    if (this.isPopupOpen && (!isNullOrUndefined(this.inputWrapper) && this.inputWrapper.contains(target) || isTree || isScroller || isHeader || isFooter) || (this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) || this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT) || target.classList.contains(CHECKBOXFRAME)))) {\n      this.isDocumentClick = false;\n      e.preventDefault();\n    } else if (!isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n      this.focusOut(e);\n    }\n  };\n  DropDownTree.prototype.onActionFailure = function (e) {\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    addClass([this.popupDiv], NODATA);\n  };\n  DropDownTree.prototype.OnDataBound = function (args) {\n    this.treeItems = args.data;\n    if (this.treeItems.length <= 0) {\n      this.l10nUpdate();\n      addClass([this.popupDiv], NODATA);\n      this.hideCheckAll(true);\n    } else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n      removeClass([this.popupDiv], NODATA);\n      this.hideCheckAll(false);\n    }\n    this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n    if (this.isFirstRender && this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n      if (!this.wrapText) {\n        this.updateView();\n      }\n      this.treeObj.element.focus();\n    }\n    var eventArgs = {\n      data: args.data\n    };\n    this.trigger('dataBound', eventArgs);\n    if (this.filterObj === null) {\n      this.isFilteredData = false;\n    }\n    if (this.isFilteredData) {\n      this.treeObj.expandAll();\n    }\n    if (this.isFilterRestore) {\n      this.restoreFilterSelection();\n      this.isFilterRestore = false;\n    }\n  };\n  DropDownTree.prototype.restoreFilterSelection = function () {\n    if (this.showCheckBox) {\n      this.treeObj.checkedNodes = this.value ? this.value : [];\n    } else {\n      this.treeObj.selectedNodes = this.value ? this.value : [];\n    }\n  };\n  /* To set cssclass for the dropdowntree */\n  DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n    var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n    if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n      removeClass(elements, oldClass.split(' '));\n    }\n    if (!isNullOrUndefined(newClass) && newClass !== '') {\n      addClass(elements, newClass.split(' '));\n    }\n  };\n  DropDownTree.prototype.setEnableRTL = function (state) {\n    if (state) {\n      this.inputWrapper.classList.add(RTL);\n    } else {\n      this.inputWrapper.classList.remove(RTL);\n    }\n    if (this.popupObj) {\n      this.popupObj.enableRtl = state;\n      this.popupObj.dataBind();\n    }\n    if (this.treeObj) {\n      this.treeObj.enableRtl = state;\n      this.treeObj.dataBind();\n    }\n  };\n  /* To set enable property */\n  DropDownTree.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputEle);\n    if (this.enabled) {\n      removeClass([this.inputWrapper], DISABLED);\n      this.inputEle.setAttribute('aria-disabled', 'false');\n      this.inputWrapper.setAttribute('aria-disabled', 'false');\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      addClass([this.inputWrapper], DISABLED);\n      if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n      }\n      this.inputEle.setAttribute('aria-disabled', 'true');\n      this.inputWrapper.setAttribute('aria-disabled', 'true');\n    }\n  };\n  DropDownTree.prototype.cloneFields = function (fields) {\n    var clonedField = {\n      dataSource: fields.dataSource,\n      value: fields.value,\n      text: fields.text,\n      parentValue: fields.parentValue,\n      child: this.cloneChildField(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selected: fields.selected,\n      selectable: fields.selectable,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return clonedField;\n  };\n  DropDownTree.prototype.cloneChildField = function (fields) {\n    if (typeof fields === 'string') {\n      return fields;\n    } else {\n      var clonedField = {\n        dataSource: fields.dataSource,\n        value: fields.value,\n        text: fields.text,\n        parentValue: fields.parentValue,\n        child: fields.child ? this.cloneChildField(fields.child) : null,\n        hasChildren: fields.hasChildren,\n        expanded: fields.expanded,\n        iconCss: fields.iconCss,\n        imageUrl: fields.imageUrl,\n        htmlAttributes: fields.htmlAttributes,\n        query: fields.query,\n        selected: fields.selected,\n        selectable: fields.selectable,\n        tableName: fields.tableName,\n        tooltip: fields.tooltip\n      };\n      return clonedField;\n    }\n  };\n  DropDownTree.prototype.getTreeFields = function (fields) {\n    var treeFields = {\n      dataSource: fields.dataSource,\n      id: fields.value,\n      text: fields.text,\n      parentID: fields.parentValue,\n      child: this.getTreeChildren(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      isChecked: fields.selected,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selectable: fields.selectable,\n      selected: fields.selected,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return treeFields;\n  };\n  DropDownTree.prototype.getTreeChildren = function (mapper) {\n    if (typeof mapper === 'string') {\n      return mapper;\n    } else if (!isNullOrUndefined(mapper)) {\n      mapper = this.getActualProperties(mapper);\n      var childFields = mapper;\n      if (mapper.value) {\n        childFields.id = mapper.value;\n      }\n      if (mapper.parentValue) {\n        childFields.parentID = mapper.parentValue;\n      }\n      if (mapper.child) {\n        childFields.child = this.getTreeChildren(mapper.child);\n      }\n      if (mapper.selected && this.showCheckBox) {\n        childFields.isChecked = mapper.selected;\n      }\n      return childFields;\n    }\n    return null;\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.getTreeDataType = function (ds, field) {\n    if (this.fields.dataSource instanceof DataManager) {\n      for (var i = 0; i < ds.length; i++) {\n        if (typeof field.child === 'string' && isNullOrUndefined(getValue(field.child, ds[i]))) {\n          return 1;\n        }\n      }\n      return 2;\n    }\n    if (isNullOrUndefined(this.fields.dataSource)) this.fields.dataSource = [];\n    for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n      if (typeof field.child === 'string' && !isNullOrUndefined(getValue(field.child, this.fields.dataSource[i]))) {\n        return 2;\n      }\n      if (!isNullOrUndefined(getValue(field.parentValue, this.fields.dataSource[i])) || !isNullOrUndefined(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n        return 1;\n      }\n    }\n    return 1;\n  };\n  /* Triggers when the tree fields is changed dynamically */\n  DropDownTree.prototype.setFields = function () {\n    this.resetValue();\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n    this.treeObj.fields = this.getTreeFields(this.fields);\n    this.treeObj.dataBind();\n  };\n  DropDownTree.prototype.getEventArgs = function (args) {\n    // eslint-disable-next-line\n    var checkData = args.data;\n    // eslint-disable-next-line\n    var selectData = args.nodeData;\n    var state;\n    if (this.showCheckBox) {\n      if (args.action === 'check') {\n        state = 'select';\n      } else if (args.action === 'uncheck') {\n        state = 'un-select';\n      }\n    }\n    var eventArgs = {\n      action: this.showCheckBox ? state : args.action,\n      isInteracted: this.isClicked ? true : args.isInteracted,\n      item: args.node,\n      itemData: this.showCheckBox ? checkData[0] : selectData\n    };\n    return eventArgs;\n  };\n  DropDownTree.prototype.onBeforeSelect = function (args) {\n    if (args.isInteracted) {\n      this.oldValue = this.value ? this.value.slice() : this.value;\n      if (this.value === null) {\n        this.setProperties({\n          value: []\n        }, true);\n      }\n    }\n  };\n  DropDownTree.prototype.updateHiddenValue = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return;\n    }\n    if (this.value && this.value.length) {\n      this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /* Triggers when the tree node is selected */\n  DropDownTree.prototype.onNodeSelected = function (args) {\n    if (this.showCheckBox) {\n      return;\n    }\n    var selectedText;\n    if (args.isInteracted) {\n      var id = getValue('id', args.nodeData).toString();\n      if (!this.allowMultiSelection) {\n        this.hiddenElement.innerHTML = '';\n        this.setProperties({\n          value: [id]\n        }, true);\n        if (this.itemTemplate) {\n          selectedText = getValue('text', this.treeObj.getNode(id));\n        } else {\n          selectedText = getValue('text', args.nodeData).toString();\n        }\n        Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n        this.setProperties({\n          text: selectedText\n        }, true);\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        attributes(this.inputWrapper, {\n          'aria-describedby': this.element.id\n        });\n        attributes(this.inputWrapper, {\n          'aria-activedescendant': id.toString()\n        });\n        this.updateHiddenValue();\n        this.showOverAllClear();\n        this.hidePopup();\n        this.isNodeSelected = true;\n      } else if (this.allowMultiSelection) {\n        this.setMultiSelect();\n      }\n    }\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n    if (this.isValueChange && !this.changeOnBlur) {\n      this.triggerChangeEvent(this.keyEventArgs);\n      this.isValueChange = false;\n    }\n  };\n  DropDownTree.prototype.onNodeClicked = function (args) {\n    if (!this.changeOnBlur && this.isNodeSelected) {\n      this.triggerChangeEvent(args.event);\n      this.isNodeSelected = false;\n    }\n    var target = args.event.target;\n    if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n      this.isClicked = true;\n      // eslint-disable-next-line\n      var getNodeDetails = this.treeObj.getNode(args.node);\n      if (getNodeDetails.isChecked === 'true') {\n        this.treeObj.uncheckAll([args.node]);\n      } else {\n        this.treeObj.checkAll([args.node]);\n      }\n      this.isClicked = false;\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n    if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n      this.triggerChangeEvent(args.event);\n    }\n  };\n  DropDownTree.prototype.onNodeChecked = function (args) {\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n    if (this.isFilteredData && args.action === 'uncheck') {\n      var id = getValue('id', args.data[0]).toString();\n      this.removeSelectedData(id, true);\n    }\n    if (!this.isChipDelete && args.isInteracted) {\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n    if (this.showSelectAll && this.checkBoxElement) {\n      var nodes = this.treeObj.element.querySelectorAll('li');\n      var checkedNodes = this.treeObj.element.querySelectorAll('li .e-checkbox-wrapper[aria-checked=true]');\n      var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n      if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0)) {\n        this.isReverseUpdate = true;\n        this.changeState(wrap, 'uncheck');\n        this.isReverseUpdate = false;\n      } else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled)) {\n        this.isReverseUpdate = true;\n        this.isCheckAllCalled = false;\n        this.changeState(wrap, 'check');\n        this.isReverseUpdate = false;\n      }\n    }\n  };\n  DropDownTree.prototype.beforeCheck = function (args) {\n    if (args.isInteracted) {\n      this.oldValue = this.value ? this.value.slice() : this.value;\n    }\n  };\n  DropDownTree.prototype.onNodeExpanded = function (args) {\n    if (this.hasTemplate && this.portals) {\n      this.portals = [].concat(this.treeObj.portals);\n      /* eslint-enable */\n      this.renderReactTemplates();\n    }\n  };\n  DropDownTree.prototype.updateClearButton = function (state) {\n    if (state) {\n      if (!this.inputWrapper.contains(this.overAllClear)) {\n        this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n      } else {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    } else {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n      for (var i = 0; i < chipClose.length; i++) {\n        if (!state) {\n          addClass([chipClose[i]], HIDEICON);\n        } else {\n          removeClass([chipClose[i]], HIDEICON);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.updateDropDownIconState = function (state) {\n    var spinIcon = select('.' + DDTICON, this.inputWrapper);\n    if (state) {\n      if (!spinIcon) {\n        Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n      } else {\n        removeClass([spinIcon], HIDEICON);\n      }\n      addClass([this.inputWrapper], SHOW_DD_ICON);\n    } else {\n      addClass([spinIcon], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_DD_ICON);\n    }\n  };\n  DropDownTree.prototype.updateMode = function () {\n    if (this.mode === 'Custom') {\n      return;\n    }\n    if (this.mode !== 'Delimiter') {\n      if (!this.inputWrapper.contains(this.chipWrapper)) {\n        this.createChip();\n      }\n      var isValid = this.getValidMode();\n      if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n        removeClass([this.chipWrapper], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CHIP);\n      } else if (!isValid) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n      var isValue = this.value !== null ? this.value.length !== 0 ? true : false : false;\n      if (isValid && isValue) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else {\n        removeClass([this.inputEle], CHIP_INPUT);\n      }\n    } else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n    }\n  };\n  DropDownTree.prototype.ensurePlaceHolder = function () {\n    if (isNullOrUndefined(this.value) || this.value && this.value.length === 0) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n    }\n  };\n  DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n    if (floatLabelType !== 'Never') {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n  DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n    if (!this.isFilteredData) {\n      this.setProperties({\n        value: this.isFromFilterChange && newValues && newValues.length == 0 ? this.value : newValues\n      }, true);\n      this.isFromFilterChange = false;\n      if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.treeObj.dataBind();\n      }\n    } else {\n      var selectedValues = isNullOrUndefined(this.value) ? [] : this.value;\n      for (var i = 0; i < newValues.length; i++) {\n        if (isNullOrUndefined(this.value) || this.value.indexOf(newValues[i]) === -1) {\n          selectedValues.push(newValues[i]);\n        }\n      }\n      this.setProperties({\n        value: selectedValues\n      }, true);\n    }\n  };\n  DropDownTree.prototype.setMultiSelect = function () {\n    if (this.showCheckBox && !this.isDynamicChange) {\n      this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n    } else {\n      var ddtValue = this.allowMultiSelection ? this.showCheckBox ? this.treeObj.checkedNodes : this.treeObj.selectedNodes : this.value ? this.showCheckBox ? this.value : [this.value[0]] : null;\n      this.setMultiSelectValue(ddtValue);\n      if (this.showCheckBox && this.value !== null) {\n        this.treeObj.checkedNodes = this.value;\n        this.treeObj.dataBind();\n      }\n    }\n    this.selectedText = [];\n    var checkSelection = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n    if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      detach(this.chipWrapper);\n    }\n    var isValid = this.getValidMode();\n    if (isValid && this.value !== null) {\n      addClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        removeClass([this.chipWrapper], HIDEICON);\n      }\n    }\n    var isValue = this.value ? this.value.length ? true : false : false;\n    if (this.chipWrapper && this.mode === 'Box' && !isValue) {\n      addClass([this.chipWrapper], HIDEICON);\n      removeClass([this.inputEle], CHIP_INPUT);\n    }\n    this.updateSelectedValues();\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.getSelectedData = function (value) {\n    // eslint-disable-next-line\n    var data = null;\n    if (this.isFilteredData) {\n      for (var i = 0; i < this.selectedData.length; i++) {\n        if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n          data = this.selectedData[i];\n          break;\n        }\n      }\n    }\n    if (isNullOrUndefined(data)) {\n      if (this.treeSettings.loadOnDemand) {\n        data = this.getNodeData(value);\n      } else {\n        data = this.treeObj.getNode(value);\n      }\n      if (!isNullOrUndefined(data)) {\n        this.selectedData.push(data);\n      }\n    }\n    return data;\n  };\n  DropDownTree.prototype.getNodeData = function (id) {\n    var childItems;\n    if (isNullOrUndefined(id)) {\n      return childItems;\n    } else if (this.treeDataType === 1) {\n      for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n        var dataId = getValue(this.fields.value, this.treeItems[i]);\n        if (!isNullOrUndefined(this.treeItems[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n          return this.treeItems[i];\n        }\n      }\n    } else {\n      return this.getChildNodeData(this.treeItems, this.fields, id);\n    }\n    return childItems;\n  };\n  DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n    var newChildItems;\n    if (isNullOrUndefined(obj)) {\n      return newChildItems;\n    }\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var dataValue = getValue(mapper.value, obj[i]);\n      if (obj[i] && dataValue && dataValue.toString() === id) {\n        return obj[i];\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childNodeData = getValue(mapper.child, obj[i]);\n        newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n        if (newChildItems !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var child = 'child';\n        newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n        if (newChildItems !== undefined) {\n          break;\n        }\n      }\n    }\n    return newChildItems;\n  };\n  DropDownTree.prototype.getChildMapperFields = function (mapper) {\n    return typeof mapper.child === 'string' || isNullOrUndefined(mapper.child) ? mapper : mapper.child;\n  };\n  DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n    var selectedValues = isNullOrUndefined(this.value) ? [] : this.value.slice();\n    selectedValues.splice(selectedValues.indexOf(value), 1);\n    this.setProperties({\n      value: selectedValues\n    }, muteOnChange);\n    for (var i = 0; i < this.selectedData.length; i++) {\n      if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n        this.selectedData.splice(i, 1);\n        break;\n      }\n    }\n  };\n  DropDownTree.prototype.updateSelectedValues = function () {\n    this.dataValue = '';\n    var temp;\n    var text;\n    var textValue = '';\n    // eslint-disable-next-line\n    var selectedData;\n    this.hiddenElement.innerHTML = '';\n    var hiddenInputValue = '';\n    if ((!this.isChipDelete || this.treeSettings.autoCheck) && this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipCollection.innerHTML = '';\n    }\n    if (!this.isFilteredData) {\n      this.selectedData = [];\n    }\n    if (!isNullOrUndefined(this.value)) {\n      for (var i = 0, len = this.value.length; i < len; i++) {\n        selectedData = this.getSelectedData(this.value[i]);\n        text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n        this.selectedText.push(text);\n        temp = this.selectedText[this.selectedText.length - 1];\n        if (this.selectedText.length > 1) {\n          this.dataValue += this.delimiterChar + ' ' + temp;\n          textValue += ',' + temp;\n        } else {\n          this.dataValue += temp;\n          textValue += temp;\n        }\n        if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) && (this.allowMultiSelection || this.showCheckBox)) {\n          this.setChipValues(temp, this.value[i]);\n        }\n        hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' + this.selectedText[this.selectedText.length - 1] + '</option>';\n      }\n      if (this.selectedText.length >= 1) {\n        this.setProperties({\n          text: textValue\n        }, true);\n      }\n      this.hiddenElement.innerHTML = hiddenInputValue;\n      if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n        this.setTagValues();\n      }\n    }\n    var isValid = this.getValidMode();\n    if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n    }\n    Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n    if (textValue === '') {\n      this.setProperties({\n        text: null\n      }, true);\n    } else {\n      this.setProperties({\n        text: textValue\n      }, true);\n    }\n    if (this.showClearButton && this.inputFocus) {\n      this.showOverAllClear();\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n    this.currentText = this.text;\n    this.currentValue = this.value;\n  };\n  DropDownTree.prototype.setChipValues = function (text, value) {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n    var chip = this.createElement('span', {\n      className: CHIP,\n      attrs: {\n        'data-value': value\n      }\n    });\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var chipClose = this.createElement('span', {\n      className: CHIP_CLOSE + ' ' + ICONS\n    });\n    if (this.enableHtmlSanitizer) {\n      chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n    } else {\n      chipContent.innerHTML = text;\n    }\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n    if (this.showClearButton) {\n      chip.appendChild(chipClose);\n      EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n    }\n  };\n  DropDownTree.prototype.setTagValues = function () {\n    if (this.value === null || this.text == null) {\n      return;\n    }\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n    if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n    var chip = this.createElement('span', {\n      className: CHIP\n    });\n    if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n      addClass([this.inputEle], CHIP_INPUT);\n    }\n    if (this.chipWrapper.classList.contains(HIDEICON)) {\n      removeClass([this.chipWrapper], HIDEICON);\n    }\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var template = this.customTemplate;\n    var templateId = this.customTemplateId;\n    var templatestring = 'customTemplate';\n    var compiledString = this.templateComplier(template);\n    var tempArr = compiledString({\n      'value': this.value,\n      'text': this.text\n    }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, chipContent);\n    }\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n  };\n  DropDownTree.prototype.setSelectAllWrapper = function (state) {\n    if (this.isFirstRender) {\n      return;\n    }\n    if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n      this.createSelectAllWrapper();\n      this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n    } else if (this.popupEle.contains(this.checkAllParent)) {\n      detach(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n  DropDownTree.prototype.setHeaderTemplate = function () {\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], HEADER);\n    }\n    // eslint-disable-next-line\n    var compiledString = this.templateComplier(this.headerTemplate);\n    var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.header);\n    }\n    this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n  };\n  // eslint-disable-next-line\n  DropDownTree.prototype.templateComplier = function (template) {\n    if (template) {\n      // eslint-disable-next-line\n      try {\n        if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (e) {\n        return compile(template);\n      }\n    }\n    return compile(template);\n  };\n  DropDownTree.prototype.setFooterTemplate = function () {\n    if (this.footer) {\n      this.footer.innerHTML = '';\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], FOOTER);\n    }\n    // eslint-disable-next-line\n    var compiledString = this.templateComplier(this.footerTemplate);\n    var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.footer);\n    }\n    append([this.footer], this.popupEle);\n  };\n  DropDownTree.prototype.clearAll = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    this.resetValue();\n    this.showOverAllClear();\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.popupObj) {\n        this.popupObj.refreshPosition();\n      }\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n    }\n    if (e) {\n      this.isClearButtonClick = true;\n    }\n    if (!this.changeOnBlur) {\n      this.triggerChangeEvent(e);\n    }\n  };\n  DropDownTree.prototype.removeChip = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    var element = e.target.parentElement;\n    var value = element.getAttribute('data-value');\n    if (this.chipCollection) {\n      if (element) {\n        remove(element);\n      }\n    }\n    this.isChipDelete = true;\n    this.isClearButtonClick = true;\n    this.removeSelectedData(value, true);\n    this.selectedText = [];\n    if (this.allowMultiSelection) {\n      this.treeObj.selectedNodes = this.value.slice();\n      this.updateSelectedValues();\n    }\n    if (this.showCheckBox) {\n      this.treeObj.uncheckAll([value]);\n      this.clearCheckAll();\n      this.setMultiSelect();\n    }\n    this.triggerChangeEvent(e);\n    this.isChipDelete = false;\n    this.ensurePlaceHolder();\n  };\n  DropDownTree.prototype.resetValue = function (isDynamicChange) {\n    if (this.value == [] && this.text == null) {\n      return;\n    }\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n    if (!isDynamicChange) {\n      this.oldValue = this.value;\n      this.setProperties({\n        value: []\n      }, true);\n    }\n    this.dataValue = null;\n    this.setProperties({\n      text: null\n    }, true);\n    this.selectedData = [];\n    setValue('selectedNodes', [], this.treeObj);\n    this.hiddenElement.innerHTML = '';\n    if (this.showCheckBox) {\n      this.treeObj.uncheckAll();\n      this.setMultiSelect();\n      this.clearCheckAll();\n    }\n    if (this.oldValue === null && !isDynamicChange) {\n      this.removeValue = true;\n    } else if (isDynamicChange) {\n      this.triggerChangeEvent();\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      this.chipCollection.innerHTML = '';\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n      this.ensurePlaceHolder();\n    }\n  };\n  DropDownTree.prototype.clearCheckAll = function () {\n    if (this.showSelectAll && this.value && this.value.length === 0) {\n      this.setLocale(false);\n    }\n  };\n  DropDownTree.prototype.selectAllItems = function (state) {\n    if (this.showCheckBox) {\n      if (state) {\n        this.isCheckAllCalled = true;\n        this.treeObj.checkAll();\n      } else {\n        this.treeObj.uncheckAll();\n      }\n      this.checkSelectAll = true;\n    } else if (this.allowMultiSelection) {\n      if (!state) {\n        this.treeObj.selectedNodes = [];\n      } else {\n        var li = selectAll('li', this.treeObj.element);\n        var id = void 0;\n        var arr = [];\n        for (var i = 0; i < li.length; i++) {\n          id = li[i].getAttribute('data-uid').toString();\n          arr.push(id);\n        }\n        this.treeObj.selectedNodes = arr;\n      }\n    }\n    this.updateMode();\n    this.setMultiSelect();\n    if (!this.wrapText) {\n      if (state) {\n        this.updateView();\n      } else {\n        this.updateOverflowWrapper(true);\n      }\n    }\n  };\n  DropDownTree.prototype.updateTreeSettings = function (prop) {\n    var value = Object.keys(prop.treeSettings)[0];\n    if (value === 'autoCheck') {\n      this.ensureAutoCheck();\n      this.treeObj.autoCheck = this.treeSettings.autoCheck;\n    } else if (value === 'loadOnDemand') {\n      this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n    } else if (value === 'expandOn') {\n      this.treeObj.expandOn = this.treeSettings.expandOn;\n      this.treeObj.dataBind();\n      return;\n    }\n    this.treeObj.dataBind();\n    this.setMultiSelect();\n    this.updateValue(this.value);\n  };\n  DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n    this.treeObj.showCheckBox = checkBox;\n    this.treeObj.dataBind();\n    this.isDynamicChange = true;\n    this.setSelectAllWrapper(this.showSelectAll);\n    if (this.showSelectAll) {\n      this.setLocale();\n    }\n    if (this.showCheckBox) {\n      this.updateMode();\n    }\n    this.setMultiSelect();\n    this.isDynamicChange = false;\n  };\n  DropDownTree.prototype.updateTemplate = function () {\n    if (this.popupObj) {\n      this.clearTemplate();\n      /* eslint-disable */\n      this.portals = [];\n      /* eslint-enable */\n      this.popupObj.destroy();\n      if (this.isPopupOpen) {\n        this.hidePopup();\n        this.isFirstRender = true;\n        this.renderPopup();\n      } else {\n        this.isFirstRender = true;\n      }\n    }\n  };\n  DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n    if (this.noRecord) {\n      this.noRecord.innerHTML = '';\n    } else {\n      this.noRecord = this.createElement('div');\n    }\n    if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n      // eslint-disable-next-line\n      var compiledString = this.templateComplier(template);\n      var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n      if (tempArr) {\n        tempArr = Array.prototype.slice.call(tempArr);\n        append(tempArr, this.noRecord);\n      }\n    } else {\n      // eslint-disable-next-line\n      var l10nLocale = {\n        noRecordsTemplate: 'No Records Found',\n        actionFailureTemplate: 'The Request Failed'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      this.noRecord.innerHTML = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n    }\n    addClass([this.noRecord], NODATACONTAINER);\n    prepend([this.noRecord], this.popupDiv);\n  };\n  DropDownTree.prototype.updateRecordTemplate = function (action) {\n    if (this.treeItems && this.treeItems.length <= 0) {\n      this.l10nUpdate(action);\n      if (this.hasTemplate) {\n        this.updateTemplate();\n      }\n    }\n  };\n  DropDownTree.prototype.updateOverflowWrapper = function (state) {\n    if (!state) {\n      if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n      }\n    } else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n      this.overFlowWrapper.innerHTML = '';\n    }\n  };\n  DropDownTree.prototype.updateMultiSelection = function (state) {\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n    this.treeObj.allowMultiSelection = state;\n    this.treeObj.dataBind();\n    this.updateOption();\n    if (this.allowMultiSelection) {\n      this.updateMode();\n    }\n    this.setMultiSelect();\n  };\n  DropDownTree.prototype.updateAllowFiltering = function (state) {\n    if (!this.isFirstRender) {\n      if (state) {\n        this.renderFilter();\n      } else {\n        this.destroyFilter();\n      }\n    }\n    this.ensureAutoCheck();\n  };\n  DropDownTree.prototype.updateFilterPlaceHolder = function () {\n    if (this.filterObj) {\n      this.filterObj.placeholder = this.filterBarPlaceholder;\n      this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n    }\n  };\n  DropDownTree.prototype.updateValue = function (value) {\n    this.isDynamicChange = true;\n    if (isNullOrUndefined(value) || value.length === 0) {\n      this.resetValue(true);\n    } else {\n      this.setTreeValue();\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n    this.updateHiddenValue();\n    this.isDynamicChange = false;\n  };\n  DropDownTree.prototype.updateText = function (text) {\n    if (isNullOrUndefined(text)) {\n      this.resetValue();\n    } else {\n      this.setTreeText();\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n    this.updateHiddenValue();\n  };\n  DropDownTree.prototype.updateModelMode = function () {\n    var validMode = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n    if (!validMode) {\n      return;\n    }\n    if (!this.wrapText) {\n      var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n      if (overFlow) {\n        overFlow.innerHTML = '';\n      }\n    }\n    this.updateMode();\n    this.setMultiSelect();\n    if (!this.wrapText && this.value && this.value.length !== 0) {\n      this.updateOverFlowView();\n      addClass([this.inputEle], CHIP_INPUT);\n      if (this.mode === 'Box') {\n        removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      } else {\n        addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      }\n    }\n  };\n  DropDownTree.prototype.updateOption = function () {\n    if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n      this.hiddenElement.setAttribute('multiple', '');\n    } else if (this.hiddenElement.hasAttribute('multiple') && !this.allowMultiSelection && !this.showCheckBox) {\n      this.hiddenElement.removeAttribute('multiple');\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {DropDownTreeModel} newProp - specifies the newProp value.\n   * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n   * @returns {void}\n   * @private\n   */\n  DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'width':\n          this.setElementWidth(newProp.width);\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n          break;\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputEle);\n          break;\n        case 'cssClass':\n          this.setCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n        case 'enableRtl':\n          this.setEnableRTL(this.enableRtl);\n          break;\n        case 'fields':\n          this.setFields();\n          break;\n        case 'readonly':\n          Input.setReadonly(newProp.readonly, this.inputEle);\n          break;\n        case 'enabled':\n          this.setEnable();\n          break;\n        case 'floatLabelType':\n          Input.removeFloating(this.inputObj);\n          Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n          this.ensureClearIconPosition(newProp.floatLabelType);\n          break;\n        case 'showClearButton':\n          this.updateClearButton(newProp.showClearButton);\n          break;\n        case 'allowFiltering':\n          this.updateAllowFiltering(newProp.allowFiltering);\n          break;\n        case 'filterBarPlaceholder':\n          this.updateFilterPlaceHolder();\n          break;\n        case 'value':\n          this.oldValue = oldProp.value;\n          this.updateValue(newProp.value);\n          break;\n        case 'text':\n          this.updateText(newProp.text);\n          break;\n        case 'allowMultiSelection':\n          this.updateMultiSelection(newProp.allowMultiSelection);\n          break;\n        case 'mode':\n          if (!this.showCheckBox && !this.allowMultiSelection) {\n            return;\n          }\n          if (this.mode === 'Custom') {\n            if (this.overFlowWrapper) {\n              detach(this.overFlowWrapper);\n            }\n            if (this.chipWrapper) {\n              detach(this.chipWrapper);\n            }\n            this.setTagValues();\n          } else {\n            if (oldProp.mode === 'Custom') {\n              this.updateOverflowWrapper(this.wrapText);\n            }\n            this.updateModelMode();\n          }\n          break;\n        case 'delimiterChar':\n          if (this.mode === 'Box') {\n            return;\n          }\n          if (this.showCheckBox || this.allowMultiSelection) {\n            this.setMultiSelect();\n          }\n          break;\n        case 'selectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale();\n          }\n          break;\n        case 'unSelectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale(false);\n          }\n          break;\n        case 'showSelectAll':\n          if (this.showCheckBox) {\n            this.setSelectAllWrapper(newProp.showSelectAll);\n            this.updatePopupHeight();\n          }\n          break;\n        case 'showCheckBox':\n          this.updateCheckBoxState(newProp.showCheckBox);\n          if (!this.wrapText) {\n            this.updateOverflowWrapper(true);\n          }\n          this.updatePopupHeight();\n          this.updateOption();\n          break;\n        case 'treeSettings':\n          this.updateTreeSettings(newProp);\n          break;\n        case 'customTemplate':\n          if (this.mode !== \"Custom\") {\n            return;\n          }\n          this.chipCollection.innerHTML = \"\";\n          this.setTagValues();\n          break;\n        case 'sortOrder':\n          if (this.hasTemplate) {\n            this.updateTemplate();\n          }\n          this.treeObj.sortOrder = newProp.sortOrder;\n          this.treeObj.dataBind();\n          this.updateValue(this.value);\n          break;\n        case 'showDropDownIcon':\n          this.updateDropDownIconState(newProp.showDropDownIcon);\n          break;\n        case 'popupWidth':\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n          break;\n        case 'popupHeight':\n          if (this.popupObj) {\n            this.updatePopupHeight();\n          }\n          break;\n        case 'zIndex':\n          if (this.popupObj) {\n            this.popupObj.zIndex = newProp.zIndex;\n            this.popupObj.dataBind();\n          }\n          break;\n        case 'headerTemplate':\n          this.updateTemplate();\n          break;\n        case 'footerTemplate':\n          this.updateTemplate();\n          break;\n        case 'itemTemplate':\n          this.updateTemplate();\n          this.treeObj.nodeTemplate = newProp.itemTemplate;\n          this.treeObj.dataBind();\n          break;\n        case 'noRecordsTemplate':\n          this.updateRecordTemplate();\n          break;\n        case 'actionFailureTemplate':\n          this.updateRecordTemplate(true);\n          break;\n        case 'htmlAttributes':\n          this.setHTMLAttributes();\n          break;\n        case 'wrapText':\n          this.updateOverflowWrapper(this.wrapText);\n          if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n            this.updateView();\n          } else {\n            addClass([this.overFlowWrapper], HIDEICON);\n            if (this.chipWrapper && this.mode === 'Box') {\n              removeClass([this.chipWrapper], HIDEICON);\n            } else {\n              removeClass([this.inputWrapper], SHOW_CHIP);\n              removeClass([this.inputEle], CHIP_INPUT);\n            }\n            this.ensurePlaceHolder();\n          }\n          break;\n      }\n    }\n  };\n  /**\n   * Allows you to clear the selected values from the Dropdown Tree component.\n   *\n   * @method clear\n   * @returns {void}\n   */\n  DropDownTree.prototype.clear = function () {\n    this.clearAll();\n    if (this.inputFocus) {\n      this.onFocusOut();\n    } else {\n      if (this.changeOnBlur) {\n        this.triggerChangeEvent();\n      }\n      this.removeValue = false;\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownTree.prototype.destroy = function () {\n    this.clearTemplate();\n    this.unWireEvents();\n    this.setCssClass(null, this.cssClass);\n    this.setProperties({\n      value: []\n    }, true);\n    this.setProperties({\n      text: null\n    }, true);\n    this.treeObj.destroy();\n    this.destroyFilter();\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n    if (this.element.tagName !== this.getDirective()) {\n      this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n    }\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n    detach(this.inputWrapper);\n    detach(this.popupDiv);\n    detach(this.hiddenElement);\n    this.element.classList.remove('e-input');\n    if (this.showCheckBox || this.allowMultiSelection) {\n      this.element.classList.remove(CHIP_INPUT);\n    }\n    this.inputObj = null;\n    while (this.hiddenElement.options.length > 0) {\n      this.hiddenElement.remove(0);\n    }\n    this.hiddenElement.innerHTML = '';\n    this.hiddenElement = null;\n    this.inputWrapper = null;\n    this.popupDiv = null;\n    this.tree = null;\n    this.popupObj = null;\n    this.treeObj = null;\n    this.overAllClear = null;\n    this.chipWrapper = null;\n    this.chipCollection = null;\n    this.checkAllParent = null;\n    this.selectAllSpan = null;\n    this.checkBoxElement = null;\n    this.checkWrapper = null;\n    this.popupEle = null;\n    this.header = null;\n    this.footer = null;\n    this.overFlowWrapper = null;\n    this.keyboardModule = null;\n    _super.prototype.destroy.call(this);\n  };\n  DropDownTree.prototype.destroyFilter = function () {\n    if (this.filterObj) {\n      this.filterObj.destroy();\n      detach(this.filterObj.element);\n      detach(this.filterContainer);\n      this.filterObj = null;\n    }\n  };\n  /**\n   * Ensures visibility of the Dropdown Tree item by using item value or item element.\n   * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n   * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n   * @returns {void}\n   */\n  DropDownTree.prototype.ensureVisible = function (item) {\n    this.treeObj.ensureVisible(item);\n  };\n  /**\n   * To get the updated data source of the Dropdown Tree.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n   * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n   */\n  // eslint-disable-next-line\n  DropDownTree.prototype.getData = function (item) {\n    return this.treeObj.getTreeData(item);\n  };\n  /**\n   * Close the Dropdown tree pop-up.\n   *\n   * @returns {void}\n   */\n  DropDownTree.prototype.hidePopup = function () {\n    var eventArgs = {\n      popup: this.popupObj\n    };\n    this.inputWrapper.classList.remove(ICONANIMATION);\n    if (this.popupEle) {\n      addClass([this.popupEle], DDTHIDEICON);\n    }\n    attributes(this.inputWrapper, {\n      'aria-expanded': 'false'\n    });\n    if (this.popupObj && this.isPopupOpen) {\n      this.popupObj.hide();\n      if (this.inputFocus) {\n        this.inputWrapper.focus();\n        if (this.allowFiltering) {\n          addClass([this.inputWrapper], [INPUTFOCUS]);\n        }\n      }\n      this.trigger('close', eventArgs);\n    }\n  };\n  /**\n   * Based on the state parameter, entire list item will be selected or deselected.\n   *\n   * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n   * @returns {void}\n   *\n   */\n  DropDownTree.prototype.selectAll = function (state) {\n    this.selectAllItems(state);\n  };\n  /**\n   * Opens the popup that displays the Dropdown Tree items.\n   *\n   * @returns {void}\n   */\n  DropDownTree.prototype.showPopup = function () {\n    if (!this.enabled || this.readonly || this.isPopupOpen) {\n      return;\n    }\n    this.renderPopup();\n    this.focusIn();\n  };\n  /**\n   * Return the module name.\n   *\n   * @private\n   * @returns {string} - returns the module name.\n   */\n  DropDownTree.prototype.getModuleName = function () {\n    return 'dropdowntree';\n  };\n  __decorate$2([Property('The Request Failed')], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"allowFiltering\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n  __decorate$2([Property(true)], DropDownTree.prototype, \"changeOnBlur\", void 0);\n  __decorate$2([Property('')], DropDownTree.prototype, \"cssClass\", void 0);\n  __decorate$2([Property(\"${value.length} item(s) selected\")], DropDownTree.prototype, \"customTemplate\", void 0);\n  __decorate$2([Property(',')], DropDownTree.prototype, \"delimiterChar\", void 0);\n  __decorate$2([Property(true)], DropDownTree.prototype, \"enabled\", void 0);\n  __decorate$2([Complex({}, Fields)], DropDownTree.prototype, \"fields\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$2([Property('StartsWith')], DropDownTree.prototype, \"filterType\", void 0);\n  __decorate$2([Property('Never')], DropDownTree.prototype, \"floatLabelType\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"footerTemplate\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"ignoreAccent\", void 0);\n  __decorate$2([Property(true)], DropDownTree.prototype, \"ignoreCase\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"headerTemplate\", void 0);\n  __decorate$2([Property({})], DropDownTree.prototype, \"htmlAttributes\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"itemTemplate\", void 0);\n  __decorate$2([Property('Default')], DropDownTree.prototype, \"mode\", void 0);\n  __decorate$2([Property('No Records Found')], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"placeholder\", void 0);\n  __decorate$2([Property('300px')], DropDownTree.prototype, \"popupHeight\", void 0);\n  __decorate$2([Property('100%')], DropDownTree.prototype, \"popupWidth\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"readonly\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"showSelectAll\", void 0);\n  __decorate$2([Property('Select All')], DropDownTree.prototype, \"selectAllText\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"showCheckBox\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n  __decorate$2([Property(true)], DropDownTree.prototype, \"showClearButton\", void 0);\n  __decorate$2([Property(true)], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n  __decorate$2([Property('None')], DropDownTree.prototype, \"sortOrder\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"text\", void 0);\n  __decorate$2([Complex({}, TreeSettings)], DropDownTree.prototype, \"treeSettings\", void 0);\n  __decorate$2([Property('Unselect All')], DropDownTree.prototype, \"unSelectAllText\", void 0);\n  __decorate$2([Property(null)], DropDownTree.prototype, \"value\", void 0);\n  __decorate$2([Property('100%')], DropDownTree.prototype, \"width\", void 0);\n  __decorate$2([Property(1000)], DropDownTree.prototype, \"zIndex\", void 0);\n  __decorate$2([Property(false)], DropDownTree.prototype, \"wrapText\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"actionFailure\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"beforeOpen\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"change\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"close\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"blur\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"created\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"dataBound\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"destroyed\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"filtering\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"focus\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"keyPress\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"open\", void 0);\n  __decorate$2([Event()], DropDownTree.prototype, \"select\", void 0);\n  DropDownTree = __decorate$2([NotifyPropertyChanges], DropDownTree);\n  return DropDownTree;\n}(Component);\n\n/**\n * export all modules from current location\n */\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject$1 = {\n  container: null,\n  buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @__PURE__ @class */function (_super) {\n  __extends$3(ComboBox, _super);\n  /**\n   * *Constructor for creating the component\n   *\n   * @param {ComboBoxModel} options - Specifies the ComboBox model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function ComboBox(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.preRender = function () {\n    _super.prototype.preRender.call(this);\n  };\n  ComboBox.prototype.getLocaleName = function () {\n    return 'combo-box';\n  };\n  ComboBox.prototype.wireEvent = function () {\n    if (this.getModuleName() === 'combobox') {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n      EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n    }\n    EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n    if (!this.readonly) {\n      EventHandler.add(this.inputElement, 'input', this.onInput, this);\n      EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n      EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n      EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n      EventHandler.add(window, 'resize', this.windowResize, this);\n    }\n    this.bindCommonEvent();\n  };\n  ComboBox.prototype.preventBlur = function (e) {\n    if (!this.allowFiltering && document.activeElement !== this.inputElement && !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice) {\n      e.preventDefault();\n    }\n  };\n  ComboBox.prototype.onBlurHandler = function (e) {\n    var inputValue = this.inputElement && this.inputElement.value === '' ? null : this.inputElement && this.inputElement.value;\n    if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n      this.customValue(e);\n    }\n    _super.prototype.onBlurHandler.call(this, e);\n  };\n  ComboBox.prototype.targetElement = function () {\n    return this.inputElement;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.setOldText = function (text) {\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    this.customValue();\n    this.removeSelection();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.setOldValue = function (value) {\n    if (this.allowCustom) {\n      this.valueMuteChange(this.value);\n    } else {\n      this.valueMuteChange(null);\n    }\n    this.removeSelection();\n    this.setHiddenValue();\n  };\n  ComboBox.prototype.valueMuteChange = function (value) {\n    var inputValue = isNullOrUndefined(value) ? null : value.toString();\n    Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    this.setProperties({\n      value: value,\n      text: value,\n      index: null\n    }, true);\n    this.activeIndex = this.index;\n    var fields = this.fields;\n    var dataItem = {};\n    dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n    dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n    this.itemData = dataItem;\n    this.item = null;\n    if (this.previousValue !== this.value) {\n      this.detachChangeEvent(null);\n    }\n  };\n  ComboBox.prototype.updateValues = function () {\n    if (!isNullOrUndefined(this.value)) {\n      var li = this.getElementByValue(this.value);\n      if (li) {\n        this.setSelection(li, null);\n      } else if (this.allowCustom) {\n        this.valueMuteChange(this.value);\n      } else {\n        this.valueMuteChange(null);\n      }\n    } else if (this.text && isNullOrUndefined(this.value)) {\n      var li = this.getElementByText(this.text);\n      if (li) {\n        this.setSelection(li, null);\n      } else {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n      }\n    } else {\n      this.setSelection(this.liCollections[this.activeIndex], null);\n    }\n    this.setHiddenValue();\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n  ComboBox.prototype.updateIconState = function () {\n    if (this.showClearButton) {\n      if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n        removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      } else {\n        addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      }\n    }\n  };\n  ComboBox.prototype.getAriaAttributes = function () {\n    var ariaAttributes = {\n      'role': 'combobox',\n      'aria-autocomplete': 'both',\n      'aria-labelledby': this.hiddenElement.id,\n      'aria-expanded': 'false',\n      'aria-readonly': this.readonly.toString(),\n      'autocomplete': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    };\n    return ariaAttributes;\n  };\n  ComboBox.prototype.searchLists = function (e) {\n    this.isTyped = true;\n    if (this.isFiltering()) {\n      _super.prototype.searchLists.call(this, e);\n      if (this.ulElement && this.filterInput.value.trim() === '') {\n        this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n      }\n    } else {\n      if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n        this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n      }\n      this.incrementalSearch(e);\n    }\n  };\n  ComboBox.prototype.getNgDirective = function () {\n    return 'EJS-COMBOBOX';\n  };\n  ComboBox.prototype.setSearchBox = function () {\n    this.filterInput = this.inputElement;\n    var searchBoxContainer = this.isFiltering() || this.isReact && this.getModuleName() === 'combobox' ? this.inputWrapper : inputObject$1;\n    return searchBoxContainer;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    var _this = this;\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    if (this.isSelectCustom) {\n      this.removeSelection();\n    }\n    if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n      setTimeout(function () {\n        _this.inlineSearch();\n      });\n    }\n  };\n  ComboBox.prototype.getFocusElement = function () {\n    var dataItem = this.isSelectCustom ? {\n      text: ''\n    } : this.getItemData();\n    var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n    var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n    if (isSelected) {\n      return selected;\n    }\n    if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n      var inputValue = this.inputElement.value;\n      var dataSource = this.sortedData;\n      var type = this.typeOfData(dataSource).typeof;\n      var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n      var activeElement = activeItem.item;\n      if (!isNullOrUndefined(activeElement)) {\n        var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n        var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n        if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n          this.removeFocus();\n          var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n          if (!this.enableVirtualization) {\n            this.list.scrollTop = count * height + fixedHead;\n          }\n          addClass([activeElement], dropDownListClasses.focus);\n        }\n      } else {\n        if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n          this.removeFocus();\n          if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n          }\n        }\n      }\n      return activeElement;\n    } else {\n      return null;\n    }\n  };\n  ComboBox.prototype.setValue = function (e) {\n    if (e && e.type === 'keydown' && e.action === 'enter') {\n      this.removeFillSelection();\n    }\n    if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n      this.preventAutoFill = false;\n      this.inlineSearch(e);\n      return false;\n    } else {\n      return _super.prototype.setValue.call(this, e);\n    }\n  };\n  ComboBox.prototype.checkCustomValue = function () {\n    this.itemData = this.getDataByValue(this.value);\n    var dataItem = this.getItemData();\n    if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n      this.setProperties({\n        'value': dataItem.value\n      }, !this.allowCustom);\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      this.spinnerElement = this.getModuleName() === 'autocomplete' ? this.inputWrapper.buttons[0] || this.inputWrapper.clearButton || Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement) : this.inputWrapper.buttons[0] || this.inputWrapper.clearButton;\n      addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n        detach(this.spinnerElement);\n      } else {\n        this.spinnerElement.innerHTML = '';\n      }\n      this.spinnerElement = null;\n    }\n  };\n  ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n    if (!isHover) {\n      this.setHoverList(activeElement);\n    }\n    if (this.autofill && !this.preventAutoFill) {\n      var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n      var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n      if (this.getModuleName() === 'combobox') {\n        if (!this.isSelected && this.previousValue !== currentFillValue) {\n          this.updateSelectedItem(activeElement, null);\n          this.isSelected = true;\n          this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n        } else {\n          this.updateSelectedItem(activeElement, null, true);\n        }\n      }\n      if (!this.isAndroidAutoFill(currentValue)) {\n        this.setAutoFillSelection(currentValue, isHover);\n      }\n    }\n  };\n  ComboBox.prototype.isAndroidAutoFill = function (value) {\n    if (Browser.isAndroid) {\n      var currentPoints = this.getSelectionPoints();\n      var prevEnd = this.prevSelectPoints.end;\n      var curEnd = currentPoints.end;\n      var prevStart = this.prevSelectPoints.start;\n      var curStart = currentPoints.start;\n      if (prevEnd !== 0 && (prevEnd === value.length && prevStart === value.length || prevStart > curStart && prevEnd > curEnd || prevEnd === curEnd && prevStart === curStart)) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n  ComboBox.prototype.clearAll = function (e, property) {\n    if (isNullOrUndefined(property) || !isNullOrUndefined(property) && isNullOrUndefined(property.dataSource)) {\n      _super.prototype.clearAll.call(this, e);\n    }\n    if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n      this.searchLists(e);\n    }\n  };\n  ComboBox.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  ComboBox.prototype.inlineSearch = function (e) {\n    var isKeyNavigate = e && (e.action === 'down' || e.action === 'up' || e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n    var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n    if (!isNullOrUndefined(activeElement)) {\n      if (!isKeyNavigate) {\n        var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n        this.activeIndex = this.getIndexByValue(value);\n        this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n      }\n      this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n      this.setAutoFill(activeElement, isKeyNavigate);\n    } else if (this.inputElement.value === '') {\n      this.activeIndex = null;\n      if (!isNullOrUndefined(this.list)) {\n        if (!this.enableVirtualization) {\n          this.list.scrollTop = 0;\n        }\n        var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n        this.setHoverList(focusItem);\n      }\n    } else {\n      this.activeIndex = null;\n      this.removeSelection();\n      if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n        this.removeFocus();\n      }\n    }\n  };\n  ComboBox.prototype.incrementalSearch = function (e) {\n    this.showPopup(e);\n    if (!isNullOrUndefined(this.listData)) {\n      this.inlineSearch(e);\n      e.preventDefault();\n    }\n  };\n  ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n    if (isKeyNavigate === void 0) {\n      isKeyNavigate = false;\n    }\n    var selection = this.getSelectionPoints();\n    var value = this.inputElement.value.substr(0, selection.start);\n    if (value && value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase()) {\n      var inputValue = value + currentValue.substr(value.length, currentValue.length);\n      Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n    } else if (isKeyNavigate) {\n      Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n    }\n  };\n  ComboBox.prototype.getValueByText = function (text) {\n    return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n  };\n  ComboBox.prototype.unWireEvent = function () {\n    if (this.getModuleName() === 'combobox') {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n      EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n    }\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n      if (!this.readonly) {\n        EventHandler.remove(this.inputElement, 'input', this.onInput);\n        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n        EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n      }\n    }\n    this.unBindCommonEvent();\n  };\n  ComboBox.prototype.setSelection = function (li, e) {\n    _super.prototype.setSelection.call(this, li, e);\n    if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n      this.removeFocus();\n    }\n  };\n  ComboBox.prototype.selectCurrentItem = function (e) {\n    var li;\n    if (this.isPopupOpen) {\n      if (this.isSelected) {\n        li = this.list.querySelector('.' + dropDownListClasses.selected);\n      } else {\n        li = this.list.querySelector('.' + dropDownListClasses.focus);\n      }\n      if (li) {\n        this.setSelection(li, e);\n        this.isTyped = false;\n      }\n      if (this.isSelected) {\n        this.isSelectCustom = false;\n        this.onChangeEvent(e);\n      }\n    }\n    if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n      this.clearAll(e);\n    } else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n      this.customValue(e);\n    }\n    this.hidePopup(e);\n  };\n  ComboBox.prototype.setHoverList = function (li) {\n    this.removeSelection();\n    if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n      this.removeFocus();\n      li.classList.add(dropDownListClasses.focus);\n    }\n  };\n  ComboBox.prototype.targetFocus = function (e) {\n    if (Browser.isDevice && !this.allowFiltering) {\n      this.preventFocus = false;\n    }\n    this.onFocus(e);\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n  };\n  ComboBox.prototype.dropDownClick = function (e) {\n    e.preventDefault();\n    if (Browser.isDevice && !this.isFiltering()) {\n      this.preventFocus = true;\n    }\n    _super.prototype.dropDownClick.call(this, e);\n  };\n  ComboBox.prototype.customValue = function (e) {\n    var _this = this;\n    var value = this.getValueByText(this.inputElement.value);\n    if (!this.allowCustom && this.inputElement.value !== '') {\n      var previousValue = this.previousValue;\n      var currentValue = this.value;\n      this.setProperties({\n        value: value\n      });\n      if (isNullOrUndefined(this.value)) {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n      if (this.autofill && previousValue === this.value && currentValue !== this.value) {\n        this.onChangeEvent(null);\n      }\n    } else if (this.inputElement.value.trim() !== '') {\n      var previousValue_1 = this.value;\n      if (isNullOrUndefined(value)) {\n        var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n        // eslint-disable-next-line max-len\n        var eventArgs = {\n          text: value_1,\n          item: {}\n        };\n        if (!this.initial) {\n          this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n            _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n          });\n        } else {\n          this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n        }\n      } else {\n        this.isSelectCustom = false;\n        this.setProperties({\n          value: value\n        });\n        if (previousValue_1 !== this.value) {\n          this.onChangeEvent(e);\n        }\n      }\n    } else if (this.allowCustom) {\n      this.isSelectCustom = true;\n    }\n  };\n  ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n    var fields = this.fields;\n    var item = eventArgs.item;\n    var dataItem = {};\n    if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n      dataItem = item;\n    } else {\n      setValue(fields.text, value, dataItem);\n      setValue(fields.value, value, dataItem);\n    }\n    this.itemData = dataItem;\n    var changeData = {\n      text: getValue(fields.text, this.itemData),\n      value: getValue(fields.value, this.itemData),\n      index: null\n    };\n    this.setProperties(changeData, true);\n    this.setSelection(null, null);\n    this.isSelectCustom = true;\n    if (previousValue !== this.value) {\n      this.onChangeEvent(e);\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n   * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'combobox') {\n      this.checkData(newProp);\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          if (this.readonly) {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n            EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n          } else {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n          }\n          this.setReadOnly();\n          break;\n        case 'allowFiltering':\n          this.setSearchBox();\n          if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n          }\n          break;\n        case 'allowCustom':\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var comboProps = this.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n            if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate && this.getModuleName() === 'combobox') {\n              _super.prototype.renderList.call(this);\n            }\n            break;\n          }\n      }\n    }\n  };\n  /**\n   * To initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.render = function () {\n    _super.prototype.render.call(this);\n    this.setSearchBox();\n    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n      _super.prototype.renderList.call(this);\n    }\n    this.renderComplete();\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  ComboBox.prototype.getModuleName = function () {\n    return 'combobox';\n  };\n  /**\n   * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.addItem = function (items, itemIndex) {\n    _super.prototype.addItem.call(this, items, itemIndex);\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.filter = function (dataSource, query, fields) {\n    _super.prototype.filter.call(this, dataSource, query, fields);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.showPopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    _super.prototype.showPopup.call(this, e);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in open state.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.hidePopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    var inputValue = this.inputElement && this.inputElement.value === '' ? null : this.inputElement && this.inputElement.value;\n    if (!isNullOrUndefined(this.listData)) {\n      var isEscape = this.isEscapeKey;\n      if (this.isEscapeKey) {\n        Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.isEscapeKey = false;\n      }\n      if (this.autofill) {\n        this.removeFillSelection();\n      }\n      var dataItem = this.isSelectCustom ? {\n        text: ''\n      } : this.getItemData();\n      var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n      if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n        if (this.isSelected) {\n          this.onChangeEvent(e);\n          this.isSelectCustom = false;\n        }\n        _super.prototype.hidePopup.call(this, e);\n        return;\n      }\n      if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n        var dataSource = this.sortedData;\n        var type = this.typeOfData(dataSource).typeof;\n        var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n        this.selectedLI = searchItem.item;\n        if (isNullOrUndefined(searchItem.index)) {\n          searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n        }\n        this.activeIndex = searchItem.index;\n        if (!isNullOrUndefined(this.selectedLI)) {\n          this.updateSelectedItem(this.selectedLI, null, true);\n        } else if (isEscape) {\n          this.isSelectCustom = true;\n          this.removeSelection();\n        }\n      }\n      if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n        this.customValue(e);\n      }\n    }\n    if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n      this.customValue();\n    }\n    _super.prototype.hidePopup.call(this, e);\n  };\n  /**\n   * Sets the focus to the component for interaction.\n   *\n   * @returns {void}\n   */\n  ComboBox.prototype.focusIn = function () {\n    if (!this.enabled) {\n      return;\n    }\n    if (Browser.isDevice && !this.isFiltering()) {\n      this.preventFocus = true;\n    }\n    _super.prototype.focusIn.call(this);\n  };\n  /**\n   * Allows you to clear the selected values from the component.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.clear = function () {\n    this.value = null;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Moves the focus from the component if the component is already focused.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  ComboBox.prototype.focusOut = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    _super.prototype.focusOut.call(this, e);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   * @deprecated\n   */\n  ComboBox.prototype.getItems = function () {\n    return _super.prototype.getItems.call(this);\n  };\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   * @deprecated\n   */\n  ComboBox.prototype.getDataByValue = function (value) {\n    return _super.prototype.getDataByValue.call(this, value);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  ComboBox.prototype.renderHightSearch = function () {\n    // update high light search\n  };\n  __decorate$3([Property(false)], ComboBox.prototype, \"autofill\", void 0);\n  __decorate$3([Property(true)], ComboBox.prototype, \"allowCustom\", void 0);\n  __decorate$3([Property({})], ComboBox.prototype, \"htmlAttributes\", void 0);\n  __decorate$3([Property(false)], ComboBox.prototype, \"allowFiltering\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"query\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"index\", void 0);\n  __decorate$3([Property(true)], ComboBox.prototype, \"showClearButton\", void 0);\n  __decorate$3([Property(false)], ComboBox.prototype, \"enableRtl\", void 0);\n  __decorate$3([Event()], ComboBox.prototype, \"customValueSpecifier\", void 0);\n  __decorate$3([Event()], ComboBox.prototype, \"filtering\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"valueTemplate\", void 0);\n  __decorate$3([Property('Never')], ComboBox.prototype, \"floatLabelType\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"cssClass\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"headerTemplate\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"footerTemplate\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"placeholder\", void 0);\n  __decorate$3([Property('100%')], ComboBox.prototype, \"width\", void 0);\n  __decorate$3([Property('300px')], ComboBox.prototype, \"popupHeight\", void 0);\n  __decorate$3([Property('100%')], ComboBox.prototype, \"popupWidth\", void 0);\n  __decorate$3([Property(false)], ComboBox.prototype, \"readonly\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"text\", void 0);\n  __decorate$3([Property(null)], ComboBox.prototype, \"value\", void 0);\n  ComboBox = __decorate$3([NotifyPropertyChanges], ComboBox);\n  return ComboBox;\n}(DropDownList);\n\n/**\n * export all modules from current location\n */\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @__PURE__ @class */function (_super) {\n  __extends$4(AutoComplete, _super);\n  /**\n   * * Constructor for creating the widget\n   *\n   * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function AutoComplete(options, element) {\n    var _this_1 = _super.call(this, options, element) || this;\n    _this_1.isFiltered = false;\n    _this_1.searchList = false;\n    return _this_1;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n  AutoComplete.prototype.preRender = function () {\n    _super.prototype.preRender.call(this);\n  };\n  AutoComplete.prototype.getLocaleName = function () {\n    return 'auto-complete';\n  };\n  AutoComplete.prototype.getNgDirective = function () {\n    return 'EJS-AUTOCOMPLETE';\n  };\n  AutoComplete.prototype.getQuery = function (query) {\n    var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    var filterType = this.queryString === '' && !isNullOrUndefined(this.value) ? 'equal' : this.filterType;\n    var queryString = this.queryString === '' && !isNullOrUndefined(this.value) ? this.value : this.queryString;\n    if (this.isFiltered) {\n      return filterQuery;\n    }\n    if (this.queryString !== null && this.queryString !== '') {\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n      } else {\n        var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n        filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n      }\n    }\n    if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n      // Since defualt value of suggestioncount is 20, checked the condition\n      if (this.suggestionCount !== 20) {\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n          if (filterQuery.queries[queryElements].fn === 'onTake') {\n            filterQuery.queries.splice(queryElements, 1);\n          }\n        }\n      }\n      filterQuery.take(this.suggestionCount);\n    }\n    if (this.enableVirtualization) {\n      var takeValue = this.getTakeValue();\n      filterQuery.skip(this.virtualItemStartIndex);\n      filterQuery.take(takeValue);\n      filterQuery.requiresCount();\n    }\n    return filterQuery;\n  };\n  AutoComplete.prototype.searchLists = function (e) {\n    var _this_1 = this;\n    this.isTyped = true;\n    this.isDataFetched = this.isSelectCustom = false;\n    this.checkAndResetCache();\n    if (isNullOrUndefined(this.list)) {\n      _super.prototype.renderList.call(this, e, true);\n    }\n    this.queryString = this.filterInput.value;\n    if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n      this.queryString = this.queryString === '' ? null : this.queryString;\n      this.beforePopupOpen = true;\n      this.resetList(this.dataSource, this.fields, null, e);\n      return;\n    }\n    this.isSelected = false;\n    this.activeIndex = null;\n    var eventArgs = {\n      preventDefaultAction: false,\n      text: this.filterInput.value,\n      updateData: function (dataSource, query, fields) {\n        if (eventArgs.cancel) {\n          return;\n        }\n        _this_1.isFiltered = true;\n        _this_1.filterAction(dataSource, query, fields);\n      },\n      cancel: false\n    };\n    this.trigger('filtering', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n        _this_1.searchList = true;\n        _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n      }\n    });\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n   * @deprecated\n   */\n  AutoComplete.prototype.filter = function (dataSource, query, fields) {\n    this.isFiltered = true;\n    this.filterAction(dataSource, query, fields);\n  };\n  AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n    this.beforePopupOpen = true;\n    var isNoDataElement = this.list.classList.contains('e-nodata');\n    if (this.queryString !== '' && this.queryString.length >= this.minLength) {\n      if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n        this.isPreventScrollAction = true;\n        this.list.scrollTop = 0;\n        this.previousStartIndex = 0;\n        this.virtualListInfo = null;\n      }\n      this.resetList(dataSource, fields, query, e);\n      if (this.enableVirtualization && isNoDataElement && !this.list.classList.contains('e-nodata')) {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n          this.list.appendChild(this.createElement('div', {\n            className: 'e-virtual-ddl-content',\n            styles: this.getTransformValues()\n          })).appendChild(this.list.querySelector('.e-list-parent'));\n        }\n        if (!this.list.querySelector('.e-virtual-ddl')) {\n          var virualElement = this.createElement('div', {\n            id: this.element.id + '_popup',\n            className: 'e-virtual-ddl',\n            styles: this.GetVirtualTrackHeight()\n          });\n          document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n      }\n      if (this.enableVirtualization) {\n        this.getFilteringSkeletonCount();\n      }\n    } else {\n      this.hidePopup(e);\n      this.beforePopupOpen = false;\n    }\n    this.renderReactTemplates();\n  };\n  AutoComplete.prototype.clearAll = function (e, property) {\n    if (isNullOrUndefined(property) || !isNullOrUndefined(property) && isNullOrUndefined(property.dataSource)) {\n      _super.prototype.clearAll.call(this, e);\n      this.checkAndResetCache();\n    }\n    if (this.beforePopupOpen) {\n      this.hidePopup();\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    this.fixedHeaderElement = null;\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    var item = this.list.querySelector('.' + dropDownListClasses.li);\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], dropDownListClasses.focus);\n    }\n    this.postBackAction();\n  };\n  AutoComplete.prototype.postBackAction = function () {\n    if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n      var items = [this.liCollections[0]];\n      var dataSource = this.listData;\n      var type = this.typeOfData(dataSource).typeof;\n      var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n      this.searchList = false;\n      if (!isNullOrUndefined(searchItem.item)) {\n        _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n      }\n    }\n  };\n  AutoComplete.prototype.setSelection = function (li, e) {\n    if (!this.isValidLI(li)) {\n      this.selectedLI = li;\n      return;\n    }\n    if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter' && e.action !== 'tab' && this.isValidLI(li)) {\n      var value = this.getFormattedValue(li.getAttribute('data-value'));\n      this.activeIndex = this.getIndexByValue(value);\n      this.setHoverList(li);\n      this.selectedLI = li;\n      this.setScrollPosition(e);\n      if (this.autofill && this.isPopupOpen) {\n        this.preventAutoFill = false;\n        var isKeyNavigate = e && e.action === 'down' || e.action === 'up' || e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown';\n        _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n      }\n    } else {\n      _super.prototype.setSelection.call(this, li, e);\n    }\n  };\n  AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n    var _this_1 = this;\n    var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n    if (isNullOrUndefined(fields.itemCreated)) {\n      fields.itemCreated = function (e) {\n        if (_this_1.highlight) {\n          if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n            setTimeout(function () {\n              highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n            }, 0);\n          } else {\n            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n          }\n        }\n      };\n    } else {\n      var itemCreated_1 = fields.itemCreated;\n      fields.itemCreated = function (e) {\n        if (_this_1.highlight) {\n          highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n        }\n        itemCreated_1.apply(_this_1, [e]);\n      };\n    }\n    return fields;\n  };\n  AutoComplete.prototype.isFiltering = function () {\n    return true;\n  };\n  AutoComplete.prototype.renderPopup = function (e) {\n    if (!this.enableVirtualization) {\n      this.list.scrollTop = 0;\n    }\n    _super.prototype.renderPopup.call(this, e);\n  };\n  AutoComplete.prototype.isEditTextBox = function () {\n    return true && this.inputElement.value.trim() !== '';\n  };\n  AutoComplete.prototype.isPopupButton = function () {\n    return this.showPopupButton;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  AutoComplete.prototype.isSelectFocusItem = function (element) {\n    return false;\n  };\n  AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n    var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n    var value = newProp && newProp.text ? newProp.text : newProp && newProp.value ? newProp.value : this.value;\n    if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n      var checkFields_1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n      var listLength_1 = this.getItems().length;\n      var query = new Query();\n      var _this_2 = this;\n      new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields_1_1, 'equal', value))).then(function (e) {\n        if (e.result.length > 0) {\n          _this_2.value = checkFields_1_1 !== '' ? e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n          _this_2.addItem(e.result, listLength_1);\n          _this_2.updateValues();\n        } else {\n          newProp && newProp.text ? _this_2.setOldText(oldValue) : newProp && newProp.value ? _this_2.setOldValue(oldValue) : _this_2.updateValues();\n        }\n      });\n    } else if (newProp) {\n      newProp.text ? this.setOldText(oldValue) : this.setOldValue(oldValue);\n    }\n  };\n  /**\n   * Search the entered text and show it in the suggestion list if available.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n  AutoComplete.prototype.showPopup = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.beforePopupOpen) {\n      this.refreshPopup();\n      return;\n    }\n    this.beforePopupOpen = true;\n    this.preventAutoFill = true;\n    if (isNullOrUndefined(this.list)) {\n      this.renderList(e);\n    } else {\n      this.resetList(this.dataSource, this.fields, null, e);\n    }\n  };\n  /**\n   * Hides the popup if it is in open state.\n   *\n   * @returns {void}\n   */\n  AutoComplete.prototype.hidePopup = function (e) {\n    _super.prototype.hidePopup.call(this, e);\n    this.activeIndex = null;\n    this.virtualListInfo = this.viewPortInfo;\n    this.previousStartIndex = this.viewPortInfo.startIndex;\n    this.startIndex = this.viewPortInfo.startIndex;\n    this.previousEndIndex = this.viewPortInfo.endIndex;\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n   * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'autocomplete') {\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'showPopupButton':\n          if (this.showPopupButton) {\n            var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n            this.inputWrapper.buttons[0] = button;\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n            if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n              this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n            }\n            if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n              EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n            }\n          } else {\n            detach(this.inputWrapper.buttons[0]);\n            this.inputWrapper.buttons[0] = null;\n          }\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var atcProps = this.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n            break;\n          }\n      }\n    }\n  };\n  AutoComplete.prototype.renderHightSearch = function () {\n    if (this.highlight) {\n      for (var i = 0; i < this.liCollections.length; i++) {\n        var isHighlight = this.ulElement.querySelector('.e-active');\n        if (!isHighlight) {\n          revertHighlightSearch(this.liCollections[i]);\n          highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n        }\n      }\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  AutoComplete.prototype.getModuleName = function () {\n    return 'autocomplete';\n  };\n  /**\n   * To initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  AutoComplete.prototype.render = function () {\n    _super.prototype.render.call(this);\n  };\n  __decorate$4([Complex({\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], AutoComplete.prototype, \"fields\", void 0);\n  __decorate$4([Property(true)], AutoComplete.prototype, \"ignoreCase\", void 0);\n  __decorate$4([Property(false)], AutoComplete.prototype, \"showPopupButton\", void 0);\n  __decorate$4([Property(false)], AutoComplete.prototype, \"highlight\", void 0);\n  __decorate$4([Property(20)], AutoComplete.prototype, \"suggestionCount\", void 0);\n  __decorate$4([Property({})], AutoComplete.prototype, \"htmlAttributes\", void 0);\n  __decorate$4([Property(null)], AutoComplete.prototype, \"query\", void 0);\n  __decorate$4([Property(1)], AutoComplete.prototype, \"minLength\", void 0);\n  __decorate$4([Property('Contains')], AutoComplete.prototype, \"filterType\", void 0);\n  __decorate$4([Event()], AutoComplete.prototype, \"filtering\", void 0);\n  __decorate$4([Property(null)], AutoComplete.prototype, \"index\", void 0);\n  __decorate$4([Property('Never')], AutoComplete.prototype, \"floatLabelType\", void 0);\n  __decorate$4([Property(null)], AutoComplete.prototype, \"valueTemplate\", void 0);\n  __decorate$4([Property(null)], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$4([Property(false)], AutoComplete.prototype, \"allowFiltering\", void 0);\n  __decorate$4([Property(null)], AutoComplete.prototype, \"text\", void 0);\n  AutoComplete = __decorate$4([NotifyPropertyChanges], AutoComplete);\n  return AutoComplete;\n}(ComboBox);\n\n/**\n * export all modules from current location\n */\n\n/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n  var floatLinelement = createElement('span', {\n    className: FLOATLINE\n  });\n  var floatLabelElement = createElement('label', {\n    className: FLOATTEXT\n  });\n  var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n  element.id = id;\n  if (!isNullOrUndefined(element.id) && element.id !== '') {\n    floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n    attributes(inputElement, {\n      'aria-labelledby': floatLabelElement.id\n    });\n  }\n  if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n    floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n    inputElement.removeAttribute('placeholder');\n  }\n  floatLabelElement.innerText = encodePlaceholder(placeholder);\n  searchWrapper.appendChild(floatLinelement);\n  searchWrapper.appendChild(floatLabelElement);\n  overAllWrapper.classList.add('e-float-input');\n  updateFloatLabelState(value, floatLabelElement);\n  if (floatLabelType === 'Always') {\n    if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n      removeClass([floatLabelElement], LABELBOTTOM);\n    }\n    addClass([floatLabelElement], LABELTOP);\n  }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nfunction updateFloatLabelState(value, label) {\n  if (value && value.length > 0) {\n    addClass([label], LABELTOP);\n    removeClass([label], LABELBOTTOM);\n  } else {\n    removeClass([label], LABELTOP);\n    addClass([label], LABELBOTTOM);\n  }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n  var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n  var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n  var placeholderText;\n  if (!isNullOrUndefined(placeholderElement)) {\n    placeholderText = placeholderElement.innerText;\n    detach(searchWrapper.querySelector('.' + FLOATTEXT));\n    setPlaceHolder(value, inputElement, placeholderText);\n    if (!isNullOrUndefined(floatLine)) {\n      detach(searchWrapper.querySelector('.' + FLOATLINE));\n    }\n  } else {\n    placeholderText = placeholder !== null ? placeholder : '';\n    setPlaceHolder(value, inputElement, placeholderText);\n  }\n  overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction setPlaceHolder(value, inputElement, placeholder) {\n  if (value && value.length) {\n    inputElement.placeholder = '';\n  } else {\n    inputElement.placeholder = placeholder;\n  }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nfunction floatLabelFocus(overAllWrapper, componentWrapper) {\n  overAllWrapper.classList.add('e-input-focus');\n  var label = componentWrapper.querySelector('.' + FLOATTEXT);\n  if (!isNullOrUndefined(label)) {\n    addClass([label], LABELTOP);\n    if (label.classList.contains(LABELBOTTOM)) {\n      removeClass([label], LABELBOTTOM);\n    }\n  }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n  /* eslint-enable @typescript-eslint/no-unused-vars */\n  overAllWrapper.classList.remove('e-input-focus');\n  var label = componentWrapper.querySelector('.' + FLOATTEXT);\n  if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n    if (label.classList.contains(LABELTOP)) {\n      removeClass([label], LABELTOP);\n    }\n    addClass([label], LABELBOTTOM);\n  }\n}\nfunction encodePlaceholder(placeholder) {\n  var result = '';\n  if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n    var spanElement = document.createElement('span');\n    spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n    var hiddenInput = spanElement.children[0];\n    result = hiddenInput.placeholder;\n  }\n  return result;\n}\n/* eslint-enable valid-jsdoc */\n\nvar __extends$5 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nvar FOCUS = 'e-input-focus';\nvar DISABLED$1 = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER$1 = 'e-chips-collection';\nvar CHIP$1 = 'e-chips';\nvar CHIP_CONTENT$1 = 'e-chipcontent';\nvar CHIP_CLOSE$1 = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER$1 = 'e-remain';\nvar CLOSEICON_CLASS$1 = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER$1 = 'e-ddl-footer';\nvar HEADER$1 = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS$1 = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER$1 = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @__PURE__ @class */function (_super) {\n  __extends$5(MultiSelect, _super);\n  /**\n   * Constructor for creating the DropDownList widget.\n   *\n   * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function MultiSelect(option, element) {\n    var _this = _super.call(this, option, element) || this;\n    _this.clearIconWidth = 0;\n    _this.previousFilterText = '';\n    _this.isValidKey = false;\n    _this.selectAllEventData = [];\n    _this.selectAllEventEle = [];\n    _this.resetMainList = null;\n    _this.resetFilteredData = false;\n    _this.scrollFocusStatus = false;\n    _this.keyDownStatus = false;\n    return _this;\n  }\n  MultiSelect.prototype.enableRTL = function (state) {\n    if (state) {\n      this.overAllWrapper.classList.add(RTL_CLASS);\n    } else {\n      this.overAllWrapper.classList.remove(RTL_CLASS);\n    }\n    if (this.popupObj) {\n      this.popupObj.enableRtl = state;\n      this.popupObj.dataBind();\n    }\n  };\n  MultiSelect.prototype.requiredModules = function () {\n    var modules = [];\n    if (this.mode === 'CheckBox') {\n      this.isGroupChecking = this.enableGroupCheckBox;\n      if (this.enableGroupCheckBox) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.enableSelectionOrder = false;\n        this.isProtectedOnChange = prevOnChange;\n      }\n      this.allowCustomValue = false;\n      this.hideSelectedItem = false;\n      this.closePopupOnSelect = false;\n      modules.push({\n        member: 'CheckBoxSelection',\n        args: [this]\n      });\n    }\n    return modules;\n  };\n  MultiSelect.prototype.updateHTMLAttribute = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        switch (htmlAttr) {\n          case 'class':\n            {\n              var updatedClassValue = this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ').trim();\n              if (updatedClassValue !== '') {\n                addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                addClass([this.popupWrapper], updatedClassValue.split(' '));\n              }\n              break;\n            }\n          case 'disabled':\n            this.enable(false);\n            break;\n          case 'placeholder':\n            if (!this.placeholder) {\n              this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n              this.setProperties({\n                placeholder: this.inputElement.placeholder\n              }, true);\n              this.refreshPlaceHolder();\n            }\n            break;\n          default:\n            {\n              var defaultAttr = ['id'];\n              var validateAttr = ['name', 'required', 'aria-required', 'form'];\n              var containerAttr = ['title', 'role', 'style', 'class'];\n              if (defaultAttr.indexOf(htmlAttr) > -1) {\n                this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n              } else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n              } else if (containerAttr.indexOf(htmlAttr) > -1) {\n                this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n              } else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n              }\n              break;\n            }\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.updateReadonly = function (state) {\n    if (!isNullOrUndefined(this.inputElement)) {\n      if (state || this.mode === 'CheckBox') {\n        this.inputElement.setAttribute('readonly', 'true');\n      } else {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n  MultiSelect.prototype.updateClearButton = function (state) {\n    if (state) {\n      if (this.overAllClear.parentNode) {\n        this.overAllClear.style.display = '';\n      } else {\n        this.componentWrapper.appendChild(this.overAllClear);\n      }\n      this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n    } else {\n      this.overAllClear.style.display = 'none';\n      this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n    }\n  };\n  MultiSelect.prototype.updateCssClass = function () {\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      var updatedCssClassValues = this.cssClass;\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n      if (updatedCssClassValues !== '') {\n        addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n        addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n      }\n    }\n  };\n  MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n    if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n      oldClass = oldClass.replace(/\\s+/g, ' ').trim();\n      if (oldClass !== '') {\n        removeClass([this.overAllWrapper], oldClass.split(' '));\n        removeClass([this.popupWrapper], oldClass.split(' '));\n      }\n    }\n  };\n  MultiSelect.prototype.onPopupShown = function (e) {\n    var _this = this;\n    if (Browser.isDevice && this.mode === 'CheckBox' && this.allowFiltering) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_1 = this;\n      window.onpopstate = function () {\n        proxy_1.hidePopup();\n        proxy_1.inputElement.focus();\n      };\n      history.pushState({}, '');\n    }\n    var animModel = {\n      name: 'FadeIn',\n      duration: 100\n    };\n    var eventArgs = {\n      popup: this.popupObj,\n      event: e,\n      cancel: false,\n      animation: animModel\n    };\n    this.trigger('open', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel) {\n        _this.focusAtFirstListItem();\n        if (_this.popupObj) {\n          document.body.appendChild(_this.popupObj.element);\n        }\n        if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n          _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n          addClass([_this.overAllWrapper], [iconAnimation]);\n        }\n        _this.refreshPopup();\n        _this.renderReactTemplates();\n        if (_this.popupObj) {\n          _this.popupObj.show(eventArgs.animation, _this.zIndex === 1000 ? _this.element : null);\n        }\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true',\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n        _this.updateAriaActiveDescendant();\n        if (_this.isFirstClick) {\n          _this.loadTemplate();\n        }\n        if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n          EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n        }\n      }\n    });\n  };\n  MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n    for (var i = 0; i < listItems.length; i++) {\n      this.findGroupStart(listItems[i]);\n      this.findGroupStart(mainListItems[i]);\n    }\n    this.deselectHeader();\n  };\n  MultiSelect.prototype.loadTemplate = function () {\n    this.refreshListItems(null);\n    if (this.mode === 'CheckBox') {\n      this.removeFocus();\n    }\n    this.notify('reOrder', {\n      module: 'CheckBoxSelection',\n      enable: this.mode === 'CheckBox',\n      e: this\n    });\n  };\n  MultiSelect.prototype.setScrollPosition = function () {\n    if ((!this.hideSelectedItem && this.mode !== 'CheckBox' || this.mode === 'CheckBox' && !this.enableSelectionOrder) && !isNullOrUndefined(this.value) && this.value.length > 0) {\n      var valueEle = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', this.value[this.value.length - 1]);\n      if (!isNullOrUndefined(valueEle)) {\n        this.scrollBottom(valueEle);\n      }\n    }\n  };\n  MultiSelect.prototype.focusAtFirstListItem = function () {\n    if (this.ulElement && this.ulElement.querySelector('li.' + dropDownBaseClasses.li)) {\n      var element = void 0;\n      if (this.mode === 'CheckBox') {\n        this.removeFocus();\n        return;\n      } else {\n        element = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n      }\n      if (element !== null) {\n        this.removeFocus();\n        this.addListFocus(element);\n      }\n    }\n  };\n  MultiSelect.prototype.focusAtLastListItem = function (data) {\n    var activeElement;\n    if (data) {\n      activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n    } else {\n      if (this.value && this.value.length) {\n        Search(this.value[this.value.length - 1], this.liCollections, 'StartsWith', this.ignoreCase);\n      } else {\n        activeElement = null;\n      }\n    }\n    if (activeElement && activeElement.item !== null) {\n      this.addListFocus(activeElement.item);\n      this.scrollBottom(activeElement.item, activeElement.index);\n    }\n  };\n  MultiSelect.prototype.getAriaAttributes = function () {\n    var ariaAttributes = {\n      'aria-disabled': 'false',\n      'role': 'combobox',\n      'aria-expanded': 'false'\n    };\n    return ariaAttributes;\n  };\n  MultiSelect.prototype.updateListARIA = function () {\n    if (!isNullOrUndefined(this.ulElement)) {\n      attributes(this.ulElement, {\n        'id': this.element.id + '_options',\n        'role': 'listbox',\n        'aria-hidden': 'false'\n      });\n    }\n    var disableStatus = !isNullOrUndefined(this.inputElement) && this.inputElement.disabled ? true : false;\n    if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n      attributes(this.inputElement, this.getAriaAttributes());\n    }\n    if (disableStatus) {\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n    }\n    this.ensureAriaDisabled(disableStatus ? 'true' : 'false');\n  };\n  MultiSelect.prototype.ensureAriaDisabled = function (status) {\n    if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n      var attr = this.htmlAttributes;\n      extend(attr, {\n        'aria-disabled': status\n      }, attr);\n      this.setProperties({\n        htmlAttributes: attr\n      }, true);\n    }\n  };\n  MultiSelect.prototype.removelastSelection = function (e) {\n    var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1);\n    var value = elements[elements.length - 1].getAttribute('data-value');\n    if (!isNullOrUndefined(this.value)) {\n      this.tempValues = this.value.slice();\n    }\n    var customValue = this.getFormattedValue(value);\n    if (this.allowCustomValue && (value !== 'false' && customValue === false || !isNullOrUndefined(customValue) && customValue.toString() === 'NaN')) {\n      customValue = value;\n    }\n    this.removeValue(customValue, e);\n    this.removeChipSelection();\n    this.updateDelimeter(this.delimiterChar, e);\n    this.makeTextBoxEmpty();\n    if (this.mainList && this.listData) {\n      this.refreshSelection();\n    }\n    this.checkPlaceholderSize();\n  };\n  MultiSelect.prototype.onActionFailure = function (e) {\n    _super.prototype.onActionFailure.call(this, e);\n    this.renderPopup();\n    this.onPopupShown();\n  };\n  MultiSelect.prototype.targetElement = function () {\n    this.targetInputElement = this.inputElement;\n    if (this.mode === 'CheckBox' && this.allowFiltering) {\n      this.notify('targetElement', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox'\n      });\n    }\n    return this.targetInputElement.value;\n  };\n  MultiSelect.prototype.getForQuery = function (valuecheck) {\n    var predicate;\n    var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n    for (var i = 0; i < valuecheck.length; i++) {\n      if (i === 0) {\n        predicate = new Predicate(field, 'equal', valuecheck[i]);\n      } else {\n        predicate = predicate.or(field, 'equal', valuecheck[i]);\n      }\n    }\n    if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n      return new Query().where(predicate);\n    } else {\n      return this.getQuery(this.query).clone().where(predicate);\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    this.updateSelectElementData(this.allowFiltering);\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var proxy = this;\n    if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n      for (var i = 0; i < this.value.length; i++) {\n        var checkEle = this.findListElement(this.allowFiltering && !isNullOrUndefined(this.mainList) ? this.mainList : ulElement, 'li', 'data-value', proxy.value[i]);\n        if (!checkEle && !(this.dataSource instanceof DataManager)) {\n          this.value.splice(i, 1);\n          i -= 1;\n        }\n      }\n    }\n    var valuecheck = [];\n    if (!isNullOrUndefined(this.value)) {\n      valuecheck = this.presentItemValue(this.ulElement);\n    }\n    if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value) && this.listData != null) {\n      this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n    } else {\n      this.updateActionList(ulElement, list, e);\n    }\n    if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n      this.removeFocus();\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    if (this.mode === 'CheckBox' && this.showSelectAll) {\n      this.notify('selectAll', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox'\n      });\n    }\n    if (!this.mainList && !this.mainData) {\n      this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n      this.mainData = list;\n      this.mainListCollection = this.liCollections;\n    } else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n      this.mainData = list;\n    }\n    if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering && this.inputElement.value && this.inputElement.value !== '') {\n      this.checkForCustomValue(this.tempQuery, this.fields);\n      return;\n    }\n    if (this.value && this.value.length && (this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) && this.inputElement.value.trim() !== '' || this.mode === 'CheckBox' || (this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering && this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === '')) {\n      this.refreshSelection();\n    }\n    this.updateListARIA();\n    this.unwireListEvents();\n    this.wireListEvents();\n    if (!isNullOrUndefined(this.setInitialValue)) {\n      this.setInitialValue();\n    }\n    if (!isNullOrUndefined(this.selectAllAction)) {\n      this.selectAllAction();\n    }\n    if (this.setDynValue) {\n      if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n        this.initialTextUpdate();\n      }\n      this.initialValueUpdate();\n      this.initialUpdate();\n      this.refreshPlaceHolder();\n      if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n        this.updateValueState(null, this.value, null);\n      }\n    }\n    this.renderPopup();\n    if (this.beforePopupOpen) {\n      this.beforePopupOpen = false;\n      this.onPopupShown(e);\n    }\n  };\n  MultiSelect.prototype.refreshSelection = function () {\n    var value;\n    var element;\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    if (!isNullOrUndefined(this.value)) {\n      for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n        value = this.value[index];\n        element = this.findListElement(this.list, 'li', 'data-value', value);\n        if (element) {\n          addClass([element], className);\n          if (this.hideSelectedItem && element.previousSibling && element.previousElementSibling.classList.contains(dropDownBaseClasses.group) && (!element.nextElementSibling || element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n            addClass([element.previousElementSibling], className);\n          }\n          if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            this.hideGroupItem(value);\n          }\n          if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n            removeClass([element], dropDownBaseClasses.focus);\n            var listEle = element.parentElement.querySelectorAll('.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n            if (listEle.length > 0) {\n              addClass([listEle[0]], dropDownBaseClasses.focus);\n              this.updateAriaActiveDescendant();\n            } else {\n              //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n              if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                this.l10nUpdate();\n                addClass([this.list], dropDownBaseClasses.noData);\n              }\n            }\n          }\n          element.setAttribute('aria-selected', 'true');\n          if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n            var ariaValue = element.getElementsByClassName('e-check').length;\n            if (ariaValue === 0) {\n              var args = {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                li: element,\n                e: null\n              };\n              this.notify('updatelist', args);\n            }\n          }\n        }\n      }\n    }\n    this.checkSelectAll();\n    this.checkMaxSelection();\n  };\n  MultiSelect.prototype.hideGroupItem = function (value) {\n    var element;\n    var element1;\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n    var i = 0;\n    var j = 0;\n    var temp = true;\n    var temp1 = true;\n    do {\n      if (element && element.previousElementSibling && !element.previousElementSibling.classList.contains(HIDE_LIST) && element.previousElementSibling.classList.contains(dropDownBaseClasses.li)) {\n        temp = false;\n      }\n      if (!temp || !element || element.previousElementSibling && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)) {\n        i = 10;\n      } else {\n        element = element.previousElementSibling;\n      }\n      if (element1 && element1.nextElementSibling && !element1.nextElementSibling.classList.contains(HIDE_LIST) && element1.nextElementSibling.classList.contains(dropDownBaseClasses.li)) {\n        temp1 = false;\n      }\n      if (!temp1 || !element1 || element1.nextElementSibling && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group)) {\n        j = 10;\n      } else {\n        element1 = element1.nextElementSibling;\n      }\n    } while (i < 10 || j < 10);\n    if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n      addClass([element.previousElementSibling], className);\n    } else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n      removeClass([element.previousElementSibling], className);\n    }\n  };\n  MultiSelect.prototype.getValidLi = function () {\n    var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n    return !isNullOrUndefined(liElement) ? liElement : this.liCollections[0];\n  };\n  MultiSelect.prototype.checkSelectAll = function () {\n    var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n    var listItem = this.list.querySelectorAll('li.e-list-item');\n    var searchCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n    var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n      searchActiveCount = searchActiveCount - groupItemLength;\n    }\n    if ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength) && this.mode === 'CheckBox' && this.showSelectAll) {\n      this.notify('checkSelectAll', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        value: 'check'\n      });\n    } else if (searchCount !== searchActiveCount && this.mode === 'CheckBox' && this.showSelectAll) {\n      this.notify('checkSelectAll', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        value: 'uncheck'\n      });\n    }\n    if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n      for (var i = 0; i < listItem.length; i++) {\n        this.findGroupStart(listItem[i]);\n      }\n      this.deselectHeader();\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MultiSelect.prototype.openClick = function (e) {\n    if (!this.openOnClick && this.mode !== 'CheckBox') {\n      if (this.targetElement() !== '') {\n        this.showPopup();\n      } else {\n        this.hidePopup(e);\n      }\n    } else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n      this.showPopup();\n    }\n  };\n  MultiSelect.prototype.keyUp = function (e) {\n    if (this.mode === 'CheckBox' && !this.openOnClick) {\n      var char = String.fromCharCode(e.keyCode);\n      var isWordCharacter = char.match(/\\w/);\n      if (!isNullOrUndefined(isWordCharacter)) {\n        this.isValidKey = true;\n      }\n    }\n    this.isValidKey = this.isPopupOpen() && e.keyCode === 8 || this.isValidKey;\n    this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n    if (this.isValidKey) {\n      this.isValidKey = false;\n      this.expandTextbox();\n      this.showOverAllClear();\n      switch (e.keyCode) {\n        default:\n          // For filtering works in mobile firefox\n          this.search(e);\n      }\n    }\n  };\n  /**\n   * To filter the multiselect data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n   */\n  MultiSelect.prototype.filter = function (dataSource, query, fields) {\n    this.isFiltered = true;\n    this.remoteFilterAction = true;\n    this.dataUpdater(dataSource, query, fields);\n  };\n  MultiSelect.prototype.getQuery = function (query) {\n    var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    if (this.isFiltered) {\n      return filterQuery;\n    }\n    if (this.filterAction) {\n      if (this.targetElement() !== null) {\n        var dataType = this.typeOfData(this.dataSource).typeof;\n        if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n          filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n        } else {\n          var fields = this.fields;\n          filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n        }\n      }\n      return filterQuery;\n    } else {\n      return query ? query : this.query ? this.query : new Query();\n    }\n  };\n  MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n    this.isDataFetched = false;\n    if (this.targetElement().trim() === '') {\n      var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n      if (this.backCommand) {\n        this.remoteCustomValue = false;\n        if (this.allowCustomValue && list.querySelectorAll('li').length == 0 && this.mainData.length > 0) {\n          this.mainData = [];\n        }\n        this.onActionComplete(list, this.mainData);\n        if (this.value && this.value.length) {\n          this.refreshSelection();\n        }\n        if (this.keyCode !== 8) {\n          this.focusAtFirstListItem();\n        }\n        this.notify('reOrder', {\n          module: 'CheckBoxSelection',\n          enable: this.mode === 'CheckBox',\n          e: this\n        });\n      }\n    } else {\n      this.resetList(dataSource, fields, query);\n      if (this.allowCustomValue) {\n        if (!(dataSource instanceof DataManager)) {\n          this.checkForCustomValue(query, fields);\n        } else {\n          this.remoteCustomValue = true;\n          this.tempQuery = query;\n        }\n      }\n    }\n    this.refreshPopup();\n    if (this.mode === 'CheckBox') {\n      this.removeFocus();\n    }\n  };\n  MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n    var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n    if (this.allowCustomValue && dataChecks) {\n      var value = this.inputElement.value;\n      var field = fields ? fields : this.fields;\n      var customData = !isNullOrUndefined(this.mainData) && this.mainData.length > 0 ? this.mainData[0] : this.mainData;\n      if (typeof customData !== 'string' && typeof customData !== 'number' && typeof customData !== 'boolean') {\n        var dataItem = {};\n        setValue(field.text, value, dataItem);\n        if (typeof getValue(this.fields.value ? this.fields.value : 'value', customData) === 'number') {\n          setValue(field.value, Math.random(), dataItem);\n        } else {\n          setValue(field.value, value, dataItem);\n        }\n        var tempData = JSON.parse(JSON.stringify(this.listData));\n        tempData.splice(0, 0, dataItem);\n        this.resetList(tempData, field, query);\n      } else {\n        var tempData = JSON.parse(JSON.stringify(this.listData));\n        tempData.splice(0, 0, this.inputElement.value);\n        tempData[0] = typeof customData === 'number' && !isNaN(parseFloat(tempData[0])) ? parseFloat(tempData[0]) : tempData[0];\n        tempData[0] = typeof customData === 'boolean' ? tempData[0] === 'true' ? true : tempData[0] === 'false' ? false : tempData[0] : tempData[0];\n        this.resetList(tempData, field);\n      }\n    }\n    if (this.value && this.value.length) {\n      this.refreshSelection();\n    }\n  };\n  MultiSelect.prototype.getNgDirective = function () {\n    return 'EJS-MULTISELECT';\n  };\n  MultiSelect.prototype.wrapperClick = function (e) {\n    this.setDynValue = false;\n    if (!this.enabled) {\n      return;\n    }\n    if (e.target === this.overAllClear) {\n      e.preventDefault();\n      return;\n    }\n    if (!this.inputFocus) {\n      this.inputElement.focus();\n    }\n    if (!this.readonly) {\n      if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE$1) !== -1) {\n        if (this.isPopupOpen()) {\n          this.refreshPopup();\n        }\n        return;\n      }\n      if (!this.isPopupOpen() && (this.openOnClick || this.showDropDownIcon && e.target && e.target.className === dropdownIcon)) {\n        this.showPopup(e);\n      } else {\n        this.hidePopup(e);\n        if (this.mode === 'CheckBox') {\n          this.showOverAllClear();\n          this.inputFocus = true;\n          if (!this.overAllWrapper.classList.contains(FOCUS)) {\n            this.overAllWrapper.classList.add(FOCUS);\n          }\n        }\n      }\n    }\n    if (!(this.targetElement() && this.targetElement() !== '')) {\n      e.preventDefault();\n    }\n  };\n  MultiSelect.prototype.enable = function (state) {\n    if (state) {\n      this.overAllWrapper.classList.remove(DISABLED$1);\n      this.inputElement.removeAttribute('disabled');\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.ensureAriaDisabled('false');\n    } else {\n      this.overAllWrapper.classList.add(DISABLED$1);\n      this.inputElement.setAttribute('disabled', 'true');\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.ensureAriaDisabled('true');\n    }\n    if (this.enabled !== state) {\n      this.enabled = state;\n    }\n    this.hidePopup();\n  };\n  MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n    var target;\n    if (!isNullOrUndefined(eve)) {\n      target = eve.relatedTarget;\n    }\n    if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n      if (this.mode !== 'CheckBox') {\n        this.inputElement.focus();\n      } else if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline') || this.overAllWrapper.classList.contains('e-filled'))) {\n        addClass([this.overAllWrapper], 'e-valid-input');\n      }\n      return;\n    }\n    if (this.floatLabelType === 'Auto' && this.overAllWrapper.classList.contains('e-outline') && this.mode === 'CheckBox' && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n      removeClass([this.overAllWrapper], 'e-valid-input');\n    }\n    if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n      this.inputFocus = false;\n      this.overAllWrapper.classList.remove(FOCUS);\n      return;\n    }\n    if (this.scrollFocusStatus) {\n      if (!isNullOrUndefined(eve)) {\n        eve.preventDefault();\n      }\n      this.inputElement.focus();\n      this.scrollFocusStatus = false;\n      return;\n    }\n    this.inputFocus = false;\n    this.overAllWrapper.classList.remove(FOCUS);\n    if (this.addTagOnBlur) {\n      var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n      var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n      var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n      var allowChipAddition = listLiElement && !listLiElement.classList.contains(className) ? true : false;\n      if (allowChipAddition) {\n        this.updateListSelection(listLiElement, eve);\n        if (this.mode === 'Delimiter') {\n          this.updateDelimeter(this.delimiterChar);\n        }\n      }\n    }\n    this.updateDataList();\n    if (this.resetMainList) {\n      this.mainList = this.resetMainList;\n      this.resetMainList = null;\n    }\n    this.refreshListItems(null);\n    if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n      this.updateDelimView();\n    }\n    if (this.changeOnBlur) {\n      this.updateValueState(eve, this.value, this.tempValues);\n      this.dispatchEvent(this.hiddenElement, 'change');\n    }\n    this.overAllClear.style.display = 'none';\n    if (this.isPopupOpen()) {\n      this.hidePopup(eve);\n    }\n    this.makeTextBoxEmpty();\n    this.trigger('blur');\n    this.focused = true;\n    if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n      this.removeChipFocus();\n    }\n    this.removeChipSelection();\n    this.refreshInputHight();\n    floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n    this.refreshPlaceHolder();\n    if ((this.allowFiltering || this.enableSelectionOrder === true && this.mode === 'CheckBox') && !isNullOrUndefined(this.mainList)) {\n      this.ulElement = this.mainList;\n    }\n    this.checkPlaceholderSize();\n    Input.createSpanElement(this.overAllWrapper, this.createElement);\n    this.calculateWidth();\n    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n      this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n    }\n  };\n  MultiSelect.prototype.calculateWidth = function () {\n    var elementWidth;\n    if (this.overAllWrapper) {\n      if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n        elementWidth = this.overAllWrapper.clientWidth - 2 * parseInt(getComputedStyle(this.inputElement).paddingRight);\n      } else {\n        var downIconWidth = this.dropIcon.offsetWidth + parseInt(getComputedStyle(this.dropIcon).marginRight);\n        elementWidth = this.overAllWrapper.clientWidth - (downIconWidth + 2 * parseInt(getComputedStyle(this.inputElement).paddingRight));\n      }\n      if (this.floatLabelType === 'Auto') {\n        Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n      }\n    }\n  };\n  MultiSelect.prototype.checkPlaceholderSize = function () {\n    if (this.showDropDownIcon) {\n      var downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n      this.setPlaceholderSize(downIconWidth);\n    } else {\n      if (!isNullOrUndefined(this.dropIcon)) {\n        this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n      }\n    }\n  };\n  MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n    if (isNullOrUndefined(this.value) || this.value.length === 0) {\n      if (this.dropIcon.offsetWidth !== 0) {\n        this.searchWrapper.style.width = 'calc(100% - ' + (downIconWidth + 10) + 'px';\n      } else {\n        addClass([this.searchWrapper], CUSTOM_WIDTH);\n      }\n    } else if (!isNullOrUndefined(this.value)) {\n      this.searchWrapper.removeAttribute('style');\n      removeClass([this.searchWrapper], CUSTOM_WIDTH);\n    }\n  };\n  MultiSelect.prototype.refreshInputHight = function () {\n    if (!isNullOrUndefined(this.searchWrapper)) {\n      if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n        this.searchWrapper.classList.remove(ZERO_SIZE);\n      } else {\n        this.searchWrapper.classList.add(ZERO_SIZE);\n      }\n    }\n  };\n  MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n    return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n  };\n  MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n    var newValue = newVal ? newVal : [];\n    var oldValue = oldVal ? oldVal : [];\n    if (this.initStatus && this.validateValues(newValue, oldValue)) {\n      var eventArgs = {\n        e: event,\n        oldValue: oldVal,\n        value: newVal,\n        isInteracted: event ? true : false,\n        element: this.element,\n        event: event\n      };\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', eventArgs);\n      }\n      this.updateTempValue();\n      if (!this.changeOnBlur) {\n        this.dispatchEvent(this.hiddenElement, 'change');\n      }\n    }\n  };\n  MultiSelect.prototype.updateTempValue = function () {\n    if (!this.value) {\n      this.tempValues = this.value;\n    } else {\n      this.tempValues = this.value.slice();\n    }\n  };\n  MultiSelect.prototype.updateAriaActiveDescendant = function () {\n    if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n      });\n    }\n  };\n  MultiSelect.prototype.getPagingCount = function () {\n    var height = this.list.classList.contains(dropDownBaseClasses.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n    return Math.round(this.list.offsetHeight / parseInt(height, 10));\n  };\n  MultiSelect.prototype.pageUpSelection = function (steps) {\n    var collection = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n    var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n    this.addListFocus(previousItem);\n    this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n  };\n  MultiSelect.prototype.pageDownSelection = function (steps) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    var list = this.getItems();\n    var collection = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n    var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n    this.addListFocus(previousItem);\n    this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n  };\n  MultiSelect.prototype.getItems = function () {\n    if (!this.list) {\n      _super.prototype.render.call(this);\n    }\n    return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ? this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')') : [];\n  };\n  MultiSelect.prototype.focusInHandler = function (e) {\n    var _this = this;\n    if (this.enabled) {\n      this.showOverAllClear();\n      this.inputFocus = true;\n      if (this.value && this.value.length) {\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n          this.chipCollectionWrapper.style.display = '';\n        } else {\n          this.showDelimWrapper();\n        }\n        if (this.mode !== 'CheckBox') {\n          this.viewWrapper.style.display = 'none';\n        }\n      }\n      if (this.mode !== 'CheckBox') {\n        this.searchWrapper.classList.remove(ZERO_SIZE);\n      }\n      this.checkPlaceholderSize();\n      if (this.focused) {\n        var args = {\n          isInteracted: e ? true : false,\n          event: e\n        };\n        this.trigger('focus', args);\n        this.focused = false;\n      }\n      if (!this.overAllWrapper.classList.contains(FOCUS)) {\n        this.overAllWrapper.classList.add(FOCUS);\n      }\n      floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n      if (this.isPopupOpen()) {\n        this.refreshPopup();\n      }\n      setTimeout(function () {\n        _this.calculateWidth();\n      }, 150);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  MultiSelect.prototype.showDelimWrapper = function () {\n    if (this.mode === 'CheckBox') {\n      this.viewWrapper.style.display = '';\n    } else {\n      this.delimiterWrapper.style.display = '';\n    }\n    this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n  };\n  MultiSelect.prototype.hideDelimWrapper = function () {\n    this.delimiterWrapper.style.display = 'none';\n    this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n  };\n  MultiSelect.prototype.expandTextbox = function () {\n    var size = 5;\n    if (this.placeholder) {\n      size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n    }\n    if (this.inputElement.value.length > size) {\n      this.inputElement.size = this.inputElement.value.length;\n    } else {\n      this.inputElement.size = size;\n    }\n  };\n  MultiSelect.prototype.isPopupOpen = function () {\n    return this.popupWrapper !== null && this.popupWrapper.parentElement !== null;\n  };\n  MultiSelect.prototype.refreshPopup = function () {\n    if (this.popupObj && this.mobFilter) {\n      this.popupObj.setProperties({\n        width: this.calcPopupWidth()\n      });\n      this.popupObj.refreshPosition(this.overAllWrapper);\n      this.popupObj.resolveCollision();\n    }\n  };\n  MultiSelect.prototype.checkTextLength = function () {\n    return this.targetElement().length < 1;\n  };\n  MultiSelect.prototype.popupKeyActions = function (e) {\n    switch (e.keyCode) {\n      case 38:\n        this.hidePopup(e);\n        if (this.mode === 'CheckBox') {\n          this.inputElement.focus();\n        }\n        e.preventDefault();\n        break;\n      case 40:\n        if (!this.isPopupOpen()) {\n          this.showPopup(e);\n          e.preventDefault();\n        }\n        break;\n    }\n  };\n  MultiSelect.prototype.updateAriaAttribute = function () {\n    var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (!isNullOrUndefined(focusedItem)) {\n      this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n      if (this.allowFiltering) {\n        var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n        filterInput && filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n      } else if (this.mode == \"CheckBox\") {\n        this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n      }\n    }\n  };\n  MultiSelect.prototype.homeNavigation = function (isHome) {\n    this.removeFocus();\n    var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n    if (scrollEle.length > 0) {\n      var element = scrollEle[isHome ? 0 : scrollEle.length - 1];\n      element.classList.add(dropDownBaseClasses.focus);\n      this.scrollBottom(element);\n      this.updateAriaActiveDescendant();\n    }\n  };\n  MultiSelect.prototype.onKeyDown = function (e) {\n    if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n      return;\n    }\n    this.keyCode = e.keyCode;\n    this.keyDownStatus = true;\n    if (e.keyCode > 111 && e.keyCode < 124) {\n      return;\n    }\n    if (e.altKey) {\n      this.popupKeyActions(e);\n      return;\n    } else if (this.isPopupOpen()) {\n      var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n      var activeIndex = void 0;\n      switch (e.keyCode) {\n        case 36:\n        case 35:\n          this.homeNavigation(e.keyCode === 36 ? true : false);\n          break;\n        case 33:\n          e.preventDefault();\n          if (focusedItem) {\n            this.getIndexByValue(focusedItem.getAttribute('data-value'));\n            this.pageUpSelection(activeIndex - this.getPagingCount());\n            this.updateAriaAttribute();\n          }\n          return;\n        case 34:\n          e.preventDefault();\n          if (focusedItem) {\n            this.getIndexByValue(focusedItem.getAttribute('data-value'));\n            this.pageDownSelection(activeIndex + this.getPagingCount());\n            this.updateAriaAttribute();\n          }\n          return;\n        case 38:\n          this.arrowUp(e);\n          break;\n        case 40:\n          this.arrowDown(e);\n          break;\n        case 27:\n          e.preventDefault();\n          this.hidePopup(e);\n          if (this.mode === 'CheckBox') {\n            this.inputElement.focus();\n          }\n          return;\n        case 13:\n          e.preventDefault();\n          if (this.mode !== 'CheckBox') {\n            this.selectByKey(e);\n          }\n          this.checkPlaceholderSize();\n          return;\n        case 32:\n          this.spaceKeySelection(e);\n          return;\n        case 9:\n          e.preventDefault();\n          this.hidePopup(e);\n          this.inputElement.focus();\n          this.overAllWrapper.classList.add(FOCUS);\n      }\n    } else {\n      switch (e.keyCode) {\n        case 13:\n        case 9:\n        case 16:\n        case 17:\n        case 20:\n          return;\n        case 40:\n          if (this.openOnClick) {\n            this.showPopup();\n          }\n          break;\n        case 27:\n          e.preventDefault();\n          this.escapeAction();\n          return;\n      }\n    }\n    if (this.checkTextLength()) {\n      this.keyNavigation(e);\n    }\n    if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n      if (this.allowFiltering) {\n        this.previousFilterText = this.targetElement();\n      }\n      this.checkBackCommand(e);\n    }\n    this.expandTextbox();\n    if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n      this.refreshPopup();\n    }\n  };\n  MultiSelect.prototype.arrowDown = function (e) {\n    e.preventDefault();\n    this.moveByList(1);\n    this.keyAction = true;\n    if (document.activeElement.classList.contains(FILTERINPUT) || this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list) {\n      EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n    }\n    this.updateAriaAttribute();\n  };\n  MultiSelect.prototype.arrowUp = function (e) {\n    e.preventDefault();\n    this.keyAction = true;\n    var list = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n    if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n      list = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n    }\n    var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n    this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') : false;\n    var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n    if (index <= 0 && this.mode === 'CheckBox' && this.allowFiltering) {\n      this.keyAction = false;\n      this.notify('inputFocus', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        value: 'focus'\n      });\n    }\n    this.moveByList(-1);\n    this.updateAriaAttribute();\n  };\n  MultiSelect.prototype.spaceKeySelection = function (e) {\n    if (this.mode === 'CheckBox') {\n      var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n      var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n      if (!isNullOrUndefined(li) || selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n        e.preventDefault();\n        this.keyAction = true;\n      }\n      this.selectByKey(e);\n      if (this.keyAction) {\n        var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n          li_1.classList.remove('e-item-focus');\n        }\n      }\n    }\n    this.checkPlaceholderSize();\n  };\n  MultiSelect.prototype.checkBackCommand = function (e) {\n    if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n      this.backCommand = false;\n    } else {\n      this.backCommand = true;\n    }\n  };\n  MultiSelect.prototype.keyNavigation = function (e) {\n    if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox' && this.value && this.value.length) {\n      switch (e.keyCode) {\n        case 37:\n          //left arrow\n          e.preventDefault();\n          this.moveBy(-1, e);\n          break;\n        case 39:\n          //right arrow\n          e.preventDefault();\n          this.moveBy(1, e);\n          break;\n        case 8:\n          this.removelastSelection(e);\n          break;\n        case 46:\n          //del\n          this.removeSelectedChip(e);\n          break;\n      }\n    } else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n      if (this.value && this.value.length) {\n        e.preventDefault();\n        var temp = this.value[this.value.length - 1];\n        this.removeValue(temp, e);\n        this.updateDelimeter(this.delimiterChar, e);\n        this.focusAtLastListItem(temp);\n      }\n    }\n  };\n  MultiSelect.prototype.selectByKey = function (e) {\n    this.removeChipSelection();\n    this.selectListByKey(e);\n    if (this.hideSelectedItem) {\n      this.focusAtFirstListItem();\n    }\n  };\n  MultiSelect.prototype.escapeAction = function () {\n    var temp = this.tempValues ? this.tempValues.slice() : [];\n    if (this.value && this.validateValues(this.value, temp)) {\n      if (this.mode !== 'CheckBox') {\n        this.value = temp;\n        this.initialValueUpdate();\n      }\n      if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n        this.chipCollectionWrapper.style.display = '';\n      } else {\n        this.showDelimWrapper();\n      }\n      this.refreshPlaceHolder();\n      if (this.value.length) {\n        this.showOverAllClear();\n      } else {\n        this.hideOverAllClear();\n      }\n    }\n    this.makeTextBoxEmpty();\n  };\n  MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex) {\n    var currentOffset = this.list.offsetHeight;\n    var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n    var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n    var boxRange = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n    boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n    if (activeIndex === 0) {\n      this.list.scrollTop = 0;\n    } else if (nextBottom > currentOffset) {\n      this.list.scrollTop = nextOffset;\n    } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n      this.list.scrollTop = nextOffset;\n    }\n  };\n  MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex) {\n    var nextOffset = selectedLI.offsetTop - this.list.scrollTop;\n    nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n    var boxRange = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n    if (activeIndex === 0) {\n      this.list.scrollTop = 0;\n    } else if (nextOffset < 0) {\n      this.list.scrollTop = this.list.scrollTop + nextOffset;\n    } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n      this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0);\n    }\n  };\n  MultiSelect.prototype.selectListByKey = function (e) {\n    var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n    var limit = this.value && this.value.length ? this.value.length : 0;\n    var target;\n    if (li !== null) {\n      e.preventDefault();\n      if (li.classList.contains('e-active')) {\n        limit = limit - 1;\n      }\n      if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n        this.updateListSelection(li, e);\n        this.addListFocus(li);\n        if (this.mode === 'CheckBox') {\n          this.updateDelimView();\n          this.updateDelimeter(this.delimiterChar, e);\n          this.refreshInputHight();\n          this.checkPlaceholderSize();\n          if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            target = li.firstElementChild.lastElementChild;\n            this.findGroupStart(target);\n            this.deselectHeader();\n          }\n        } else {\n          this.updateDelimeter(this.delimiterChar, e);\n        }\n        this.makeTextBoxEmpty();\n        if (this.mode !== 'CheckBox') {\n          this.refreshListItems(li.textContent);\n        }\n        if (!this.changeOnBlur) {\n          this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.refreshPopup();\n      } else {\n        if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n          target = li.firstElementChild.lastElementChild;\n          if (target.classList.contains('e-check')) {\n            this.selectAllItem(false, e, li);\n          } else {\n            this.selectAllItem(true, e, li);\n          }\n        }\n      }\n      this.refreshSelection();\n      if (this.closePopupOnSelect) {\n        this.hidePopup(e);\n      }\n    }\n    var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n    if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n      var selectAllCheckBox = selectAllParent.childNodes[0];\n      if (!selectAllCheckBox.classList.contains('e-check')) {\n        selectAllCheckBox.classList.add('e-check');\n        var args = {\n          module: 'CheckBoxSelection',\n          enable: this.mode === 'CheckBox',\n          value: 'check',\n          name: 'checkSelectAll'\n        };\n        this.notify('checkSelectAll', args);\n        this.selectAllItem(true, e, li);\n      } else {\n        selectAllCheckBox.classList.remove('e-check');\n        var args = {\n          module: 'CheckBoxSelection',\n          enable: this.mode === 'CheckBox',\n          value: 'check',\n          name: 'checkSelectAll'\n        };\n        this.notify('checkSelectAll', args);\n        this.selectAllItem(false, e, li);\n      }\n    }\n    this.refreshPlaceHolder();\n  };\n  MultiSelect.prototype.refreshListItems = function (data) {\n    if ((this.allowFiltering || this.mode === 'CheckBox' && this.enableSelectionOrder === true || this.allowCustomValue) && this.mainList && this.listData) {\n      var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n      this.onActionComplete(list, this.mainData);\n      this.focusAtLastListItem(data);\n      if (this.value && this.value.length) {\n        this.refreshSelection();\n      }\n    } else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n      this.refreshSelection();\n    }\n  };\n  MultiSelect.prototype.removeSelectedChip = function (e) {\n    var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n    var temp;\n    if (selectedElem !== null) {\n      if (!isNullOrUndefined(this.value)) {\n        this.tempValues = this.value.slice();\n      }\n      temp = selectedElem.nextElementSibling;\n      if (temp !== null) {\n        this.removeChipSelection();\n        this.addChipSelection(temp, e);\n      }\n      this.removeValue(selectedElem.getAttribute('data-value'), e);\n      this.makeTextBoxEmpty();\n    }\n    if (this.closePopupOnSelect) {\n      this.hidePopup(e);\n    }\n    this.checkPlaceholderSize();\n  };\n  MultiSelect.prototype.moveByTop = function (state) {\n    var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n    var index;\n    if (elements.length > 1) {\n      this.removeFocus();\n      index = state ? 0 : elements.length - 1;\n      this.addListFocus(elements[index]);\n      this.scrollBottom(elements[index], index);\n    }\n    this.updateAriaAttribute();\n  };\n  MultiSelect.prototype.clickHandler = function (e) {\n    var targetElement = e.target;\n    var filterInputClassName = targetElement.className;\n    var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n    if ((filterInputClassName === 'e-input-filter e-input' || filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') && selectAllParent.classList.contains('e-item-focus')) {\n      selectAllParent.classList.remove('e-item-focus');\n    }\n  };\n  MultiSelect.prototype.moveByList = function (position) {\n    if (this.list) {\n      var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n      if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n        elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n      }\n      var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n      var temp = -1;\n      var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n      if (this.mode === 'CheckBox' && this.showSelectAll && position == 1 && !isNullOrUndefined(selectAllParent) && !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length == 0 && this.liCollections.length > 1) {\n        if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n          selectAllParent.classList.remove('e-item-focus');\n        } else if (!selectAllParent.classList.contains('e-item-focus')) {\n          selectAllParent.classList.add('e-item-focus');\n        }\n      } else if (elements.length) {\n        if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position == -1)) {\n          if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n          } else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.add('e-item-focus');\n          }\n        }\n        for (var index = 0; index < elements.length; index++) {\n          if (elements[index] === selectedElem) {\n            temp = index;\n            break;\n          }\n        }\n        if (position > 0) {\n          if (temp < elements.length - 1) {\n            this.removeFocus();\n            this.addListFocus(elements[++temp]);\n            this.updateCheck(elements[temp]);\n            this.scrollBottom(elements[temp], temp);\n          }\n        } else {\n          if (temp > 0) {\n            this.removeFocus();\n            this.addListFocus(elements[--temp]);\n            this.updateCheck(elements[temp]);\n            this.scrollTop(elements[temp], temp);\n          }\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.updateCheck = function (element) {\n    if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n      var checkElement = element.firstElementChild.lastElementChild;\n      if (checkElement.classList.contains('e-check')) {\n        element.classList.add('e-active');\n      } else {\n        element.classList.remove('e-active');\n      }\n    }\n  };\n  MultiSelect.prototype.moveBy = function (position, e) {\n    var temp;\n    var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1);\n    var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n    if (selectedElem === null) {\n      if (position < 0) {\n        this.addChipSelection(elements[elements.length - 1], e);\n      }\n    } else {\n      if (position < 0) {\n        temp = selectedElem.previousElementSibling;\n        if (temp !== null) {\n          this.removeChipSelection();\n          this.addChipSelection(temp, e);\n        }\n      } else {\n        temp = selectedElem.nextElementSibling;\n        this.removeChipSelection();\n        if (temp !== null) {\n          this.addChipSelection(temp, e);\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.chipClick = function (e) {\n    if (this.enabled) {\n      var elem = closest(e.target, '.' + CHIP$1);\n      this.removeChipSelection();\n      this.addChipSelection(elem, e);\n    }\n  };\n  MultiSelect.prototype.removeChipSelection = function () {\n    if (this.chipCollectionWrapper) {\n      this.removeChipFocus();\n    }\n  };\n  MultiSelect.prototype.addChipSelection = function (element, e) {\n    addClass([element], CHIP_SELECTED);\n    this.trigger('chipSelection', e);\n  };\n  MultiSelect.prototype.onChipRemove = function (e) {\n    if (e.which === 3 || e.button === 2) {\n      return;\n    }\n    if (this.enabled && !this.readonly) {\n      var element = e.target.parentElement;\n      var customVal = element.getAttribute('data-value');\n      var value = this.getFormattedValue(customVal);\n      if (this.allowCustomValue && (customVal !== 'false' && value === false || !isNullOrUndefined(value) && value.toString() === 'NaN')) {\n        value = customVal;\n      }\n      if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n        this.hidePopup(e);\n      }\n      if (!this.inputFocus) {\n        this.inputElement.focus();\n      }\n      this.removeValue(value, e);\n      if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n        var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n        this.onActionComplete(list, this.mainData);\n      }\n      this.updateDelimeter(this.delimiterChar, e);\n      if (this.placeholder && this.floatLabelType === 'Never') {\n        this.makeTextBoxEmpty();\n        this.checkPlaceholderSize();\n      } else {\n        this.inputElement.value = '';\n      }\n      e.preventDefault();\n    }\n  };\n  MultiSelect.prototype.makeTextBoxEmpty = function () {\n    this.inputElement.value = '';\n    this.refreshPlaceHolder();\n  };\n  MultiSelect.prototype.refreshPlaceHolder = function () {\n    if (this.placeholder && this.floatLabelType === 'Never') {\n      if (this.value && this.value.length || !isNullOrUndefined(this.text) && this.text !== '') {\n        this.inputElement.placeholder = '';\n      } else {\n        this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n      }\n    } else {\n      this.setFloatLabelType();\n    }\n    this.expandTextbox();\n  };\n  MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n    var index = this.value.indexOf(value);\n    var removeVal = this.value.slice(0);\n    removeVal.splice(index, 1);\n    this.setProperties({\n      value: [].concat([], removeVal)\n    }, true);\n    element.setAttribute('aria-selected', 'false');\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    removeClass([element], className);\n    this.notify('activeList', {\n      module: 'CheckBoxSelection',\n      enable: this.mode === 'CheckBox',\n      li: element,\n      e: this,\n      index: index\n    });\n    this.invokeCheckboxSelection(element, eve, isClearAll);\n    this.updateMainList(true, value, mainElement);\n    this.updateChipStatus();\n  };\n  MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n    this.notify('updatelist', {\n      module: 'CheckBoxSelection',\n      enable: this.mode === 'CheckBox',\n      li: element,\n      e: eve\n    });\n    this.updateAriaActiveDescendant();\n    if (this.value && this.value.length !== this.mainData.length && this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll)) {\n      this.notify('checkSelectAll', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        value: 'uncheck'\n      });\n    }\n  };\n  MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n    var _this = this;\n    var index = this.value.indexOf(this.getFormattedValue(value));\n    if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n      index = this.value.indexOf(value.toString());\n    }\n    var targetEle = eve && eve.target;\n    isClearAll = isClearAll || targetEle && targetEle.classList.contains('e-close-hooker') ? true : null;\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    if (index !== -1) {\n      var element_1 = this.findListElement(this.list, 'li', 'data-value', value);\n      var val_1 = this.getDataByValue(value);\n      var eventArgs = {\n        e: eve,\n        item: element_1,\n        itemData: val_1,\n        isInteracted: eve ? true : false,\n        cancel: false\n      };\n      this.trigger('removing', eventArgs, function (eventArgs) {\n        if (eventArgs.cancel) {\n          _this.removeIndex++;\n        } else {\n          var removeVal = _this.value.slice(0);\n          removeVal.splice(index, 1);\n          _this.setProperties({\n            value: [].concat([], removeVal)\n          }, true);\n          if (element_1 !== null) {\n            var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', value);\n            element_1.setAttribute('aria-selected', 'false');\n            removeClass([element_1], className);\n            if (hideElement) {\n              hideElement.setAttribute('aria-selected', 'false');\n              removeClass([element_1, hideElement], className);\n            }\n            _this.notify('activeList', {\n              module: 'CheckBoxSelection',\n              enable: _this.mode === 'CheckBox',\n              li: element_1,\n              e: _this,\n              index: index\n            });\n            _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n          }\n          if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n            _this.hideGroupItem(value);\n          }\n          if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' && _this.isPopupOpen()) {\n            _super.prototype.scrollStop.call(_this);\n          }\n          _this.updateMainList(true, value);\n          _this.removeChip(value);\n          _this.updateChipStatus();\n          var limit = _this.value && _this.value.length ? _this.value.length : 0;\n          if (limit < _this.maximumSelectionLength) {\n            var collection = _this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-active)');\n            removeClass(collection, 'e-disable');\n          }\n          _this.trigger('removed', eventArgs);\n          var targetEle_1 = eve && eve.currentTarget;\n          var isSelectAll = targetEle_1 && targetEle_1.classList.contains('e-selectall-parent') ? true : null;\n          if (!_this.changeOnBlur && !isClearAll && eve && length && !isSelectAll) {\n            _this.updateValueState(eve, _this.value, _this.tempValues);\n          }\n          if (length) {\n            _this.selectAllEventData.push(val_1);\n            _this.selectAllEventEle.push(element_1);\n          }\n          if (length === 1) {\n            if (!_this.changeOnBlur) {\n              _this.updateValueState(eve, _this.value, _this.tempValues);\n            }\n            var args = {\n              event: eve,\n              items: _this.selectAllEventEle,\n              itemData: _this.selectAllEventData,\n              isInteracted: eve ? true : false,\n              isChecked: false\n            };\n            _this.trigger('selectedAll', args);\n            _this.selectAllEventData = [];\n            _this.selectAllEventEle = [];\n          }\n          if (isClearAll && (length === 1 || length === null)) {\n            _this.clearAllCallback(eve, isClearAll);\n          }\n        }\n      });\n    }\n  };\n  MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n    if (this.allowFiltering || this.mode === 'CheckBox') {\n      var element2 = mainElement ? mainElement : this.findListElement(this.mainList, 'li', 'data-value', value);\n      if (element2) {\n        if (state) {\n          element2.setAttribute('aria-selected', 'false');\n          removeClass([element2], this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected);\n          if (this.mode === 'CheckBox') {\n            removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n          }\n        } else {\n          element2.setAttribute('aria-selected', 'true');\n          addClass([element2], this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected);\n          if (this.mode === 'CheckBox') {\n            addClass([element2.firstElementChild.lastElementChild], 'e-check');\n          }\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.removeChip = function (value) {\n    if (this.chipCollectionWrapper) {\n      var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n      if (element) {\n        remove(element);\n      }\n    }\n  };\n  MultiSelect.prototype.setWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.overAllWrapper.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.overAllWrapper.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n  MultiSelect.prototype.updateChipStatus = function () {\n    if (this.value && this.value.length) {\n      if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n        this.chipCollectionWrapper.style.display = '';\n      }\n      if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n        this.showDelimWrapper();\n      }\n      this.showOverAllClear();\n    } else {\n      if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n        this.chipCollectionWrapper.style.display = 'none';\n      }\n      if (!isNullOrUndefined(this.delimiterWrapper)) {\n        this.delimiterWrapper.style.display = 'none';\n      }\n      this.hideOverAllClear();\n    }\n  };\n  MultiSelect.prototype.addValue = function (value, text, eve) {\n    if (!this.value) {\n      this.value = [];\n    }\n    if (this.value.indexOf(value) < 0) {\n      this.setProperties({\n        value: [].concat([], this.value, [value])\n      }, true);\n    }\n    var element = this.findListElement(this.list, 'li', 'data-value', value);\n    this.removeFocus();\n    if (element) {\n      this.addListFocus(element);\n      this.addListSelection(element);\n    }\n    if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n      this.addChip(text, value, eve);\n    }\n    if (this.hideSelectedItem && this.fields.groupBy) {\n      this.hideGroupItem(value);\n    }\n    this.updateChipStatus();\n    this.checkMaxSelection();\n  };\n  MultiSelect.prototype.checkMaxSelection = function () {\n    var limit = this.value && this.value.length ? this.value.length : 0;\n    if (limit === this.maximumSelectionLength) {\n      var collection = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-active)');\n      addClass(collection, 'e-disable');\n    }\n  };\n  MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n    var _this = this;\n    var list = this.listData;\n    if (this.initStatus && !isNotTrigger) {\n      var val_2 = this.getDataByValue(value);\n      var eventArgs = {\n        e: eve,\n        item: element,\n        itemData: val_2,\n        isInteracted: eve ? true : false,\n        cancel: false\n      };\n      this.trigger('select', eventArgs, function (eventArgs) {\n        if (!eventArgs.cancel) {\n          if (length) {\n            _this.selectAllEventData.push(val_2);\n            _this.selectAllEventEle.push(element);\n          }\n          if (length === 1) {\n            var args = {\n              event: eve,\n              items: _this.selectAllEventEle,\n              itemData: _this.selectAllEventData,\n              isInteracted: eve ? true : false,\n              isChecked: true\n            };\n            _this.trigger('selectedAll', args);\n            _this.selectAllEventData = [];\n          }\n          if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n            _this.listData = list;\n          }\n          _this.updateListSelectEventCallback(value, element, eve);\n          if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n            _super.prototype.scrollStop.call(_this);\n          }\n        }\n      });\n    }\n  };\n  MultiSelect.prototype.addChip = function (text, value, e) {\n    if (this.chipCollectionWrapper) {\n      this.getChip(text, value, e);\n    }\n  };\n  MultiSelect.prototype.removeChipFocus = function () {\n    var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1 + '.' + CHIP_SELECTED);\n    removeClass(elements, CHIP_SELECTED);\n    if (Browser.isDevice) {\n      var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE$1.split(' ')[0]);\n      for (var index = 0; index < closeElements.length; index++) {\n        closeElements[index].style.display = 'none';\n      }\n    }\n  };\n  MultiSelect.prototype.onMobileChipInteraction = function (e) {\n    var chipElem = closest(e.target, '.' + CHIP$1);\n    var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE$1.split(' ')[0]);\n    if (this.enabled && !this.readonly) {\n      if (!chipElem.classList.contains(CHIP_SELECTED)) {\n        this.removeChipFocus();\n        chipClose.style.display = '';\n        chipElem.classList.add(CHIP_SELECTED);\n      }\n      this.refreshPopup();\n      e.preventDefault();\n    }\n  };\n  MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n    var checkTemplate = false;\n    if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n      try {\n        checkTemplate = selectAll(multiselectTemplate, document).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  MultiSelect.prototype.encodeHtmlEntities = function (input) {\n    return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n      return \"&#\" + match.charCodeAt(0) + \";\";\n    });\n  };\n  MultiSelect.prototype.getChip = function (data, value, e) {\n    var _this = this;\n    var itemData = {\n      text: value,\n      value: value\n    };\n    var chip = this.createElement('span', {\n      className: CHIP$1,\n      attrs: {\n        'data-value': value,\n        'title': data\n      }\n    });\n    var compiledString;\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT$1\n    });\n    var chipClose = this.createElement('span', {\n      className: CHIP_CLOSE$1\n    });\n    if (this.mainData) {\n      itemData = this.getDataByValue(value);\n    }\n    if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n      var valuecheck = this.multiCompiler(this.valueTemplate);\n      if (typeof this.valueTemplate !== 'function' && valuecheck) {\n        compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n      } else {\n        compiledString = compile(this.valueTemplate);\n      }\n      // eslint-disable-next-line\n      var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n      if (valueCompTemp && valueCompTemp.length > 0) {\n        append(valueCompTemp, chipContent);\n      }\n      this.renderReactTemplates();\n    } else if (this.enableHtmlSanitizer) {\n      chipContent.innerText = data;\n    } else {\n      chipContent.innerHTML = this.encodeHtmlEntities(data);\n    }\n    chip.appendChild(chipContent);\n    var eventArgs = {\n      isInteracted: e ? true : false,\n      itemData: itemData,\n      e: e,\n      setClass: function (classes) {\n        addClass([chip], classes);\n      },\n      cancel: false\n    };\n    this.isPreventChange = this.isAngular && this.preventChange;\n    this.trigger('tagging', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel) {\n        if (Browser.isDevice) {\n          chip.classList.add(MOBILE_CHIP);\n          append([chipClose], chip);\n          chipClose.style.display = 'none';\n          EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n        } else {\n          EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n          if (_this.showClearButton) {\n            chip.appendChild(chipClose);\n          }\n        }\n        EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n        _this.chipCollectionWrapper.appendChild(chip);\n        if (!_this.changeOnBlur && e) {\n          _this.updateValueState(e, _this.value, _this.tempValues);\n        }\n      }\n    });\n  };\n  MultiSelect.prototype.calcPopupWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.componentWrapper.offsetWidth * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n    return width;\n  };\n  MultiSelect.prototype.mouseIn = function () {\n    if (this.enabled && !this.readonly) {\n      this.showOverAllClear();\n    }\n  };\n  MultiSelect.prototype.mouseOut = function () {\n    if (!this.inputFocus) {\n      this.overAllClear.style.display = 'none';\n    }\n  };\n  MultiSelect.prototype.listOption = function (dataSource, fields) {\n    var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n    var fieldProperty = isNullOrUndefined(fields.properties) ? fields : fields.properties;\n    this.listCurrentOptions = fields.text !== null || fields.value !== null ? {\n      fields: fieldProperty,\n      showIcon: iconCss,\n      ariaAttributes: {\n        groupItemRole: 'presentation'\n      }\n    } : {\n      fields: {\n        value: 'text'\n      }\n    };\n    extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n    if (this.mode === 'CheckBox') {\n      this.notify('listoption', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        dataSource: dataSource,\n        fieldProperty: fieldProperty\n      });\n    }\n    return this.listCurrentOptions;\n  };\n  MultiSelect.prototype.renderPopup = function () {\n    var _this = this;\n    if (!this.list) {\n      _super.prototype.render.call(this);\n    }\n    if (!this.popupObj) {\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        document.body.appendChild(this.popupWrapper);\n        var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n        if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n          checkboxFilter.remove();\n          this.filterParent = null;\n        }\n        var overAllHeight = parseInt(this.popupHeight, 10);\n        this.popupWrapper.style.visibility = 'hidden';\n        if (this.headerTemplate) {\n          this.setHeaderTemplate();\n          overAllHeight -= this.header.offsetHeight;\n        }\n        append([this.list], this.popupWrapper);\n        if (this.footerTemplate) {\n          this.setFooterTemplate();\n          overAllHeight -= this.footer.offsetHeight;\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n          this.notify('selectAll', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox'\n          });\n          overAllHeight -= this.selectAllHeight;\n        } else if (this.mode === 'CheckBox' && !this.showSelectAll && !this.headerTemplate && !this.footerTemplate) {\n          this.notify('selectAll', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox'\n          });\n          overAllHeight = parseInt(this.popupHeight, 10);\n        } else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n          this.notify('selectAll', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox'\n          });\n          overAllHeight = parseInt(this.popupHeight, 10);\n          if (this.headerTemplate && this.header) {\n            overAllHeight -= this.header.offsetHeight;\n          }\n          if (this.footerTemplate && this.footer) {\n            overAllHeight -= this.footer.offsetHeight;\n          }\n        }\n        if (this.mode === 'CheckBox') {\n          var args = {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox',\n            popupElement: this.popupWrapper\n          };\n          if (this.allowFiltering) {\n            this.notify('searchBox', args);\n            overAllHeight -= this.searchBoxHeight;\n          }\n          addClass([this.popupWrapper], 'e-checkbox');\n        }\n        if (this.popupHeight !== 'auto') {\n          this.list.style.maxHeight = formatUnit(overAllHeight);\n          this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n        } else {\n          this.list.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n          width: this.calcPopupWidth(),\n          targetType: 'relative',\n          position: this.enableRtl ? {\n            X: 'right',\n            Y: 'bottom'\n          } : {\n            X: 'left',\n            Y: 'bottom'\n          },\n          relateTo: this.overAllWrapper,\n          collision: this.enableRtl ? {\n            X: 'fit',\n            Y: 'flip'\n          } : {\n            X: 'flip',\n            Y: 'flip'\n          },\n          offsetY: 1,\n          enableRtl: this.enableRtl,\n          zIndex: this.zIndex,\n          close: function () {\n            if (_this.popupObj.element.parentElement) {\n              _this.popupObj.unwireScrollEvents();\n              // For restrict the page scrolling in safari browser\n              var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n              if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                checkboxFilterInput.blur();\n              }\n              detach(_this.popupObj.element);\n            }\n          },\n          open: function () {\n            _this.popupObj.resolveCollision();\n            if (!_this.isFirstClick) {\n              var ulElement = _this.list.querySelector('ul');\n              if (ulElement) {\n                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) && _this.targetElement().trim() !== '')) {\n                  _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                }\n              }\n              _this.isFirstClick = true;\n            }\n            _this.popupObj.wireScrollEvents();\n            if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) && _this.targetElement().trim() !== '')) {\n              _this.loadTemplate();\n            }\n            _this.setScrollPosition();\n            if (_this.allowFiltering) {\n              _this.notify('inputFocus', {\n                module: 'CheckBoxSelection',\n                enable: _this.mode === 'CheckBox',\n                value: 'focus'\n              });\n            }\n          },\n          targetExitViewport: function () {\n            if (!Browser.isDevice) {\n              _this.hidePopup();\n            }\n          }\n        });\n        if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering) {\n          this.notify('deviceSearchBox', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox'\n          });\n        }\n        this.popupObj.close();\n        this.popupWrapper.style.visibility = '';\n      }\n    }\n  };\n  MultiSelect.prototype.setHeaderTemplate = function () {\n    var compiledString;\n    if (this.header) {\n      this.header.remove();\n    }\n    this.header = this.createElement('div');\n    addClass([this.header], HEADER$1);\n    var headercheck = this.multiCompiler(this.headerTemplate);\n    if (typeof this.headerTemplate !== 'function' && headercheck) {\n      compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.headerTemplate);\n    }\n    // eslint-disable-next-line\n    var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n    if (elements && elements.length > 0) {\n      append(elements, this.header);\n    }\n    if (this.mode === 'CheckBox' && this.showSelectAll) {\n      prepend([this.header], this.popupWrapper);\n    } else {\n      append([this.header], this.popupWrapper);\n    }\n    EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n  };\n  MultiSelect.prototype.setFooterTemplate = function () {\n    var compiledString;\n    if (this.footer) {\n      this.footer.remove();\n    }\n    this.footer = this.createElement('div');\n    addClass([this.footer], FOOTER$1);\n    var footercheck = this.multiCompiler(this.footerTemplate);\n    if (typeof this.footerTemplate !== 'function' && footercheck) {\n      compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.footerTemplate);\n    }\n    // eslint-disable-next-line\n    var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n    if (elements && elements.length > 0) {\n      append(elements, this.footer);\n    }\n    append([this.footer], this.popupWrapper);\n    EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n  };\n  MultiSelect.prototype.clearAll = function (e) {\n    if (this.enabled && !this.readonly) {\n      var temp = void 0;\n      if (this.value && this.value.length > 0) {\n        var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n        if (liElement && liElement.length > 0) {\n          this.selectAllItems(false, e);\n        } else {\n          this.removeIndex = 0;\n          for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n            this.removeValue(temp, e, null, true);\n          }\n        }\n        this.selectedElementID = null;\n        this.inputElement.removeAttribute('aria-activedescendant');\n      } else {\n        this.clearAllCallback(e);\n      }\n    }\n  };\n  MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n    var tempValues = this.value ? this.value.slice() : [];\n    if (this.mainList && this.listData && (this.allowFiltering && this.mode !== 'CheckBox' || this.allowCustomValue)) {\n      var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n      this.onActionComplete(list, this.mainData);\n    }\n    this.focusAtFirstListItem();\n    this.updateDelimeter(this.delimiterChar, e);\n    if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n      this.updateDelimView();\n    }\n    if (this.inputElement.value !== '') {\n      this.makeTextBoxEmpty();\n      this.search(null);\n    }\n    this.checkPlaceholderSize();\n    if (this.isPopupOpen()) {\n      this.refreshPopup();\n    }\n    if (!this.inputFocus) {\n      if (this.changeOnBlur) {\n        this.updateValueState(e, this.value, tempValues);\n      }\n      if (this.mode !== 'CheckBox') {\n        this.inputElement.focus();\n      }\n    }\n    if (this.mode === 'CheckBox') {\n      this.refreshPlaceHolder();\n      this.refreshInputHight();\n      if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n        this.updateValueState(e, this.value, this.tempValues);\n      }\n    }\n    if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n      this.updateValueState(e, this.value, this.tempValues);\n    }\n    if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n      this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n    }\n    e.preventDefault();\n  };\n  MultiSelect.prototype.windowResize = function () {\n    this.refreshPopup();\n    if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n      this.updateDelimView();\n    }\n  };\n  MultiSelect.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement && e.target === formElement) {\n      var textVal = this.element.tagName === this.getNgDirective() ? null : this.element.getAttribute('data-initial-value');\n      this.text = textVal;\n    }\n  };\n  MultiSelect.prototype.wireEvent = function () {\n    EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n    EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n    EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n    if (this.mode !== 'CheckBox') {\n      EventHandler.add(this.inputElement, 'input', this.onInput, this);\n    }\n    EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n    EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n    EventHandler.add(this.overAllClear, 'mouseup', this.clearAll, this);\n    EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n  };\n  MultiSelect.prototype.onInput = function (e) {\n    if (this.keyDownStatus) {\n      this.isValidKey = true;\n    } else {\n      this.isValidKey = false;\n    }\n    this.keyDownStatus = false;\n    // For Filtering works in mobile firefox\n    if (Browser.isDevice && Browser.info.name === 'mozilla') {\n      this.search(e);\n    }\n  };\n  MultiSelect.prototype.pasteHandler = function (event) {\n    var _this = this;\n    setTimeout(function () {\n      _this.expandTextbox();\n      _this.search(event);\n    });\n  };\n  MultiSelect.prototype.search = function (e) {\n    var _this = this;\n    this.resetFilteredData = true;\n    if (!isNullOrUndefined(e)) {\n      this.keyCode = e.keyCode;\n    }\n    if (!this.isPopupOpen() && this.openOnClick) {\n      this.showPopup(e);\n    }\n    this.openClick(e);\n    if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && e.keyCode !== 8) {\n      this.focusAtFirstListItem();\n    } else {\n      var text = this.targetElement();\n      if (this.allowFiltering) {\n        var eventArgs_1 = {\n          preventDefaultAction: false,\n          text: this.targetElement(),\n          updateData: function (dataSource, query, fields) {\n            if (eventArgs_1.cancel) {\n              return;\n            }\n            _this.isFiltered = true;\n            _this.remoteFilterAction = true;\n            _this.dataUpdater(dataSource, query, fields);\n          },\n          event: e,\n          cancel: false\n        };\n        this.trigger('filtering', eventArgs_1, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n              _this.filterAction = true;\n              _this.dataUpdater(_this.dataSource, null, _this.fields);\n            }\n          }\n        });\n      } else if (this.allowCustomValue) {\n        var query = new Query();\n        query = text !== '' ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n        this.dataUpdater(this.mainData, query, this.fields);\n      } else {\n        var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n        var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n        if (activeElement && activeElement.item !== null) {\n          this.addListFocus(activeElement.item);\n          this.list.scrollTop = activeElement.item.offsetHeight * activeElement.index;\n        } else if (this.targetElement() !== '') {\n          this.removeFocus();\n        } else {\n          this.focusAtFirstListItem();\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.preRender = function () {\n    if (this.allowFiltering === null) {\n      this.allowFiltering = this.mode === 'CheckBox' ? true : false;\n    }\n    this.initializeData();\n    this.updateDataAttribute(this.htmlAttributes);\n    _super.prototype.preRender.call(this);\n  };\n  MultiSelect.prototype.getLocaleName = function () {\n    return 'multi-select';\n  };\n  MultiSelect.prototype.initializeData = function () {\n    this.mainListCollection = [];\n    this.beforePopupOpen = false;\n    this.filterAction = false;\n    this.remoteFilterAction = false;\n    this.isFirstClick = false;\n    this.mobFilter = true;\n    this.isFiltered = false;\n    this.focused = true;\n    this.initial = true;\n    this.backCommand = true;\n  };\n  MultiSelect.prototype.updateData = function (delimiterChar, e) {\n    var data = '';\n    var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n    var text = [];\n    var temp;\n    var tempData = this.listData;\n    this.listData = this.mainData;\n    if (!isNullOrUndefined(this.hiddenElement)) {\n      this.hiddenElement.innerHTML = '';\n    }\n    if (!isNullOrUndefined(this.value)) {\n      var valueLength = this.value.length;\n      var hiddenElementContent = '';\n      for (var index = 0; index < valueLength; index++) {\n        var valueItem = this.value[index];\n        var listValue = this.findListElement(!isNullOrUndefined(this.mainList) ? this.mainList : this.ulElement, 'li', 'data-value', valueItem);\n        if (isNullOrUndefined(listValue) && !this.allowCustomValue) {\n          this.value.splice(index, 1);\n          index -= 1;\n          valueLength -= 1;\n        } else {\n          if (this.listData) {\n            temp = this.getTextByValue(valueItem);\n          } else {\n            temp = valueItem;\n          }\n          data += temp + delimiterChar + ' ';\n          text.push(temp);\n        }\n        hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n      }\n      if (!isNullOrUndefined(this.hiddenElement)) {\n        this.hiddenElement.innerHTML = hiddenElementContent;\n      }\n    }\n    this.setProperties({\n      text: text.toString()\n    }, true);\n    if (delim) {\n      this.updateWrapperText(this.delimiterWrapper, data);\n      this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n      this.inputElement.setAttribute('aria-labelledby', this.delimiterWrapper.id);\n    }\n    var targetEle = e && e.target;\n    var isClearAll = targetEle && targetEle.classList.contains('e-close-hooker') ? true : null;\n    if (!this.changeOnBlur && e && !isClearAll || this.isSelectAll) {\n      this.isSelectAll = false;\n      this.updateValueState(e, this.value, this.tempValues);\n    }\n    this.listData = tempData;\n    this.addValidInputClass();\n  };\n  MultiSelect.prototype.initialTextUpdate = function () {\n    if (!isNullOrUndefined(this.text)) {\n      var textArr = this.text.split(this.delimiterChar);\n      var textVal = [];\n      for (var index = 0; textArr.length > index; index++) {\n        var val = this.getValueByText(textArr[index]);\n        if (!isNullOrUndefined(val)) {\n          textVal.push(val);\n        } else if (this.allowCustomValue) {\n          textVal.push(textArr[index]);\n        }\n      }\n      if (textVal && textVal.length) {\n        this.setProperties({\n          value: textVal\n        }, true);\n      }\n    } else {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n  MultiSelect.prototype.renderList = function (isEmptyData) {\n    if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n      isEmptyData = true;\n    }\n    _super.prototype.render.call(this, null, isEmptyData);\n    this.unwireListEvents();\n    this.wireListEvents();\n  };\n  MultiSelect.prototype.initialValueUpdate = function () {\n    if (this.list) {\n      var text = void 0;\n      var element = void 0;\n      var value = void 0;\n      if (this.chipCollectionWrapper) {\n        this.chipCollectionWrapper.innerHTML = '';\n      }\n      this.removeListSelection();\n      if (!isNullOrUndefined(this.value)) {\n        for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n          value = this.value[index];\n          element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n          text = this.getTextByValue(value);\n          if (element && element.getAttribute('aria-selected') !== 'true' || element && element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem && (this.mode === 'Box' || this.mode === 'Default')) {\n            this.addChip(text, value);\n            this.addListSelection(element);\n          } else if (value && this.allowCustomValue) {\n            var indexItem = this.listData.length;\n            var newValue = {};\n            setValue(this.fields.text, value, newValue);\n            setValue(this.fields.value, value, newValue);\n            var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n            this.addItem(newValue, indexItem);\n            element = element ? element : this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n            if (this.popupWrapper.contains(noDataEle)) {\n              this.list.setAttribute('style', noDataEle.getAttribute('style'));\n              this.popupWrapper.replaceChild(this.list, noDataEle);\n              this.wireListEvents();\n            }\n            this.addChip(text, value);\n            this.addListSelection(element);\n          }\n        }\n      }\n      if (this.mode === 'CheckBox') {\n        this.updateDelimView();\n        if (this.changeOnBlur) {\n          this.updateValueState(null, this.value, this.tempValues);\n        }\n        this.updateDelimeter(this.delimiterChar);\n        this.refreshInputHight();\n      } else {\n        this.updateDelimeter(this.delimiterChar);\n      }\n      if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n        this.notify('checkSelectAll', {\n          module: 'CheckBoxSelection',\n          enable: this.mode === 'CheckBox',\n          value: 'uncheck'\n        });\n      }\n      if (this.mode === 'Box' || this.mode === 'Default' && this.inputFocus) {\n        this.chipCollectionWrapper.style.display = '';\n      } else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n        this.showDelimWrapper();\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n    if (this.value && this.value.indexOf(li.getAttribute('data-value')) > -1) {\n      this.mainList = this.ulElement;\n      if (this.hideSelectedItem) {\n        addClass([li], HIDE_LIST);\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n    if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n      this.list = list;\n      this.mainList = this.ulElement = list.querySelector('ul');\n      remove(this.popupWrapper.querySelector('.e-content'));\n      this.popupObj = null;\n      this.renderPopup();\n    } else if (this.allowCustomValue) {\n      this.list = list;\n      this.mainList = this.ulElement = list.querySelector('ul');\n    }\n  };\n  MultiSelect.prototype.updateDataList = function () {\n    if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n      var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n      var isReactTemplateUpdate = this.ulElement.childElementCount > 0 && this.ulElement.children[0].childElementCount > 0 && this.mainList.children[0].childElementCount < this.ulElement.children[0].childElementCount;\n      var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 && !(this.ulElement.childElementCount < this.mainList.childElementCount) && (this.ulElement.children[0].childElementCount > 0 || this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0);\n      if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n        //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n        this.mainList = this.ulElement;\n      }\n    }\n  };\n  MultiSelect.prototype.isValidLI = function (li) {\n    return li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) && li.classList.contains(dropDownBaseClasses.li);\n  };\n  MultiSelect.prototype.updateListSelection = function (li, e, length) {\n    var customVal = li.getAttribute('data-value');\n    var value = this.getFormattedValue(customVal);\n    if (this.allowCustomValue && (customVal !== 'false' && value === false || !isNullOrUndefined(value) && value.toString() === 'NaN')) {\n      value = customVal;\n    }\n    this.removeHover();\n    if (!this.value || this.value.indexOf(value) === -1) {\n      this.dispatchSelect(value, e, li, li.getAttribute('aria-selected') === 'true', length);\n    } else {\n      this.removeValue(value, e, length);\n    }\n  };\n  MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n    var _this = this;\n    var text = this.getTextByValue(value);\n    if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value)) {\n      var temp_1 = li.cloneNode(true);\n      var fieldValue = this.fields.value ? this.fields.value : 'value';\n      if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n        value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n      }\n      var data_1 = this.getDataByValue(value);\n      var eventArgs = {\n        newData: data_1,\n        cancel: false\n      };\n      this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n        if (!eventArgs.cancel) {\n          append([temp_1], _this.mainList);\n          _this.mainData.push(data_1);\n          _this.remoteCustomValue = false;\n          _this.addValue(value, text, e);\n        }\n      });\n    } else {\n      this.remoteCustomValue = false;\n      this.addValue(value, text, e);\n    }\n  };\n  MultiSelect.prototype.removeListSelection = function () {\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    var selectedItems = this.list.querySelectorAll('.' + className);\n    var temp = selectedItems.length;\n    if (selectedItems && selectedItems.length) {\n      removeClass(selectedItems, className);\n      while (temp > 0) {\n        selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n        temp--;\n      }\n    }\n    if (!isNullOrUndefined(this.mainList)) {\n      var selectItems = this.mainList.querySelectorAll('.' + className);\n      var temp1 = selectItems.length;\n      if (selectItems && selectItems.length) {\n        removeClass(selectItems, className);\n        while (temp1 > 0) {\n          selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n          if (this.mode === 'CheckBox') {\n            if (selectedItems && selectedItems.length > temp1 - 1) {\n              removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n            }\n            removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n          }\n          temp1--;\n        }\n      }\n    }\n  };\n  MultiSelect.prototype.removeHover = function () {\n    var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, dropDownBaseClasses.hover);\n    }\n  };\n  MultiSelect.prototype.removeFocus = function () {\n    if (this.list && this.mainList) {\n      var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n      var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, dropDownBaseClasses.focus);\n        removeClass(mainlist, dropDownBaseClasses.focus);\n      }\n    }\n  };\n  MultiSelect.prototype.addListHover = function (li) {\n    if (this.enabled && this.isValidLI(li)) {\n      this.removeHover();\n      addClass([li], dropDownBaseClasses.hover);\n    } else {\n      if (li !== null && li.classList.contains('e-list-group-item') && this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n        this.removeHover();\n        addClass([li], dropDownBaseClasses.hover);\n      }\n    }\n  };\n  MultiSelect.prototype.addListFocus = function (element) {\n    if (this.enabled && this.isValidLI(element)) {\n      this.removeFocus();\n      addClass([element], dropDownBaseClasses.focus);\n      this.updateAriaActiveDescendant();\n    } else {\n      if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n        addClass([element], dropDownBaseClasses.focus);\n        this.updateAriaActiveDescendant();\n      }\n    }\n  };\n  MultiSelect.prototype.addListSelection = function (element, mainElement) {\n    var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n    if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n      addClass([element], className);\n      this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n      element.setAttribute('aria-selected', 'true');\n      if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n        var ariaCheck = element.getElementsByClassName('e-check').length;\n        if (ariaCheck === 0) {\n          this.notify('updatelist', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox',\n            li: element,\n            e: this\n          });\n        }\n      }\n      this.notify('activeList', {\n        module: 'CheckBoxSelection',\n        enable: this.mode === 'CheckBox',\n        li: element,\n        e: this\n      });\n      if (this.chipCollectionWrapper) {\n        this.removeChipSelection();\n      }\n      this.selectedElementID = element.id;\n    }\n  };\n  MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n    this.updateData(delimChar, e);\n  };\n  MultiSelect.prototype.onMouseClick = function (e) {\n    var _this = this;\n    this.keyCode = null;\n    this.scrollFocusStatus = false;\n    var target = e.target;\n    var li = closest(target, '.' + dropDownBaseClasses.li);\n    var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n    if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n      target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild : e.target;\n      if (target.classList.contains('e-check')) {\n        this.selectAllItem(false, e);\n        target.classList.remove('e-check');\n        target.classList.remove('e-stop');\n        closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n        target.setAttribute('aria-selected', 'false');\n      } else {\n        this.selectAllItem(true, e);\n        target.classList.remove('e-stop');\n        target.classList.add('e-check');\n        closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n        target.setAttribute('aria-selected', 'true');\n      }\n      this.refreshSelection();\n      this.checkSelectAll();\n    } else {\n      if (this.isValidLI(li)) {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (li.classList.contains('e-active')) {\n          limit = limit - 1;\n        }\n        if (limit < this.maximumSelectionLength) {\n          this.updateListSelection(li, e);\n          this.checkPlaceholderSize();\n          this.addListFocus(li);\n          if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n            if (this.mode !== 'CheckBox') {\n              this.focusAtLastListItem(li.getAttribute('data-value'));\n              this.refreshSelection();\n            }\n          } else {\n            this.makeTextBoxEmpty();\n          }\n        }\n        if (this.mode === 'CheckBox') {\n          this.updateDelimView();\n          if (this.value && this.value.length > 50) {\n            setTimeout(function () {\n              _this.updateDelimeter(_this.delimiterChar, e);\n            }, 0);\n          } else {\n            this.updateDelimeter(this.delimiterChar, e);\n          }\n          this.refreshInputHight();\n        } else {\n          this.updateDelimeter(this.delimiterChar, e);\n        }\n        this.checkSelectAll();\n        this.refreshPopup();\n        if (this.hideSelectedItem) {\n          this.focusAtFirstListItem();\n        }\n        if (this.closePopupOnSelect) {\n          this.hidePopup(e);\n        } else {\n          e.preventDefault();\n        }\n        this.makeTextBoxEmpty();\n        this.findGroupStart(target);\n        if (this.mode !== 'CheckBox') {\n          this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n        }\n      } else {\n        e.preventDefault();\n      }\n      this.refreshPlaceHolder();\n      this.deselectHeader();\n    }\n  };\n  MultiSelect.prototype.findGroupStart = function (target) {\n    if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n      var count = 0;\n      var liChecked = 0;\n      var liUnchecked = 0;\n      var groupValues = void 0;\n      if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n        while (!target.getElementsByClassName('e-frame').length) {\n          target = target.parentElement;\n        }\n      }\n      if (target.classList.contains('e-frame')) {\n        target = target.parentElement.parentElement;\n      }\n      groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n      groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n      while (!target.classList.contains('e-list-group-item')) {\n        if (target.classList.contains('e-list-icon')) {\n          target = target.parentElement;\n        }\n        target = target.previousElementSibling;\n        if (target == null) {\n          break;\n        }\n      }\n      this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n    }\n  };\n  MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n    while (!listElement.classList.contains('e-list-group-item')) {\n      if (listElement.classList.contains('e-list-icon')) {\n        listElement = listElement.parentElement;\n      }\n      if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') && listElement.classList.contains('e-list-item')) {\n        checked++;\n      } else if (listElement.classList.contains('e-list-item')) {\n        unChecked++;\n      }\n      count++;\n      listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n      if (listElement == null) {\n        break;\n      }\n    }\n    return [checked, unChecked, count];\n  };\n  MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n    if (groupHeader === null) {\n      return;\n    }\n    var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n    if (count === checked) {\n      checkBoxElement.classList.remove('e-stop');\n      checkBoxElement.classList.add('e-check');\n      closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n      groupHeader.setAttribute('aria-selected', 'true');\n    } else if (count === unChecked) {\n      checkBoxElement.classList.remove('e-check');\n      checkBoxElement.classList.remove('e-stop');\n      closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n      groupHeader.setAttribute('aria-selected', 'false');\n    } else if (this.maximumSelectionLength === checked - 1) {\n      checkBoxElement.classList.remove('e-stop');\n      groupHeader.setAttribute('aria-selected', 'true');\n      closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n      checkBoxElement.classList.add('e-check');\n    } else {\n      checkBoxElement.classList.remove('e-check');\n      checkBoxElement.classList.add('e-stop');\n      closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n      groupHeader.setAttribute('aria-selected', 'false');\n    }\n  };\n  MultiSelect.prototype.deselectHeader = function () {\n    var limit = this.value && this.value.length ? this.value.length : 0;\n    var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n    if (limit < this.maximumSelectionLength) {\n      removeClass(collection, 'e-disable');\n    }\n    if (limit === this.maximumSelectionLength) {\n      addClass(collection, 'e-disable');\n    }\n  };\n  MultiSelect.prototype.onMouseOver = function (e) {\n    var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n    if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy) && this.enableGroupCheckBox) {\n      currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n    }\n    this.addListHover(currentLi);\n  };\n  MultiSelect.prototype.onMouseLeave = function () {\n    this.removeHover();\n  };\n  MultiSelect.prototype.onListMouseDown = function (e) {\n    e.preventDefault();\n    this.scrollFocusStatus = true;\n  };\n  MultiSelect.prototype.onDocumentClick = function (e) {\n    if (this.mode !== 'CheckBox') {\n      var target = e.target;\n      if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && !this.overAllWrapper.contains(e.target)) {\n        this.scrollFocusStatus = false;\n      } else {\n        this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement;\n      }\n    }\n  };\n  MultiSelect.prototype.wireListEvents = function () {\n    if (!isNullOrUndefined(this.list)) {\n      EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n      EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n      EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n      EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n  MultiSelect.prototype.unwireListEvents = function () {\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    if (this.list) {\n      EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n      EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n      EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n      EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    }\n  };\n  MultiSelect.prototype.hideOverAllClear = function () {\n    if (!this.value || !this.value.length || this.inputElement.value === '') {\n      this.overAllClear.style.display = 'none';\n    }\n  };\n  MultiSelect.prototype.showOverAllClear = function () {\n    if ((this.value && this.value.length || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n      this.overAllClear.style.display = '';\n    } else {\n      this.overAllClear.style.display = 'none';\n    }\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n    }\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement && this.enabled) {\n      this.inputElement.blur();\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n      if (this.overAllClear.style.display !== 'none' || filterClear) {\n        this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n      } else {\n        this.spinnerElement = this.createElement('span', {\n          className: CLOSEICON_CLASS$1 + ' ' + SPINNER_CLASS$1\n        });\n        this.componentWrapper.appendChild(this.spinnerElement);\n      }\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      addClass([this.spinnerElement], DISABLE_ICON);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], DISABLE_ICON);\n      if (this.spinnerElement.classList.contains(SPINNER_CLASS$1)) {\n        detach(this.spinnerElement);\n      } else {\n        this.spinnerElement.innerHTML = '';\n      }\n      this.spinnerElement = null;\n    }\n  };\n  MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n    if (this.valueTemplate || !this.enableHtmlSanitizer) {\n      wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n    } else {\n      wrapperType.innerText = wrapperData;\n    }\n  };\n  MultiSelect.prototype.updateDelimView = function () {\n    if (this.delimiterWrapper) {\n      this.hideDelimWrapper();\n    }\n    if (this.chipCollectionWrapper) {\n      this.chipCollectionWrapper.style.display = 'none';\n    }\n    if (!isNullOrUndefined(this.viewWrapper)) {\n      this.viewWrapper.style.display = '';\n      this.viewWrapper.style.width = '';\n      this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER$1);\n    }\n    if (this.value && this.value.length) {\n      var data = '';\n      var temp = void 0;\n      var tempData = void 0;\n      var tempIndex = 1;\n      var wrapperleng = void 0;\n      var remaining = void 0;\n      var downIconWidth = 0;\n      var overAllContainer = void 0;\n      this.updateWrapperText(this.viewWrapper, data);\n      var l10nLocale = {\n        noRecordsTemplate: 'No records found',\n        actionFailureTemplate: 'Request failed',\n        overflowCountTemplate: '+${count} more..',\n        totalCountTemplate: '${count} selected'\n      };\n      var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      if (l10n.getConstant('actionFailureTemplate') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.locale);\n      }\n      if (l10n.getConstant('noRecordsTemplate') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.locale);\n      }\n      var remainContent = l10n.getConstant('overflowCountTemplate');\n      var totalContent = l10n.getConstant('totalCountTemplate');\n      var raminElement = this.createElement('span', {\n        className: REMAIN_WRAPPER$1\n      });\n      var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n      raminElement.innerText = remainCompildTemp;\n      this.viewWrapper.appendChild(raminElement);\n      this.renderReactTemplates();\n      var remainSize = raminElement.offsetWidth;\n      remove(raminElement);\n      if (this.showDropDownIcon) {\n        downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n      }\n      this.checkClearIconWidth();\n      if (!isNullOrUndefined(this.value)) {\n        for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n          data += index === 0 ? '' : this.delimiterChar + ' ';\n          temp = this.getOverflowVal(index);\n          data += temp;\n          temp = this.viewWrapper.innerHTML;\n          this.updateWrapperText(this.viewWrapper, data);\n          wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n          overAllContainer = this.componentWrapper.offsetWidth - parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) - parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n          if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n            if (tempData !== undefined && tempData !== '') {\n              temp = tempData;\n              index = tempIndex + 1;\n            }\n            this.updateWrapperText(this.viewWrapper, temp);\n            remaining = this.value.length - index;\n            wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n            while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth > overAllContainer && wrapperleng !== 0 && this.viewWrapper.innerHTML !== '') {\n              var textArr = [];\n              this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n              remaining = this.value.length;\n              wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n            }\n            break;\n          } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n            tempData = data;\n            tempIndex = index;\n          } else if (index === 0) {\n            tempData = '';\n            tempIndex = -1;\n          }\n        }\n      }\n      if (remaining > 0) {\n        var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n        this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n        this.updateRemainWidth(this.viewWrapper, totalWidth);\n        this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n      }\n    } else {\n      if (!isNullOrUndefined(this.viewWrapper)) {\n        this.viewWrapper.innerHTML = '';\n        this.viewWrapper.style.display = 'none';\n      }\n    }\n  };\n  MultiSelect.prototype.checkClearIconWidth = function () {\n    if (this.showClearButton) {\n      this.clearIconWidth = this.overAllClear.offsetWidth;\n    }\n  };\n  MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n    if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER$1) && totalWidth < viewWrapper.offsetWidth + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10) + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)) {\n      viewWrapper.style.width = totalWidth + 'px';\n    }\n  };\n  MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n    if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n      viewWrapper.removeChild(viewWrapper.firstChild);\n    }\n    raminElement.innerHTML = '';\n    var remainTemp = remainContent.replace('${count}', remaining.toString());\n    var totalTemp = totalContent.replace('${count}', remaining.toString());\n    raminElement.innerText = viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 ? remainTemp : totalTemp;\n    if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n      viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER$1);\n    } else {\n      viewWrapper.classList.add(TOTAL_COUNT_WRAPPER$1);\n      this.updateRemainWidth(viewWrapper, totalWidth);\n    }\n    return raminElement;\n  };\n  MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n    var overAllContainer = this.componentWrapper.offsetWidth - parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) - parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n    var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n    if (wrapperleng + downIconWidth >= overAllContainer && wrapperleng !== 0 && this.viewWrapper.firstChild && this.viewWrapper.firstChild.nodeType === 3) {\n      while (wrapperleng + downIconWidth > overAllContainer && wrapperleng !== 0 && this.viewWrapper.firstChild && this.viewWrapper.firstChild.nodeType === 3) {\n        var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n        textArr.pop();\n        this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n        if (this.viewWrapper.firstChild.nodeValue === '') {\n          this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n        }\n        remaining++;\n        wrapperleng = this.viewWrapper.offsetWidth;\n      }\n      var totalWidth = overAllContainer - downIconWidth;\n      this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n    }\n  };\n  MultiSelect.prototype.getOverflowVal = function (index) {\n    var temp;\n    if (this.mainData && this.mainData.length) {\n      if (this.mode === 'CheckBox') {\n        var newTemp = this.listData;\n        this.listData = this.mainData;\n        temp = this.getTextByValue(this.value[index]);\n        this.listData = newTemp;\n      } else {\n        temp = this.getTextByValue(this.value[index]);\n      }\n    } else {\n      temp = this.value[index];\n    }\n    return temp;\n  };\n  MultiSelect.prototype.unWireEvent = function () {\n    if (!isNullOrUndefined(this.componentWrapper)) {\n      EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n    }\n    EventHandler.remove(window, 'resize', this.windowResize);\n    if (!isNullOrUndefined(this.inputElement)) {\n      EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n      EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n      if (this.mode !== 'CheckBox') {\n        EventHandler.remove(this.inputElement, 'input', this.onInput);\n      }\n      EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n      var formElement = closest(this.inputElement, 'form');\n      if (formElement) {\n        EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n      }\n      EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n    }\n    if (!isNullOrUndefined(this.componentWrapper)) {\n      EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n      EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n    }\n    if (!isNullOrUndefined(this.overAllClear)) {\n      EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n    }\n    if (!isNullOrUndefined(this.inputElement)) {\n      EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n    }\n  };\n  MultiSelect.prototype.selectAllItem = function (state, event, list) {\n    var li;\n    if (!isNullOrUndefined(this.list)) {\n      li = this.list.querySelectorAll(state ? 'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' : 'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n    }\n    if (this.value && this.value.length && event && event.target && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n      li = this.mainList.querySelectorAll(state ? 'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' : 'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n    }\n    if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n      var target = event ? this.groupTemplate ? closest(event.target, '.e-list-group-item') : event.target : null;\n      target = event && event.keyCode === 32 ? list : target;\n      target = target && target.classList.contains('e-frame') ? target.parentElement.parentElement : target;\n      if (target && target.classList.contains('e-list-group-item')) {\n        var listElement = target.nextElementSibling;\n        if (isNullOrUndefined(listElement)) {\n          return;\n        }\n        while (listElement.classList.contains('e-list-item')) {\n          if (state) {\n            if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n              var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n              if (listElement.classList.contains('e-active')) {\n                selectionLimit -= 1;\n              }\n              if (selectionLimit < this.maximumSelectionLength) {\n                this.updateListSelection(listElement, event);\n              }\n            }\n          } else {\n            if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n              this.updateListSelection(listElement, event);\n            }\n          }\n          listElement = listElement.nextElementSibling;\n          if (listElement == null) {\n            break;\n          }\n        }\n        if (target.classList.contains('e-list-group-item')) {\n          var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n          if (focusedElement) {\n            focusedElement.classList.remove('e-item-focus');\n          }\n          if (state) {\n            target.classList.add('e-active');\n          } else {\n            target.classList.remove('e-active');\n          }\n          target.classList.add('e-item-focus');\n          this.updateAriaActiveDescendant();\n        }\n        this.textboxValueUpdate();\n        this.checkPlaceholderSize();\n        if (!this.changeOnBlur && event) {\n          this.updateValueState(event, this.value, this.tempValues);\n        }\n      } else {\n        this.updateValue(event, li, state);\n      }\n    } else {\n      this.updateValue(event, li, state);\n    }\n    this.addValidInputClass();\n  };\n  MultiSelect.prototype.updateValue = function (event, li, state) {\n    var _this = this;\n    var length = li.length;\n    var beforeSelectArgs = {\n      event: event,\n      items: state ? li : [],\n      itemData: state ? this.listData : [],\n      isInteracted: event ? true : false,\n      isChecked: state,\n      preventSelectEvent: false\n    };\n    this.trigger('beforeSelectAll', beforeSelectArgs);\n    if (li && li.length) {\n      var index_1 = 0;\n      var count_1 = 0;\n      if (this.enableGroupCheckBox) {\n        count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n      } else {\n        count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n      }\n      if (!beforeSelectArgs.preventSelectEvent) {\n        while (index_1 < length && index_1 <= 50 && index_1 < count_1) {\n          this.updateListSelection(li[index_1], event, length - index_1);\n          if (this.enableGroupCheckBox) {\n            this.findGroupStart(li[index_1]);\n          }\n          index_1++;\n        }\n        if (length > 50) {\n          setTimeout(function () {\n            while (index_1 < length && index_1 < count_1) {\n              _this.updateListSelection(li[index_1], event, length - index_1);\n              if (_this.enableGroupCheckBox) {\n                _this.findGroupStart(li[index_1]);\n              }\n              index_1++;\n            }\n            _this.updatedataValueItems(event);\n            if (!_this.changeOnBlur) {\n              _this.updateValueState(event, _this.value, _this.tempValues);\n              _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n            }\n            _this.updateHiddenElement();\n          }, 0);\n        }\n      } else {\n        for (var i = 0; i < li.length && i < count_1; i++) {\n          this.removeHover();\n          var customVal = li[i].getAttribute('data-value');\n          var value = this.getFormattedValue(customVal);\n          var mainElement = this.mainList ? this.mainList.querySelectorAll(state ? 'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' : 'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i] : null;\n          if (state) {\n            this.value = !this.value ? [] : this.value;\n            if (this.value.indexOf(value) < 0) {\n              this.setProperties({\n                value: [].concat([], this.value, [value])\n              }, true);\n            }\n            this.removeFocus();\n            this.addListSelection(li[i], mainElement);\n            this.updateChipStatus();\n            this.checkMaxSelection();\n          } else {\n            this.removeAllItems(value, event, false, li[i], mainElement);\n          }\n          if (this.enableGroupCheckBox) {\n            this.findGroupStart(li[i]);\n          }\n        }\n        if (!state) {\n          var limit = this.value && this.value.length ? this.value.length : 0;\n          if (limit < this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-active)');\n            removeClass(collection, 'e-disable');\n          }\n        }\n        var args = {\n          event: event,\n          items: state ? li : [],\n          itemData: state ? this.listData : [],\n          isInteracted: event ? true : false,\n          isChecked: state\n        };\n        this.trigger('selectedAll', args);\n      }\n    }\n    this.updatedataValueItems(event);\n    this.checkPlaceholderSize();\n    if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n      if (!this.changeOnBlur) {\n        this.updateValueState(event, this.value, this.tempValues);\n        this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n      }\n      this.updateHiddenElement();\n    }\n  };\n  MultiSelect.prototype.updateHiddenElement = function () {\n    var _this = this;\n    var hiddenValue = '';\n    var wrapperText = '';\n    var data = '';\n    var text = [];\n    if (this.mode === 'CheckBox') {\n      this.value.map(function (value, index) {\n        hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n        if (_this.listData) {\n          data = _this.getTextByValue(value);\n        } else {\n          data = value;\n        }\n        wrapperText += data + _this.delimiterChar + ' ';\n        text.push(data);\n      });\n      this.hiddenElement.innerHTML = hiddenValue;\n      this.updateWrapperText(this.delimiterWrapper, wrapperText);\n      this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n      this.inputElement.setAttribute('aria-labelledby', this.delimiterWrapper.id);\n      this.setProperties({\n        text: text.toString()\n      }, true);\n      this.refreshInputHight();\n      this.refreshPlaceHolder();\n    }\n  };\n  MultiSelect.prototype.updatedataValueItems = function (event) {\n    this.deselectHeader();\n    this.textboxValueUpdate(event);\n  };\n  MultiSelect.prototype.textboxValueUpdate = function (event) {\n    var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent') || closest(event.target, '.e-close-hooker'));\n    if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n      this.updateDelimView();\n    } else {\n      this.searchWrapper.classList.remove(ZERO_SIZE);\n    }\n    if (this.mode === 'CheckBox') {\n      this.updateDelimView();\n      if (!(isRemoveAll || this.isSelectAll)) {\n        this.updateDelimeter(this.delimiterChar, event);\n      }\n      this.refreshInputHight();\n    } else {\n      this.updateDelimeter(this.delimiterChar, event);\n    }\n    this.refreshPlaceHolder();\n  };\n  MultiSelect.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        'zIndex': this.zIndex\n      });\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MultiSelect.prototype.updateDataSource = function (prop) {\n    if (isNullOrUndefined(this.list)) {\n      this.renderPopup();\n    } else {\n      this.resetList(this.dataSource);\n    }\n    if (this.value && this.value.length) {\n      this.setProperties({\n        'value': this.value\n      });\n      this.refreshSelection();\n    }\n  };\n  MultiSelect.prototype.onLoadSelect = function () {\n    this.setDynValue = true;\n    this.renderPopup();\n  };\n  MultiSelect.prototype.selectAllItems = function (state, event) {\n    var _this = this;\n    if (isNullOrUndefined(this.list)) {\n      this.selectAllAction = function () {\n        if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n          var args = {\n            module: 'CheckBoxSelection',\n            enable: _this.mode === 'CheckBox',\n            value: state ? 'check' : 'uncheck'\n          };\n          _this.notify('checkSelectAll', args);\n        }\n        _this.selectAllItem(state, event);\n        _this.selectAllAction = null;\n      };\n      _super.prototype.render.call(this);\n    } else {\n      this.selectAllAction = null;\n      if (this.mode === 'CheckBox' && this.showSelectAll) {\n        var args = {\n          value: state ? 'check' : 'uncheck',\n          enable: this.mode === 'CheckBox',\n          module: 'CheckBoxSelection'\n        };\n        this.notify('checkSelectAll', args);\n      }\n      this.selectAllItem(state, event);\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  MultiSelect.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n   * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n      if (this.resetFilteredData) {\n        // The filtered data is not being reset in the component after the user focuses out.\n        this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n        this.resetFilteredData = false;\n      }\n      this.mainList = null;\n      this.mainData = null;\n      this.isFirstClick = false;\n      this.isDynamicDataChange = true;\n    }\n    if (this.getModuleName() === 'multiselect') {\n      this.filterAction = false;\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'query':\n        case 'dataSource':\n          if (this.mode === 'CheckBox' && this.showSelectAll) {\n            if (!isNullOrUndefined(this.popupObj)) {\n              this.popupObj.destroy();\n              this.popupObj = null;\n            }\n            this.renderPopup();\n          }\n          break;\n        case 'htmlAttributes':\n          this.updateHTMLAttribute();\n          break;\n        case 'showClearButton':\n          this.updateClearButton(newProp.showClearButton);\n          break;\n        case 'text':\n          this.updateVal(this.value, this.value, 'text');\n          break;\n        case 'value':\n          this.updateVal(this.value, oldProp.value, 'value');\n          this.addValidInputClass();\n          if (!this.closePopupOnSelect && this.isPopupOpen()) {\n            this.refreshPopup();\n          }\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n          break;\n        case 'width':\n          this.setWidth(newProp.width);\n          this.popupObj.setProperties({\n            width: this.calcPopupWidth()\n          });\n          break;\n        case 'placeholder':\n          this.refreshPlaceHolder();\n          break;\n        case 'filterBarPlaceholder':\n          if (this.allowFiltering) {\n            this.notify('filterBarPlaceholder', {\n              filterBarPlaceholder: newProp.filterBarPlaceholder\n            });\n          }\n          break;\n        case 'delimiterChar':\n          if (this.mode !== 'Box') {\n            this.updateDelimView();\n          }\n          this.updateData(newProp.delimiterChar);\n          break;\n        case 'cssClass':\n          this.updateOldPropCssClass(oldProp.cssClass);\n          this.updateCssClass();\n          this.calculateWidth();\n          break;\n        case 'enableRtl':\n          this.enableRTL(newProp.enableRtl);\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n          break;\n        case 'readonly':\n          this.updateReadonly(newProp.readonly);\n          this.hidePopup();\n          break;\n        case 'enabled':\n          this.hidePopup();\n          this.enable(newProp.enabled);\n          break;\n        case 'showSelectAll':\n          if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n          }\n          this.renderPopup();\n          break;\n        case 'showDropDownIcon':\n          this.dropDownIcon();\n          break;\n        case 'floatLabelType':\n          this.setFloatLabelType();\n          this.addValidInputClass();\n          Input.createSpanElement(this.overAllWrapper, this.createElement);\n          this.calculateWidth();\n          if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n          }\n          break;\n        case 'enableSelectionOrder':\n          break;\n        case 'selectAllText':\n          this.notify('selectAllText', false);\n          break;\n        case 'popupHeight':\n          if (this.popupObj) {\n            var overAllHeight = parseInt(this.popupHeight, 10);\n            if (this.popupHeight !== 'auto') {\n              this.list.style.maxHeight = formatUnit(overAllHeight);\n              this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n            } else {\n              this.list.style.maxHeight = formatUnit(this.popupHeight);\n            }\n          }\n          break;\n        case 'headerTemplate':\n        case 'footerTemplate':\n          this.reInitializePoup();\n          break;\n        case 'allowFiltering':\n          if (this.mode === 'CheckBox' && this.popupObj) {\n            this.reInitializePoup();\n          }\n          this.updateSelectElementData(this.allowFiltering);\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var msProps = this.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n          }\n          break;\n      }\n    }\n  };\n  MultiSelect.prototype.reInitializePoup = function () {\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      this.popupObj = null;\n    }\n    this.renderPopup();\n  };\n  MultiSelect.prototype.presentItemValue = function (ulElement) {\n    var valuecheck = [];\n    for (var i = 0; i < this.value.length; i++) {\n      var checkEle = this.findListElement(this.allowFiltering && !isNullOrUndefined(this.mainList) ? this.mainList : ulElement, 'li', 'data-value', this.value[i]);\n      if (!checkEle) {\n        valuecheck.push(this.value[i]);\n      }\n    }\n    return valuecheck;\n  };\n  MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n    var _this = this;\n    this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n      if (e.result.length > 0) {\n        _this.addItem(e.result, list.length);\n      }\n      _this.updateActionList(ulElement, list, event);\n    });\n  };\n  MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n    if (!this.list) {\n      this.onLoadSelect();\n    } else if (this.dataSource instanceof DataManager && (!this.listData || !(this.mainList && this.mainData))) {\n      this.onLoadSelect();\n    } else {\n      var valuecheck = [];\n      if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n        valuecheck = this.presentItemValue(this.ulElement);\n      }\n      if (prop == 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value) && this.listData != null) {\n        this.mainData = null;\n        this.setDynValue = true;\n        this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n      } else {\n        if (prop === 'text') {\n          this.initialTextUpdate();\n          newProp = this.value;\n        }\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n          this.tempValues = oldProp;\n        }\n        // eslint-disable-next-line\n        if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus && this.isPopupOpen() && this.mainData !== this.listData) {\n          var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n          this.onActionComplete(list, this.mainData);\n        }\n        this.initialValueUpdate();\n        if (this.mode !== 'Box' && !this.inputFocus) {\n          this.updateDelimView();\n        }\n        if (!this.inputFocus) {\n          this.refreshInputHight();\n        }\n        this.refreshPlaceHolder();\n        if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n          this.updateValueState(null, newProp, oldProp);\n        }\n        this.checkPlaceholderSize();\n      }\n    }\n    if (!this.changeOnBlur) {\n      this.updateValueState(null, newProp, oldProp);\n    }\n  };\n  /**\n   * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n   */\n  MultiSelect.prototype.addItem = function (items, itemIndex) {\n    _super.prototype.addItem.call(this, items, itemIndex);\n  };\n  /**\n   * Hides the popup, if the popup in a open state.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.hidePopup = function (e) {\n    var _this = this;\n    var delay = 100;\n    if (this.isPopupOpen()) {\n      var animModel = {\n        name: 'FadeOut',\n        duration: 100,\n        delay: delay ? delay : 0\n      };\n      var eventArgs = {\n        popup: this.popupObj,\n        cancel: false,\n        animation: animModel,\n        event: e || null\n      };\n      this.trigger('close', eventArgs, function (eventArgs) {\n        if (!eventArgs.cancel) {\n          if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n            remove(_this.fixedHeaderElement);\n            _this.fixedHeaderElement = null;\n          }\n          _this.beforePopupOpen = false;\n          _this.overAllWrapper.classList.remove(iconAnimation);\n          _this.popupObj.hide(new Animation(eventArgs.animation));\n          attributes(_this.inputElement, {\n            'aria-expanded': 'false'\n          });\n          _this.inputElement.removeAttribute('aria-owns');\n          _this.inputElement.removeAttribute('aria-activedescendant');\n          if (_this.allowFiltering) {\n            _this.notify('inputFocus', {\n              module: 'CheckBoxSelection',\n              enable: _this.mode === 'CheckBox',\n              value: 'clear'\n            });\n          }\n          _this.popupObj.hide();\n          removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n          EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n          if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n            EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n          }\n        }\n      });\n    }\n  };\n  /**\n   * Shows the popup, if the popup in a closed state.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.showPopup = function (e) {\n    var _this = this;\n    if (!this.enabled) {\n      return;\n    }\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        if (!_this.ulElement) {\n          _this.beforePopupOpen = true;\n          _super.prototype.render.call(_this, e);\n          if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n            _this.notify('popupFullScreen', {\n              module: 'CheckBoxSelection',\n              enable: _this.mode === 'CheckBox'\n            });\n          }\n          return;\n        }\n        if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n          _this.notify('popupFullScreen', {\n            module: 'CheckBoxSelection',\n            enable: _this.mode === 'CheckBox'\n          });\n        }\n        var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n        var liLength = _this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n        if (mainLiLength > 0 && mainLiLength === liLength && liLength === _this.mainData.length && !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n          _this.beforePopupOpen = false;\n          return;\n        }\n        _this.onPopupShown(e);\n      }\n    });\n  };\n  /**\n   * Based on the state parameter, entire list item will be selected/deselected.\n   * parameter\n   * `true`   - Selects entire list items.\n   * `false`  - Un Selects entire list items.\n   *\n   * @param {boolean} state - if it’s true then Selects the entire list items. If it’s false the Unselects entire list items.\n   * @returns {void}\n   */\n  MultiSelect.prototype.selectAll = function (state) {\n    this.isSelectAll = true;\n    this.selectAllItems(state);\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  MultiSelect.prototype.getModuleName = function () {\n    return 'multiselect';\n  };\n  /**\n   * Allows you to clear the selected values from the Multiselect component.\n   *\n   * @returns {void}\n   */\n  MultiSelect.prototype.clear = function () {\n    var _this = this;\n    this.selectAll(false);\n    if (this.value && this.value.length) {\n      setTimeout(function () {\n        _this.setProperties({\n          value: null\n        }, true);\n      }, 0);\n    } else {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiSelect.prototype.render = function () {\n    if (!isNullOrUndefined(this.value)) {\n      // eslint-disable-next-line\n      this.value = this.value.slice();\n    }\n    this.setDynValue = this.initStatus = false;\n    this.isSelectAll = false;\n    this.selectAllEventEle = [];\n    this.searchWrapper = this.createElement('span', {\n      className: SEARCHBOX_WRAPPER + ' ' + (this.mode === 'Box' ? BOX_ELEMENT : '')\n    });\n    this.viewWrapper = this.createElement('span', {\n      className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER,\n      styles: 'display:none;'\n    });\n    this.overAllClear = this.createElement('span', {\n      className: CLOSEICON_CLASS$1,\n      styles: 'display:none;'\n    });\n    this.componentWrapper = this.createElement('div', {\n      className: ELEMENT_WRAPPER\n    });\n    this.overAllWrapper = this.createElement('div', {\n      className: OVER_ALL_WRAPPER\n    });\n    if (this.mode === 'CheckBox') {\n      addClass([this.overAllWrapper], 'e-checkbox');\n    }\n    if (Browser.isDevice) {\n      this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n    }\n    this.setWidth(this.width);\n    this.overAllWrapper.appendChild(this.componentWrapper);\n    this.popupWrapper = this.createElement('div', {\n      id: this.element.id + '_popup',\n      className: POPUP_WRAPPER\n    });\n    if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n      this.delimiterWrapper = this.createElement('span', {\n        className: DELIMITER_WRAPPER,\n        styles: 'display:none'\n      });\n      this.componentWrapper.appendChild(this.delimiterWrapper);\n    } else {\n      this.chipCollectionWrapper = this.createElement('span', {\n        className: CHIP_WRAPPER$1,\n        styles: 'display:none'\n      });\n      if (this.mode === 'Default') {\n        this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n      } else if (this.mode === 'Box') {\n        this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n      }\n      this.componentWrapper.appendChild(this.chipCollectionWrapper);\n    }\n    if (this.mode !== 'Box') {\n      this.componentWrapper.appendChild(this.viewWrapper);\n    }\n    this.componentWrapper.appendChild(this.searchWrapper);\n    if (this.showClearButton && !Browser.isDevice) {\n      this.componentWrapper.appendChild(this.overAllClear);\n    } else {\n      this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n    }\n    this.dropDownIcon();\n    this.inputElement = this.createElement('input', {\n      className: INPUT_ELEMENT,\n      attrs: {\n        spellcheck: 'false',\n        type: 'text',\n        autocomplete: 'off',\n        tabindex: '0',\n        role: 'combobox'\n      }\n    });\n    if (this.mode === 'Default' || this.mode === 'Box') {\n      this.inputElement.setAttribute('aria-labelledby', this.chipCollectionWrapper.id);\n    }\n    if (this.element.tagName !== this.getNgDirective()) {\n      this.element.style.display = 'none';\n    }\n    if (this.element.tagName === this.getNgDirective()) {\n      this.element.appendChild(this.overAllWrapper);\n      this.searchWrapper.appendChild(this.inputElement);\n    } else {\n      this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n      this.searchWrapper.appendChild(this.inputElement);\n      this.searchWrapper.appendChild(this.element);\n      this.element.removeAttribute('tabindex');\n    }\n    if (this.floatLabelType !== 'Never') {\n      createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n    } else if (this.floatLabelType === 'Never') {\n      this.refreshPlaceHolder();\n    }\n    this.addValidInputClass();\n    this.element.style.opacity = '';\n    var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n    this.element.id = id;\n    this.hiddenElement = this.createElement('select', {\n      attrs: {\n        'aria-hidden': 'true',\n        'class': HIDDEN_ELEMENT,\n        'tabindex': '-1',\n        'multiple': ''\n      }\n    });\n    this.componentWrapper.appendChild(this.hiddenElement);\n    this.validationAttribute(this.element, this.hiddenElement);\n    if (this.mode !== 'CheckBox') {\n      this.hideOverAllClear();\n    }\n    if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n      this.enabled = false;\n    }\n    this.wireEvent();\n    this.enable(this.enabled);\n    this.enableRTL(this.enableRtl);\n    this.checkInitialValue();\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n    Input.createSpanElement(this.overAllWrapper, this.createElement);\n    this.calculateWidth();\n    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n      this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n    }\n    this.renderComplete();\n  };\n  MultiSelect.prototype.checkInitialValue = function () {\n    var _this = this;\n    var isData = this.dataSource instanceof Array ? this.dataSource.length > 0 : !isNullOrUndefined(this.dataSource);\n    if (!(this.value && this.value.length) && isNullOrUndefined(this.text) && !isData && this.element.tagName === 'SELECT' && this.element.options.length > 0) {\n      var optionsElement = this.element.options;\n      var valueCol = [];\n      var textCol = '';\n      for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n        var opt = optionsElement[index];\n        if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n          if (opt.getAttribute('value')) {\n            valueCol.push(opt.getAttribute('value'));\n          } else {\n            textCol += opt.text + this.delimiterChar;\n          }\n        }\n      }\n      if (valueCol.length > 0) {\n        this.setProperties({\n          value: valueCol\n        }, true);\n      } else if (textCol !== '') {\n        this.setProperties({\n          text: textCol\n        }, true);\n      }\n      if (valueCol.length > 0 || textCol !== '') {\n        this.refreshInputHight();\n        this.refreshPlaceHolder();\n      }\n    }\n    if (this.value && this.value.length || !isNullOrUndefined(this.text)) {\n      if (!this.list) {\n        _super.prototype.render.call(this);\n      }\n    }\n    if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n      this.initialTextUpdate();\n    }\n    if (this.value && this.value.length) {\n      if (!(this.dataSource instanceof DataManager)) {\n        this.initialValueUpdate();\n        this.initialUpdate();\n      } else {\n        this.setInitialValue = function () {\n          _this.initStatus = false;\n          _this.initialValueUpdate();\n          _this.initialUpdate();\n          _this.setInitialValue = null;\n          _this.initStatus = true;\n        };\n      }\n      this.updateTempValue();\n    } else {\n      this.initialUpdate();\n    }\n    this.initStatus = true;\n    this.checkAutoFocus();\n    if (!isNullOrUndefined(this.text)) {\n      this.element.setAttribute('data-initial-value', this.text);\n    }\n  };\n  MultiSelect.prototype.checkAutoFocus = function () {\n    if (this.element.hasAttribute('autofocus')) {\n      this.inputElement.focus();\n    }\n  };\n  MultiSelect.prototype.setFloatLabelType = function () {\n    removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n    if (this.floatLabelType !== 'Never') {\n      createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n    }\n  };\n  MultiSelect.prototype.addValidInputClass = function () {\n    if (!isNullOrUndefined(this.overAllWrapper)) {\n      if (!isNullOrUndefined(this.value) && this.value.length || this.floatLabelType === 'Always') {\n        addClass([this.overAllWrapper], 'e-valid-input');\n      } else {\n        removeClass([this.overAllWrapper], 'e-valid-input');\n      }\n    }\n  };\n  MultiSelect.prototype.dropDownIcon = function () {\n    if (this.showDropDownIcon) {\n      this.dropIcon = this.createElement('span', {\n        className: dropdownIcon\n      });\n      this.componentWrapper.appendChild(this.dropIcon);\n      addClass([this.componentWrapper], ['e-down-icon']);\n    } else {\n      if (!isNullOrUndefined(this.dropIcon)) {\n        this.dropIcon.parentElement.removeChild(this.dropIcon);\n        removeClass([this.componentWrapper], ['e-down-icon']);\n      }\n    }\n  };\n  MultiSelect.prototype.initialUpdate = function () {\n    if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n      this.updateDelimView();\n    }\n    this.updateCssClass();\n    this.updateHTMLAttribute();\n    this.updateReadonly(this.readonly);\n    this.refreshInputHight();\n    this.checkPlaceholderSize();\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  MultiSelect.prototype.destroy = function () {\n    // eslint-disable-next-line\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n    if (this.popupObj) {\n      this.popupObj.hide();\n    }\n    this.notify(destroy, {});\n    this.unwireListEvents();\n    this.unWireEvent();\n    this.list = null;\n    this.popupObj = null;\n    this.mainList = null;\n    this.mainData = null;\n    this.filterParent = null;\n    this.ulElement = null;\n    this.mainListCollection = null;\n    _super.prototype.destroy.call(this);\n    var temp = ['readonly', 'aria-disabled', 'placeholder'];\n    var length = temp.length;\n    if (!isNullOrUndefined(this.inputElement)) {\n      while (length > 0) {\n        this.inputElement.removeAttribute(temp[length - 1]);\n        length--;\n      }\n    }\n    if (!isNullOrUndefined(this.element)) {\n      this.element.removeAttribute('data-initial-value');\n      this.element.style.display = 'block';\n    }\n    if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n      if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n        remove(this.overAllWrapper);\n      } else {\n        this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n        remove(this.overAllWrapper);\n      }\n    }\n    this.componentWrapper = null;\n    this.overAllClear = null;\n    this.overAllWrapper = null;\n    this.hiddenElement = null;\n    this.searchWrapper = null;\n    this.viewWrapper = null;\n    this.chipCollectionWrapper = null;\n    this.targetInputElement = null;\n    this.popupWrapper = null;\n    this.inputElement = null;\n    this.delimiterWrapper = null;\n    this.popupObj = null;\n    this.popupWrapper = null;\n    this.liCollections = null;\n    this.header = null;\n    this.mainList = null;\n    this.mainListCollection = null;\n    this.footer = null;\n    this.selectAllEventEle = null;\n  };\n  __decorate$5([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], MultiSelect.prototype, \"fields\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"enablePersistence\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"groupTemplate\", void 0);\n  __decorate$5([Property('No records found')], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n  __decorate$5([Property('Request failed')], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n  __decorate$5([Property('None')], MultiSelect.prototype, \"sortOrder\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"enabled\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n  __decorate$5([Property([])], MultiSelect.prototype, \"dataSource\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"query\", void 0);\n  __decorate$5([Property('StartsWith')], MultiSelect.prototype, \"filterType\", void 0);\n  __decorate$5([Property(1000)], MultiSelect.prototype, \"zIndex\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"ignoreAccent\", void 0);\n  __decorate$5([Property()], MultiSelect.prototype, \"locale\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"cssClass\", void 0);\n  __decorate$5([Property('100%')], MultiSelect.prototype, \"width\", void 0);\n  __decorate$5([Property('300px')], MultiSelect.prototype, \"popupHeight\", void 0);\n  __decorate$5([Property('100%')], MultiSelect.prototype, \"popupWidth\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"placeholder\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$5([Property({})], MultiSelect.prototype, \"htmlAttributes\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"valueTemplate\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"headerTemplate\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"footerTemplate\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"itemTemplate\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"allowFiltering\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"changeOnBlur\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"allowCustomValue\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"showClearButton\", void 0);\n  __decorate$5([Property(1000)], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"readonly\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"text\", void 0);\n  __decorate$5([Property(null)], MultiSelect.prototype, \"value\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n  __decorate$5([Property('Default')], MultiSelect.prototype, \"mode\", void 0);\n  __decorate$5([Property(',')], MultiSelect.prototype, \"delimiterChar\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"ignoreCase\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n  __decorate$5([Property('Never')], MultiSelect.prototype, \"floatLabelType\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"showSelectAll\", void 0);\n  __decorate$5([Property('Select All')], MultiSelect.prototype, \"selectAllText\", void 0);\n  __decorate$5([Property('Unselect All')], MultiSelect.prototype, \"unSelectAllText\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n  __decorate$5([Property(true)], MultiSelect.prototype, \"openOnClick\", void 0);\n  __decorate$5([Property(false)], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"change\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"removing\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"removed\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"selectedAll\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"beforeOpen\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"open\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"close\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"blur\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"focus\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"chipSelection\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"filtering\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"tagging\", void 0);\n  __decorate$5([Event()], MultiSelect.prototype, \"customValueSelection\", void 0);\n  MultiSelect = __decorate$5([NotifyPropertyChanges], MultiSelect);\n  return MultiSelect;\n}(DropDownBase);\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME$1 = 'e-frame';\nvar CHECK$1 = 'e-check';\nvar CHECKBOXWRAP$1 = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS$1 = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @__PURE__ @class */function () {\n  function CheckBoxSelection(parent) {\n    this.activeLi = [];\n    this.activeEle = [];\n    this.parent = parent;\n    this.removeEventListener();\n    this.addEventListener();\n  }\n  CheckBoxSelection.prototype.getModuleName = function () {\n    return 'CheckBoxSelection';\n  };\n  CheckBoxSelection.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on('updatelist', this.listSelection, this);\n    this.parent.on('listoption', this.listOption, this);\n    this.parent.on('selectAll', this.setSelectAll, this);\n    this.parent.on('checkSelectAll', this.checkSelectAll, this);\n    this.parent.on('searchBox', this.setSearchBox, this);\n    this.parent.on('blur', this.onBlurHandler, this);\n    this.parent.on('targetElement', this.targetElement, this);\n    this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n    this.parent.on('inputFocus', this.getFocus, this);\n    this.parent.on('reOrder', this.setReorder, this);\n    this.parent.on('activeList', this.getActiveList, this);\n    this.parent.on('selectAllText', this.setLocale, this);\n    this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n    EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n    this.parent.on('addItem', this.checboxCreate, this);\n    this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n  };\n  CheckBoxSelection.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off('updatelist', this.listSelection);\n    this.parent.off('listoption', this.listOption);\n    this.parent.off('selectAll', this.setSelectAll);\n    this.parent.off('checkSelectAll', this.checkSelectAll);\n    this.parent.off('searchBox', this.setSearchBox);\n    this.parent.off('blur', this.onBlurHandler);\n    this.parent.off('targetElement', this.targetElement);\n    this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n    this.parent.off('inputFocus', this.getFocus);\n    this.parent.off('reOrder', this.setReorder);\n    this.parent.off('activeList', this.getActiveList);\n    this.parent.off('selectAllText', this.setLocale);\n    this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n    this.parent.off('addItem', this.checboxCreate);\n    this.parent.off('popupFullScreen', this.setPopupFullScreen);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.listOption = function (args) {\n    var _this = this;\n    if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n      };\n    } else {\n      var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n        itemCreated_1.apply(_this, [e]);\n      };\n    }\n  };\n  CheckBoxSelection.prototype.setPlaceholder = function (props) {\n    Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n  };\n  CheckBoxSelection.prototype.checboxCreate = function (e) {\n    var item;\n    if (!isNullOrUndefined(e.item)) {\n      item = e.item;\n    } else {\n      item = e;\n    }\n    if (this.parent.enableGroupCheckBox || item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n      var checkboxEle = createCheckBox(this.parent.createElement, true);\n      var icon = select('div.' + ICON, item);\n      item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      select('.' + CHECKBOXFRAME$1, checkboxEle);\n      if (this.parent.enableGroupCheckBox) {\n        this.parent.popupWrapper.classList.add('e-multiselect-group');\n      }\n      return item;\n    } else {\n      return item;\n    }\n  };\n  CheckBoxSelection.prototype.setSelectAll = function () {\n    if (this.parent.showSelectAll) {\n      if (isNullOrUndefined(this.checkAllParent)) {\n        this.checkAllParent = this.parent.createElement('div', {\n          className: checkAllParent\n        });\n        this.selectAllSpan = this.parent.createElement('span', {\n          className: 'e-all-text'\n        });\n        this.selectAllSpan.textContent = '';\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        this.checboxCreate(this.checkAllParent);\n        if (this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            append([this.checkAllParent], this.parent.filterParent);\n          } else {\n            append([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        if (!this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n          } else {\n            prepend([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n      }\n      if (this.parent.list.classList.contains('e-nodata') || this.parent.listData && this.parent.listData.length <= 1 && !this.parent.isDynamicDataChange || this.parent.isDynamicDataChange && this.parent.listData && this.parent.listData.length <= 1) {\n        this.checkAllParent.style.display = 'none';\n      } else {\n        this.checkAllParent.style.display = 'block';\n      }\n      this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    } else if (!isNullOrUndefined(this.checkAllParent)) {\n      this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n  CheckBoxSelection.prototype.destroy = function () {\n    this.removeEventListener();\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.checkAllParent = null;\n    this.clearIconElement = null;\n    this.filterInput = null;\n    this.filterInputObj = null;\n    this.checkWrapper = null;\n    this.selectAllSpan = null;\n  };\n  CheckBoxSelection.prototype.listSelection = function (args) {\n    var target;\n    if (!isNullOrUndefined(args.e)) {\n      var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n      target = !isNullOrUndefined(args.e.target) ? args.e.target.classList.contains('e-frame') && (!this.parent.showSelectAll || this.checkAllParent && !this.checkAllParent.contains(args.e.target)) ? args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1] : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n    } else {\n      var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n      target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n    }\n    if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n      target = args.li.firstElementChild.childNodes[1];\n    }\n    if (!isNullOrUndefined(target)) {\n      this.checkWrapper = closest(target, '.' + CHECKBOXWRAP$1);\n    }\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME$1, this.checkWrapper);\n      var selectAll$$1 = false;\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK$1), args.li, args.e, selectAll$$1);\n    }\n  };\n  CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll$$1) {\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll$$1);\n  };\n  CheckBoxSelection.prototype.clickHandler = function (e) {\n    var target;\n    if (e.currentTarget.classList.contains(this.checkAllParent.className) || e.currentTarget.classList.value === this.checkAllParent.className) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.currentTarget;\n    }\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP$1);\n    var selectAll$$1 = true;\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME$1, this.checkWrapper);\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK$1), null, e, selectAll$$1);\n    }\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll$$1) {\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME$1)[0];\n    if (state === 'check' && !frameSpan.classList.contains(CHECK$1)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK$1);\n      if (selectAll$$1) {\n        this.parent.selectAllItems(true, e);\n        this.setLocale(true);\n      }\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK$1) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK$1, INDETERMINATE]);\n      if (selectAll$$1) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    } else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n      removeClass([frameSpan], [CHECK$1]);\n      frameSpan.classList.add(INDETERMINATE);\n      if (selectAll$$1) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.setSearchBox = function (args) {\n    if (isNullOrUndefined(this.parent.filterParent)) {\n      this.parent.filterParent = this.parent.createElement('span', {\n        className: filterParent\n      });\n      this.filterInput = this.parent.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: filterInput\n      });\n      this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n      var backIcon = false;\n      if (Browser.isDevice) {\n        backIcon = true;\n        this.parent.mobFilter = false;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n        properties: {\n          placeholder: this.parent.filterBarPlaceholder\n        }\n      }, this.parent.createElement);\n      if (!isNullOrUndefined(this.parent.cssClass)) {\n        if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], this.parent.filterParent);\n      prepend([this.parent.filterParent], args.popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n      EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n      EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n      this.parent.searchBoxHeight = this.filterInputObj.container.parentElement.getBoundingClientRect().height;\n      return this.filterInputObj;\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n    this.parent.hidePopup();\n    removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    this.parent.inputElement.focus();\n  };\n  CheckBoxSelection.prototype.clearText = function (e) {\n    this.parent.targetInputElement.value = '';\n    if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n      this.parent.search(null);\n    }\n    this.parent.refreshPopup();\n    this.parent.refreshListItems(null);\n    this.clearIconElement.style.visibility = 'hidden';\n    this.filterInput.focus();\n    this.setReorder(e);\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n    this.parent.popupObj.element.classList.add(device);\n    this.parent.popupObj.element.classList.add(mobileFilter);\n    this.parent.popupObj.position = {\n      X: 0,\n      Y: 0\n    };\n    this.parent.popupObj.dataBind();\n    this.setSearchBoxPosition();\n    this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n    this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n    this.clearIconElement.style.visibility = 'hidden';\n    EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n    EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n  };\n  CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    var selectAllHeight = 0;\n    if (this.checkAllParent) {\n      selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    }\n    this.parent.popupObj.element.style.maxHeight = '100%';\n    this.parent.popupObj.element.style.width = '100%';\n    this.parent.list.style.maxHeight = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    this.parent.list.style.height = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  CheckBoxSelection.prototype.setPopupFullScreen = function () {\n    if (this.parent && this.parent.popupObj) {\n      attributes(this.parent.popupObj.element, {\n        style: 'left:0px;right:0px;top:0px;bottom:0px;'\n      });\n      addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n      this.parent.popupObj.element.style.maxHeight = '100%';\n      this.parent.popupObj.element.style.width = '100%';\n    }\n  };\n  CheckBoxSelection.prototype.targetElement = function () {\n    if (!isNullOrUndefined(this.clearIconElement)) {\n      this.parent.targetInputElement = this.filterInput;\n      this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n    }\n    return this.parent.targetInputElement.value;\n  };\n  CheckBoxSelection.prototype.onBlurHandler = function (e) {\n    if (!this.parent.element.classList.contains('e-listbox')) {\n      var target = void 0;\n      if (this.parent.keyAction) {\n        return;\n      }\n      if (Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.target;\n      }\n      if (!Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.relatedTarget;\n      }\n      // eslint-disable-next-line max-len\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE && this.filterInput) {\n        this.filterInput.focus();\n        return;\n      }\n      if (this.parent.scrollFocusStatus && this.filterInput) {\n        e.preventDefault();\n        this.filterInput.focus();\n        this.parent.scrollFocusStatus = false;\n        return;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n        this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.overAllWrapper.classList.remove(FOCUS$1);\n        this.parent.trigger('blur');\n        this.parent.focused = true;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n        this.parent.hidePopup();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.onDocumentClick = function (e) {\n    if (this.parent.getLocaleName() !== 'listbox') {\n      var target = e.target;\n      if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n        if (!(this.filterInput && this.filterInput.value !== '')) {\n          e.preventDefault();\n        }\n      }\n      if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n        if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n          this.parent.inputFocus = false;\n          this.parent.scrollFocusStatus = false;\n          this.parent.hidePopup();\n          this.parent.onBlurHandler(e, true);\n          this.parent.focused = true;\n        }\n      } else {\n        this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.filterInput;\n      }\n      if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') && !this.parent.isPopupOpen()) {\n        if (Browser.isIE) {\n          this.parent.onBlurHandler();\n        } else {\n          this.parent.onBlurHandler(e);\n        }\n      }\n      if (this.filterInput === target) {\n        this.filterInput.focus();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.getFocus = function (e) {\n    this.parent.overAllWrapper.classList.remove(FOCUS$1);\n    if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n      this.parent.keyAction = false;\n      return;\n    }\n    if (e.value === 'focus') {\n      this.filterInput.focus();\n      this.parent.removeFocus();\n      EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n    }\n    if (e.value === 'clear') {\n      this.filterInput.value = '';\n      this.clearIconElement.style.visibility = 'hidden';\n    }\n  };\n  CheckBoxSelection.prototype.checkSelectAll = function (e) {\n    if (e.value === 'check') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale(true);\n    }\n    if (e.value === 'uncheck') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n    if (e.value === 'indeterminate') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n  };\n  CheckBoxSelection.prototype.setLocale = function (unSelect) {\n    if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n      this.selectAllSpan.textContent = '';\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n      for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      var l10nLocale = {\n        selectAllText: 'Select All',\n        unSelectAllText: 'Unselect All'\n      };\n      var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n      if (l10n.getConstant('selectAllText') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n      }\n      this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n    }\n  };\n  CheckBoxSelection.prototype.getActiveList = function (args) {\n    if (args.li.classList.contains('e-active')) {\n      this.activeLi.push(args.li.cloneNode(true));\n    } else {\n      this.activeLi.splice(args.index, 1);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.setReorder = function (args) {\n    if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n      var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n      var remLi = void 0;\n      var ulEle_1 = this.parent.createElement('ul', {\n        className: 'e-list-parent e-ul e-reorder'\n      });\n      if (activeLiCount > 0) {\n        var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n        activeListItems.forEach(function (item) {\n          ulEle_1.appendChild(item);\n        });\n        remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n        addClass(remLi, 'e-reorder-hide');\n        prepend([ulEle_1], this.parent.list);\n      }\n      this.parent.focusAtFirstListItem();\n    }\n  };\n  return CheckBoxSelection;\n}();\n\n/**\n * export all modules from current location\n */\n\nvar __extends$6 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @__PURE__ @class */function (_super) {\n  __extends$6(SelectionSettings, _super);\n  function SelectionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate$6([Property('Multiple')], SelectionSettings.prototype, \"mode\", void 0);\n  __decorate$6([Property(false)], SelectionSettings.prototype, \"showCheckbox\", void 0);\n  __decorate$6([Property(false)], SelectionSettings.prototype, \"showSelectAll\", void 0);\n  __decorate$6([Property('Left')], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n  return SelectionSettings;\n}(ChildProperty);\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @__PURE__ @class */function (_super) {\n  __extends$6(ToolbarSettings, _super);\n  function ToolbarSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate$6([Property([])], ToolbarSettings.prototype, \"items\", void 0);\n  __decorate$6([Property('Right')], ToolbarSettings.prototype, \"position\", void 0);\n  return ToolbarSettings;\n}(ChildProperty);\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @__PURE__ @class */function (_super) {\n  __extends$6(ListBox, _super);\n  /**\n   * Constructor for creating the ListBox component.\n   *\n   * @param {ListBoxModel} options - Specifies ListBox model\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n  function ListBox(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.isValidKey = false;\n    _this.isDataSourceUpdate = false;\n    _this.keyDownStatus = false;\n    return _this;\n  }\n  ListBox_1 = ListBox;\n  /**\n   * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}.\n   * @private\n   */\n  ListBox.prototype.addItem = function (items, itemIndex) {\n    _super.prototype.addItem.call(this, items, itemIndex);\n  };\n  /**\n   * Build and render the component.\n   *\n   * @private\n   * @returns {void}\n   */\n  ListBox.prototype.render = function () {\n    this.inputString = '';\n    this.initLoad = true;\n    this.isCustomFiltering = false;\n    this.initialSelectedOptions = this.value;\n    _super.prototype.render.call(this);\n    this.setEnabled();\n    this.renderComplete();\n  };\n  ListBox.prototype.initWrapper = function () {\n    var hiddenSelect = this.createElement('select', {\n      className: 'e-hidden-select',\n      attrs: {\n        'multiple': ''\n      }\n    });\n    hiddenSelect.style.visibility = 'hidden';\n    this.list.classList.add('e-listbox-wrapper');\n    if (this.itemTemplate) {\n      this.list.classList.add('e-list-template');\n    }\n    this.list.classList.add('e-wrapper');\n    this.list.classList.add('e-lib');\n    if (this.element.tagName === 'EJS-LISTBOX') {\n      this.element.setAttribute('tabindex', '0');\n      if (this.initLoad) {\n        this.element.appendChild(this.list);\n      }\n    } else {\n      if (this.initLoad) {\n        this.element.parentElement.insertBefore(this.list, this.element);\n      }\n      this.list.insertBefore(this.element, this.list.firstChild);\n      this.element.style.display = 'none';\n    }\n    this.list.insertBefore(hiddenSelect, this.list.firstChild);\n    if (this.list.getElementsByClassName('e-list-item')[0]) {\n      this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n    }\n    if (this.itemTemplate) {\n      this.renderReactTemplates();\n    }\n    removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n    this.validationAttribute(this.element, hiddenSelect);\n    this.list.setAttribute('role', 'listbox');\n    attributes(this.list, {\n      'role': 'listbox',\n      'aria-label': 'listbox',\n      'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false'\n    });\n    this.updateSelectionSettings();\n  };\n  ListBox.prototype.updateSelectionSettings = function () {\n    if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n      var l10nSelect = new L10n(this.getModuleName(), {\n        selectAllText: 'Select All',\n        unSelectAllText: 'Unselect All'\n      }, this.locale);\n      this.showSelectAll = true;\n      this.selectAllText = l10nSelect.getConstant('selectAllText');\n      this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n      this.popupWrapper = this.list;\n      this.checkBoxSelectionModule.checkAllParent = null;\n      this.notify('selectAll', {});\n    }\n  };\n  ListBox.prototype.initDraggable = function () {\n    var _this = this;\n    if (this.ulElement) {\n      this.ulElement.id = this.element.id + '_parent';\n    }\n    if (this.allowDragAndDrop) {\n      new Sortable(this.ulElement, {\n        scope: this.scope,\n        itemClass: 'e-list-item',\n        dragStart: this.triggerDragStart.bind(this),\n        drag: this.triggerDrag.bind(this),\n        beforeDrop: this.beforeDragEnd.bind(this),\n        drop: this.dragEnd.bind(this),\n        placeHolder: function () {\n          return _this.createElement('span', {\n            className: 'e-placeholder'\n          });\n        },\n        helper: function (e) {\n          var wrapper = _this.list.cloneNode();\n          var ele = e.sender.cloneNode(true);\n          wrapper.appendChild(ele);\n          var refEle = _this.getItems()[0];\n          wrapper.style.width = refEle.offsetWidth + 'px';\n          wrapper.style.height = refEle.offsetHeight + 'px';\n          if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n            ele.appendChild(_this.createElement('span', {\n              className: 'e-list-badge',\n              innerHTML: _this.value.length + ''\n            }));\n          }\n          wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n          return wrapper;\n        }\n      });\n    }\n  };\n  ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n    this.jsonData.splice(index, 0, item);\n  };\n  ListBox.prototype.initToolbar = function () {\n    var pos = this.toolbarSettings.position;\n    var prevScope = this.element.getAttribute('data-value');\n    if (this.toolbarSettings.items.length) {\n      var toolElem = this.createElement('div', {\n        className: 'e-listbox-tool',\n        attrs: {\n          'role': 'toolbar'\n        }\n      });\n      var wrapper = this.createElement('div', {\n        className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n      });\n      this.list.parentElement.insertBefore(wrapper, this.list);\n      wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n      wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n      this.createButtons(toolElem);\n      if (!this.element.id) {\n        this.element.id = getUniqueID('e-' + this.getModuleName());\n      }\n      if (this.scope) {\n        document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n      } else {\n        this.updateToolBarState();\n      }\n    }\n    var scope = this.element.getAttribute('data-value');\n    if (prevScope && scope && prevScope !== scope) {\n      this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n      this.tBListBox.updateToolBarState();\n    } else if (scope) {\n      this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n      this.tBListBox.updateToolBarState();\n    }\n  };\n  ListBox.prototype.createButtons = function (toolElem) {\n    var _this = this;\n    var btn;\n    var ele;\n    var title;\n    var l10n = new L10n(this.getModuleName(), {\n      moveUp: 'Move Up',\n      moveDown: 'Move Down',\n      moveTo: 'Move To',\n      moveFrom: 'Move From',\n      moveAllTo: 'Move All To',\n      moveAllFrom: 'Move All From'\n    }, this.locale);\n    this.toolbarSettings.items.forEach(function (value) {\n      title = l10n.getConstant(value);\n      ele = _this.createElement('button', {\n        attrs: {\n          'type': 'button',\n          'data-value': value,\n          'title': title,\n          'aria-label': title\n        }\n      });\n      toolElem.appendChild(ele);\n      btn = new Button({\n        iconCss: 'e-icons e-' + value.toLowerCase()\n      }, ele);\n      btn.createElement = _this.createElement;\n    });\n  };\n  ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n    _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n    hiddenSelect.required = input.required;\n    input.required = false;\n  };\n  ListBox.prototype.setHeight = function () {\n    var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n    ele.style.height = formatUnit(this.height);\n    if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n      addClass([this.list], 'e-filter-list');\n    } else {\n      removeClass([this.list], 'e-filter-list');\n    }\n  };\n  ListBox.prototype.setCssClass = function () {\n    var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n    if (this.cssClass) {\n      addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n    if (this.enableRtl) {\n      addClass([this.list], 'e-rtl');\n    }\n  };\n  ListBox.prototype.setEnable = function () {\n    var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n    if (this.enabled) {\n      removeClass([ele], cssClass.disabled);\n    } else {\n      addClass([ele], cssClass.disabled);\n    }\n  };\n  ListBox.prototype.showSpinner = function () {\n    if (!this.spinner) {\n      this.spinner = this.createElement('div', {\n        className: 'e-listbox-wrapper'\n      });\n    }\n    this.spinner.style.height = formatUnit(this.height);\n    this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n    createSpinner({\n      target: this.spinner\n    }, this.createElement);\n    showSpinner(this.spinner);\n  };\n  ListBox.prototype.hideSpinner = function () {\n    if (this.spinner.querySelector('.e-spinner-pane')) {\n      hideSpinner(this.spinner);\n    }\n    if (this.spinner.parentElement) {\n      detach(this.spinner);\n    }\n  };\n  ListBox.prototype.onInput = function () {\n    this.isDataSourceUpdate = false;\n    if (this.keyDownStatus) {\n      this.isValidKey = true;\n    } else {\n      this.isValidKey = false;\n    }\n    this.keyDownStatus = false;\n    this.refreshClearIcon();\n  };\n  ListBox.prototype.clearText = function () {\n    this.filterInput.value = '';\n    this.refreshClearIcon();\n    var event = document.createEvent('KeyboardEvent');\n    this.isValidKey = true;\n    this.KeyUp(event);\n  };\n  ListBox.prototype.refreshClearIcon = function () {\n    if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n      var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n      clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n    }\n  };\n  ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n    var searchEle;\n    if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n      searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n    }\n    if (list.length === 0) {\n      var noRecElem = ulElement.childNodes[0];\n      if (noRecElem) {\n        ulElement.removeChild(noRecElem);\n      }\n    }\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n      this.list.insertBefore(searchEle, this.list.firstElementChild);\n      this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n      this.filterWireEvents(searchEle);\n    }\n    this.initWrapper();\n    this.setSelection();\n    this.initDraggable();\n    this.mainList = this.ulElement;\n    if (this.initLoad) {\n      this.jsonData = [];\n      extend(this.jsonData, list, []);\n      this.initToolbarAndStyles();\n      this.wireEvents();\n      if (this.showCheckbox) {\n        this.setCheckboxPosition();\n      }\n      if (this.allowFiltering) {\n        this.setFiltering();\n      }\n    } else {\n      if (this.isDataSourceUpdate) {\n        this.jsonData = [];\n        extend(this.jsonData, list, []);\n        this.isDataSourceUpdate = false;\n      }\n      if (this.allowFiltering) {\n        var filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n        var txtLength = this.filterInput.value.length;\n        filterElem.selectionStart = txtLength;\n        filterElem.selectionEnd = txtLength;\n        filterElem.focus();\n      }\n    }\n    if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n      var scope = this.scope.replace('#', '');\n      var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n      scopedLB.initToolbar();\n    }\n    this.initLoad = false;\n  };\n  ListBox.prototype.initToolbarAndStyles = function () {\n    this.initToolbar();\n    this.setCssClass();\n    this.setEnable();\n    this.setHeight();\n  };\n  ListBox.prototype.triggerDragStart = function (args) {\n    var _this = this;\n    var badge;\n    args = extend(this.getDragArgs(args), {\n      dragSelected: true\n    });\n    if (Browser.isIos) {\n      this.list.style.overflow = 'hidden';\n    }\n    this.trigger('dragStart', args, function (dragEventArgs) {\n      _this.allowDragAll = dragEventArgs.dragSelected;\n      if (!_this.allowDragAll) {\n        badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n        if (badge) {\n          detach(badge);\n        }\n      }\n    });\n  };\n  ListBox.prototype.triggerDrag = function (args) {\n    var scrollParent;\n    var boundRect;\n    var scrollMoved = 36;\n    var scrollHeight = 10;\n    if (this.itemTemplate && args.target) {\n      if (args.target && args.target.closest('.e-list-item')) {\n        scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var listItem = args.element.querySelector('.e-list-item');\n        if (listItem) {\n          scrollHeight = listItem.scrollHeight;\n        }\n      }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var event = args.event;\n    var wrapper;\n    if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group') || args.target.closest('.e-list-item'))) {\n      if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group') || args.target.closest('.e-list-item')) {\n        wrapper = args.target.closest('.e-listbox-wrapper');\n      } else {\n        wrapper = args.target;\n      }\n      if (this.allowFiltering) {\n        scrollParent = wrapper.querySelector('.e-list-parent');\n      } else {\n        scrollParent = wrapper;\n      }\n      boundRect = scrollParent.getBoundingClientRect();\n      if (boundRect.y + scrollParent.offsetHeight - (event.clientY + scrollMoved) < 1) {\n        scrollParent.scrollTop = scrollParent.scrollTop + scrollHeight;\n      } else if (event.clientY - scrollMoved - boundRect.y < 1) {\n        scrollParent.scrollTop = scrollParent.scrollTop - scrollHeight;\n      }\n    }\n    if (args.target === null) {\n      return;\n    }\n    this.trigger('drag', this.getDragArgs(args));\n  };\n  ListBox.prototype.beforeDragEnd = function (args) {\n    var items = [];\n    this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n    if (this.value.indexOf(this.dragValue) > -1) {\n      args.items = this.getDataByValues(this.value);\n    } else {\n      args.items = this.getDataByValues([this.dragValue]);\n    }\n    extend(items, args.items);\n    this.trigger('beforeDrop', args);\n    if (args.items !== items) {\n      this.customDraggedItem = args.items;\n    }\n  };\n  ListBox.prototype.dragEnd = function (args) {\n    var _this = this;\n    var listData;\n    var liColl;\n    var jsonData;\n    var droppedData;\n    var selectedOptions;\n    var sortedData;\n    var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n    var listObj = this.getComponent(args.droppedElement);\n    var getArgs = this.getDragArgs({\n      target: args.droppedElement\n    }, true);\n    var sourceArgs = {\n      previousData: this.dataSource\n    };\n    var destArgs = {\n      previousData: listObj.dataSource\n    };\n    var dragArgs = extend({}, getArgs, {\n      target: args.target,\n      source: {\n        previousData: this.dataSource\n      },\n      previousIndex: args.previousIndex,\n      currentIndex: args.currentIndex\n    });\n    if (listObj !== this) {\n      var sourceArgs1 = extend(sourceArgs, {\n        currentData: this.listData\n      });\n      dragArgs = extend(dragArgs, {\n        source: sourceArgs1,\n        destination: destArgs\n      });\n    }\n    if (Browser.isIos) {\n      this.list.style.overflow = '';\n    }\n    var targetListObj = this.getComponent(args.target);\n    if (targetListObj && targetListObj.listData.length === 0) {\n      var noRecElem = targetListObj.ulElement.childNodes[0];\n      if (noRecElem) {\n        targetListObj.ulElement.removeChild(noRecElem);\n      }\n    }\n    if (listObj === this) {\n      var ul_1 = this.ulElement;\n      listData = [].slice.call(this.listData);\n      liColl = [].slice.call(this.liCollections);\n      jsonData = [].slice.call(this.jsonData);\n      sortedData = [].slice.call(this.sortedData);\n      var toSortIdx_1 = args.currentIndex;\n      var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n      var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n      var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n      var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n      listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n      sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n      jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n      liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n      if (this.allowDragAll) {\n        selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n          selectedOptions = [];\n          this.customDraggedItem.forEach(function (item) {\n            selectedOptions.push(getValue(_this.fields.value, item));\n          });\n        }\n        selectedOptions.forEach(function (value) {\n          if (value !== dropValue) {\n            var idx = listData.indexOf(_this.getDataByValue(value));\n            var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n            var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n            if (idx > toIdx_1) {\n              toIdx_1++;\n            }\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n            listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n            ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n          }\n        });\n      }\n      this.listData = listData;\n      this.jsonData = jsonData;\n      this.sortedData = sortedData;\n      this.liCollections = liColl;\n    } else {\n      var li_1;\n      var fLiColl_1 = [].slice.call(this.liCollections);\n      var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n      var ul_2 = listObj.ulElement;\n      listData = [].slice.call(listObj.listData);\n      liColl = [].slice.call(listObj.liCollections);\n      jsonData = [].slice.call(listObj.jsonData);\n      sortedData = [].slice.call(listObj.sortedData);\n      selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll ? this.value : [dropValue];\n      if (!isNullOrUndefined(this.customDraggedItem)) {\n        selectedOptions = [];\n        this.customDraggedItem.forEach(function (item) {\n          selectedOptions.push(getValue(_this.fields.value, item));\n        });\n      }\n      var fListData_1 = [].slice.call(this.listData);\n      var fSortData_1 = [].slice.call(this.sortedData);\n      selectedOptions.forEach(function (value, index) {\n        droppedData = _this.getDataByValue(value);\n        var srcIdx = _this.listData.indexOf(droppedData);\n        var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n        var sortIdx = _this.sortedData.indexOf(droppedData);\n        fListData_1.splice(srcIdx, 1);\n        _this.jsonData.splice(jsonSrcIdx, 1);\n        fSortData_1.splice(sortIdx, 1);\n        _this.listData = fListData_1;\n        _this.sortedData = fSortData_1;\n        var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n        listData.splice(destIdx, 0, droppedData);\n        jsonData.splice(destIdx, 0, droppedData);\n        sortedData.splice(destIdx, 0, droppedData);\n        liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n        if (!value) {\n          var liCollElem_1 = _this.getItems();\n          for (var i = 0; i < liCollElem_1.length; i++) {\n            if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n              li_1 = liCollElem_1[i];\n              break;\n            }\n          }\n        } else {\n          li_1 = _this.getItems()[_this.getIndexByValue(value)];\n        }\n        if (!li_1) {\n          li_1 = args.helper;\n        }\n        _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n        ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n        currIdx_1++;\n      });\n      if (this.fields.groupBy) {\n        var sourceElem = this.renderItems(this.listData, this.fields);\n        this.updateListItems(sourceElem, this.ulElement);\n        this.setSelection();\n      }\n      if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n        var sortable = getComponent(ul_2, 'sortable');\n        var sourceElem = listObj.renderItems(listData, listObj.fields);\n        listObj.updateListItems(sourceElem, ul_2);\n        this.setSelection();\n        if (sortable.placeHolderElement) {\n          ul_2.appendChild(sortable.placeHolderElement);\n        }\n        ul_2.appendChild(args.helper);\n        listObj.setSelection();\n      }\n      this.liCollections = fLiColl_1;\n      listObj.liCollections = liColl;\n      listObj.jsonData = extend([], [], jsonData, false);\n      listObj.listData = extend([], [], listData, false);\n      listObj.sortedData = extend([], [], sortedData, false);\n      if (this.listData.length === 0) {\n        this.l10nUpdate();\n      }\n    }\n    if (this === listObj) {\n      var sourceArgs1 = extend(sourceArgs, {\n        currentData: listData\n      });\n      dragArgs = extend(dragArgs, {\n        source: sourceArgs1\n      });\n    } else {\n      var dragArgs1 = extend(destArgs, {\n        currentData: listData\n      });\n      dragArgs = extend(dragArgs, {\n        destination: dragArgs1\n      });\n    }\n    if (!isNullOrUndefined(this.customDraggedItem)) {\n      dragArgs.items = this.customDraggedItem;\n    }\n    this.trigger('drop', dragArgs);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var liCollElem = dragArgs.elements;\n    if (liCollElem.length) {\n      for (var i = 0; i < liCollElem.length; i++) {\n        liCollElem[i].classList.remove('e-grabbed');\n      }\n    }\n  };\n  ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n    var i = 0;\n    destElem.innerHTML = '';\n    while (i < sourceElem.childNodes.length) {\n      destElem.appendChild(sourceElem.childNodes[i]);\n    }\n  };\n  ListBox.prototype.removeSelected = function (listObj, elems) {\n    if (listObj.selectionSettings.showCheckbox) {\n      elems.forEach(function (ele) {\n        ele.getElementsByClassName('e-frame')[0].classList.remove('e-check');\n      });\n    } else {\n      removeClass(elems, cssClass.selected);\n    }\n  };\n  ListBox.prototype.getCurIdx = function (listObj, idx) {\n    if (listObj.fields.groupBy) {\n      idx -= [].slice.call(listObj.ulElement.children).slice(0, idx).filter(function (ele) {\n        return ele.classList.contains(cssClass.group);\n      }).length;\n    }\n    return idx;\n  };\n  ListBox.prototype.getComponent = function (li) {\n    var listObj;\n    var ele = this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox') : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox');\n    if (ele) {\n      listObj = getComponent(ele, this.getModuleName());\n    }\n    return listObj;\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @returns {void}\n   */\n  ListBox.prototype.setEnabled = function () {\n    this.element.setAttribute('aria-disabled', this.enabled ? 'false' : 'true');\n  };\n  ListBox.prototype.listOption = function (dataSource, fields) {\n    this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n    this.listCurrentOptions = extend({}, this.listCurrentOptions, {\n      itemCreated: this.triggerBeforeItemRender.bind(this)\n    }, true);\n    this.notify('listoption', {\n      module: 'CheckBoxSelection'\n    });\n    return this.listCurrentOptions;\n  };\n  ListBox.prototype.triggerBeforeItemRender = function (e) {\n    e.item.setAttribute('tabindex', '-1');\n    this.trigger('beforeItemRender', {\n      element: e.item,\n      item: e.curData\n    });\n  };\n  ListBox.prototype.requiredModules = function () {\n    var modules = [];\n    if (this.selectionSettings.showCheckbox) {\n      modules.push({\n        member: 'CheckBoxSelection',\n        args: [this]\n      });\n    }\n    return modules;\n  };\n  /**\n   * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n   *\n   * @param {string[]} items - Text items that needs to be enabled/disabled.\n   * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n   * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n   * @returns {void}\n   */\n  ListBox.prototype.enableItems = function (items, enable, isValue) {\n    var _this = this;\n    if (enable === void 0) {\n      enable = true;\n    }\n    var li;\n    items.forEach(function (item) {\n      var text = item;\n      li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n      if (!li) {\n        return;\n      }\n      if (enable) {\n        removeClass([li], cssClass.disabled);\n        li.removeAttribute('aria-disabled');\n      } else {\n        addClass([li], cssClass.disabled);\n        li.setAttribute('aria-disabled', 'true');\n      }\n    });\n  };\n  /**\n   * Based on the state parameter, specified list item will be selected/deselected.\n   *\n   * @param {string[]} items - Array of text value of the item.\n   * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n   * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n   * @returns {void}\n   */\n  ListBox.prototype.selectItems = function (items, state, isValue) {\n    if (state === void 0) {\n      state = true;\n    }\n    if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n      this.getSelectedItems().forEach(function (li) {\n        li.classList.remove('e-active');\n        li.removeAttribute('aria-selected');\n        removeClass([li], cssClass.selected);\n      });\n    }\n    this.setSelection(items, state, !isValue);\n    this.updateSelectedOptions();\n    var selElems = [];\n    for (var i = 0; i < items.length; i++) {\n      var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n      for (var j = 0; j < liColl.length; j++) {\n        if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n          selElems.push(liColl[j]);\n        }\n      }\n    }\n    this.triggerChange(selElems, null);\n  };\n  /**\n   * Based on the state parameter, entire list item will be selected/deselected.\n   *\n   * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n   * @returns {void}\n   */\n  ListBox.prototype.selectAll = function (state) {\n    if (state === void 0) {\n      state = true;\n    }\n    this.selectAllItems(state);\n  };\n  /**\n   * Adds a new item to the list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n   * @returns {void}.\n   */\n  ListBox.prototype.addItems = function (items, itemIndex) {\n    _super.prototype.addItem.call(this, items, itemIndex);\n  };\n  /**\n   * Removes a item from the list. By default, removed the last item in the list,\n   * but you can remove based on the index parameter.\n   *\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to remove the item from the list.\n   * @returns {void}.\n   */\n  ListBox.prototype.removeItems = function (items, itemIndex) {\n    this.removeItem(items, itemIndex);\n  };\n  /**\n   * Removes a item from the list. By default, removed the last item in the list,\n   * but you can remove based on the index parameter.\n   *\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to remove the item from the list.\n   * @returns {void}.\n   */\n  ListBox.prototype.removeItem = function (items, itemIndex) {\n    var liCollections = [];\n    var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n    if (items) {\n      items = items instanceof Array ? items : [items];\n      var fields = this.fields;\n      var dataValue = void 0;\n      var objValue = void 0;\n      var dupData = [];\n      var itemIdx = void 0;\n      extend(dupData, [], this.jsonData);\n      var removeIdxes = [];\n      var removeLiIdxes = [];\n      for (var j = 0; j < items.length; j++) {\n        if (items[j] instanceof Object) {\n          dataValue = getValue(fields.value, items[j]);\n        } else {\n          dataValue = items[j].toString();\n        }\n        for (var i = 0, len = dupData.length; i < len; i++) {\n          if (dupData[i] instanceof Object) {\n            objValue = getValue(fields.value, dupData[i]);\n          } else {\n            objValue = dupData[i].toString();\n          }\n          if (objValue === dataValue) {\n            itemIdx = this.getIndexByValue(dataValue);\n            var idx = itemIdx === i ? itemIdx : i;\n            liCollections.push(liElement[idx]);\n            removeIdxes.push(idx);\n            removeLiIdxes.push(idx);\n          }\n        }\n      }\n      for (var k = removeIdxes.length - 1; k >= 0; k--) {\n        this.listData.splice(removeIdxes[k], 1);\n      }\n      for (var k = removeIdxes.length - 1; k >= 0; k--) {\n        this.jsonData.splice(removeIdxes[k], 1);\n      }\n      for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n        this.updateLiCollection(removeLiIdxes[k]);\n      }\n    } else {\n      itemIndex = itemIndex ? itemIndex : 0;\n      liCollections.push(liElement[itemIndex]);\n      this.listData.splice(itemIndex, 1);\n      this.jsonData.splice(itemIndex, 1);\n      this.updateLiCollection(itemIndex);\n    }\n    for (var i = 0; i < liCollections.length; i++) {\n      this.ulElement.removeChild(liCollections[i]);\n    }\n    if (this.listData.length === 0) {\n      this.l10nUpdate();\n    }\n    this.value = [];\n    this.updateToolBarState();\n  };\n  /**\n   * Gets the array of data Object that matches the given array of values.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n   * @returns {object[]}.\n   */\n  ListBox.prototype.getDataByValues = function (value) {\n    var data = [];\n    for (var i = 0; i < value.length; i++) {\n      data.push(this.getDataByValue(value[i]));\n    }\n    return data;\n  };\n  /**\n   * Moves the given value(s) / selected value(s) upwards.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n   * @returns {void}\n   */\n  ListBox.prototype.moveUp = function (value) {\n    var elem = value ? this.getElemByValue(value) : this.getSelectedItems();\n    this.moveUpDown(true, false, elem);\n  };\n  /**\n   * Moves the given value(s) / selected value(s) downwards.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n   * @returns {void}\n   */\n  ListBox.prototype.moveDown = function (value) {\n    var elem = value ? this.getElemByValue(value) : this.getSelectedItems();\n    this.moveUpDown(false, false, elem);\n  };\n  /**\n   * Moves the given value(s) / selected value(s) in Top of the list.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n   * @returns {void}\n   */\n  ListBox.prototype.moveTop = function (value) {\n    var elem = value ? this.getElemByValue(value) : this.getSelectedItems();\n    this.moveUpDown(null, false, elem, true);\n  };\n  /**\n   * Moves the given value(s) / selected value(s) in bottom of the list.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n   * @returns {void}\n   */\n  ListBox.prototype.moveBottom = function (value) {\n    var elem = value ? this.getElemByValue(value) : this.getSelectedItems();\n    this.moveUpDown(true, false, elem, false, true);\n  };\n  /**\n   * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n   *\n   * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n   * @param {number} index - Specifies the index.\n   * @param {string} targetId - Specifies the target id.\n   * @returns {void}\n   */\n  ListBox.prototype.moveTo = function (value, index, targetId) {\n    var elem = value ? this.getElemByValue(value) : this.getSelectedItems();\n    var tlistbox = targetId ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n    this.moveData(this, tlistbox, false, elem, index);\n  };\n  /**\n   * Moves all the values from one ListBox to the scoped ListBox.\n   *\n   * @param  { string } targetId - Specifies the scoped ListBox ID.\n   * @param  { string } index - Specifies the index to where the items moved.\n   * @returns {void}\n   */\n  ListBox.prototype.moveAllTo = function (targetId, index) {\n    if (this.listData.length > 0) {\n      var tlistbox = targetId ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n      this.moveAllData(this, tlistbox, false, index);\n    }\n  };\n  /* eslint-disable */\n  /**\n   * Gets the updated dataSource in ListBox.\n   *\n   * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n   */\n  /* eslint-enable */\n  ListBox.prototype.getDataList = function () {\n    return this.jsonData;\n  };\n  /* eslint-disable */\n  /**\n   * Returns the sorted Data in ListBox.\n   *\n   * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n   */\n  /* eslint-enable */\n  ListBox.prototype.getSortedList = function () {\n    var sortData;\n    var tempData;\n    sortData = tempData = this.sortedData;\n    if (this.fields.groupBy) {\n      sortData = [];\n      for (var i = 0; i < tempData.length; i++) {\n        if (tempData[i].isHeader) {\n          continue;\n        }\n        sortData.push(tempData[i]);\n      }\n    }\n    return sortData;\n  };\n  ListBox.prototype.getElemByValue = function (value) {\n    var elem = [];\n    for (var i = 0; i < value.length; i++) {\n      elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n    }\n    return elem;\n  };\n  ListBox.prototype.updateLiCollection = function (index) {\n    var tempLi = [].slice.call(this.liCollections);\n    tempLi.splice(index, 1);\n    this.liCollections = tempLi;\n  };\n  ListBox.prototype.selectAllItems = function (state, event) {\n    var _this = this;\n    [].slice.call(this.getItems()).forEach(function (li) {\n      if (!li.classList.contains(cssClass.disabled)) {\n        if (_this.selectionSettings.showCheckbox) {\n          var ele = li.getElementsByClassName('e-check')[0];\n          if (!ele && state || ele && !state) {\n            _this.notify('updatelist', {\n              li: li,\n              module: 'listbox'\n            });\n            if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n              _this.checkMaxSelection();\n            }\n          }\n        } else {\n          if (state) {\n            li.classList.add(cssClass.selected);\n          } else {\n            li.classList.remove(cssClass.selected);\n          }\n        }\n      }\n    });\n    this.updateSelectedOptions();\n    if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n      var liEle = this.list.getElementsByTagName('li');\n      var index = 0;\n      if (state) {\n        var _loop_1 = function () {\n          var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n          if (!this_1.value.some(function (e) {\n            return e === dataValue1;\n          })) {\n            this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n          }\n        };\n        var this_1 = this;\n        for (index = 0; index < liEle.length; index++) {\n          _loop_1();\n        }\n      } else {\n        var _loop_2 = function () {\n          var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n          this_2.value = this_2.value.filter(function (e) {\n            return e !== dataValue2;\n          });\n        };\n        var this_2 = this;\n        for (index = 0; index < liEle.length; index++) {\n          _loop_2();\n        }\n      }\n      if (document.querySelectorAll('ul').length < 2) {\n        this.updateMainList();\n      }\n    }\n    this.triggerChange(this.getSelectedItems(), event);\n  };\n  ListBox.prototype.updateMainList = function () {\n    var mainList = this.mainList.querySelectorAll('.e-list-item');\n    var ulList = this.ulElement.querySelectorAll('.e-list-item');\n    var mainCount = mainList.length;\n    var ulEleCount = ulList.length;\n    if (this.selectionSettings.showCheckbox || document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount) {\n      var listindex = 0;\n      var valueindex = 0;\n      var count = 0;\n      for (listindex; listindex < mainCount;) {\n        if (this.value) {\n          for (valueindex; valueindex < this.value.length; valueindex++) {\n            if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n              count++;\n            }\n          }\n        }\n        if (!count && this.selectionSettings.showCheckbox) {\n          mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n        }\n        if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n          this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n          listindex = 0;\n        } else {\n          listindex++;\n        }\n        count = 0;\n        valueindex = 0;\n      }\n    }\n  };\n  ListBox.prototype.wireEvents = function () {\n    var form = closest(this.element, 'form');\n    var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n    EventHandler.add(this.list, 'click', this.clickHandler, this);\n    EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n    EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n    this.wireToolbarEvent();\n    if (this.selectionSettings.showCheckbox) {\n      EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n    }\n    if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n    }\n    if (form) {\n      EventHandler.add(form, 'reset', this.formResetHandler, this);\n    }\n  };\n  ListBox.prototype.wireToolbarEvent = function () {\n    if (this.toolbarSettings.items.length) {\n      EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n    }\n  };\n  ListBox.prototype.unwireEvents = function () {\n    var form = closest(this.element, 'form');\n    var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n    EventHandler.remove(this.list, 'click', this.clickHandler);\n    EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n    EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n    if (this.allowFiltering && this.clearFilterIconElem) {\n      EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n    }\n    if (this.toolbarSettings.items.length) {\n      EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n    }\n    if (form) {\n      EventHandler.remove(form, 'reset', this.formResetHandler);\n    }\n  };\n  ListBox.prototype.clickHandler = function (e) {\n    this.selectHandler(e);\n  };\n  ListBox.prototype.checkSelectAll = function () {\n    var searchCount = 0;\n    var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n    for (var i = 0; i < liItems.length; i++) {\n      if (!liItems[i].classList.contains('e-disabled')) {\n        searchCount++;\n      }\n    }\n    var len = this.getSelectedItems().length;\n    if (this.showSelectAll && searchCount) {\n      this.notify('checkSelectAll', {\n        module: 'CheckBoxSelection',\n        value: searchCount === len ? 'check' : len === 0 ? 'uncheck' : 'indeterminate'\n      });\n    }\n  };\n  ListBox.prototype.getQuery = function (query) {\n    var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    if (this.allowFiltering) {\n      var filterType = this.inputString === '' ? 'contains' : this.filterType;\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (dataType === null) {\n        dataType = this.typeOfData(this.jsonData).typeof;\n      }\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n      } else {\n        var fields = this.fields.text ? this.fields.text : '';\n        filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n      }\n    } else {\n      filterQuery = query ? query : this.query ? this.query : new Query();\n    }\n    return filterQuery;\n  };\n  ListBox.prototype.setFiltering = function () {\n    var filterInputObj;\n    if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n      this.filterParent = this.createElement('span', {\n        className: listBoxClasses.filterParent\n      });\n      this.filterInput = this.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: listBoxClasses.filterInput\n      });\n      this.element.parentNode.insertBefore(this.filterInput, this.element);\n      filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: [listBoxClasses.filterBarClearIcon],\n        properties: {\n          placeholder: this.filterBarPlaceholder\n        }\n      }, this.createElement);\n      append([filterInputObj.container], this.filterParent);\n      prepend([this.filterParent], this.list);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'aria-label': 'search list item',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      if (this.height.toString().indexOf('%') < 0) {\n        addClass([this.list], 'e-filter-list');\n      }\n      this.inputString = this.filterInput.value;\n      this.filterWireEvents();\n      return filterInputObj;\n    }\n  };\n  ListBox.prototype.filterWireEvents = function (filterElem) {\n    if (filterElem) {\n      this.filterInput = filterElem.querySelector('.e-input-filter');\n    }\n    this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n    if (this.clearFilterIconElem) {\n      EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n      if (!filterElem) {\n        this.clearFilterIconElem.style.visibility = 'hidden';\n      }\n    }\n    EventHandler.add(this.filterInput, 'input', this.onInput, this);\n    EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n    EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n  };\n  ListBox.prototype.selectHandler = function (e, isKey) {\n    var isSelect = true;\n    var currSelIdx;\n    var li = closest(e.target, '.' + 'e-list-item');\n    var selectedLi = [li];\n    if (li && li.parentElement) {\n      currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n      if (!this.selectionSettings.showCheckbox) {\n        if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n          li.classList.remove(cssClass.selected);\n          li.removeAttribute('aria-selected');\n          isSelect = false;\n        } else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n          this.getSelectedItems().forEach(function (ele) {\n            ele.removeAttribute('aria-selected');\n          });\n          removeClass(this.getSelectedItems(), cssClass.selected);\n        }\n      } else {\n        isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n      }\n      if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n        selectedLi = [].slice.call(li.parentElement.children).slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1).filter(function (ele) {\n          return ele.classList.contains('e-list-item');\n        });\n      } else {\n        this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n      }\n      if (isSelect) {\n        if (!this.selectionSettings.showCheckbox) {\n          addClass(selectedLi, cssClass.selected);\n        }\n        selectedLi.forEach(function (ele) {\n          ele.setAttribute('aria-selected', 'true');\n        });\n        this.list.setAttribute('aria-activedescendant', li.id);\n      } else {\n        selectedLi.forEach(function (ele) {\n          ele.setAttribute('aria-selected', 'false');\n        });\n      }\n      if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) && (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) && !(this.maximumSelectionLength < (this.value && this.value.length))) {\n        this.notify('updatelist', {\n          li: li,\n          e: e,\n          module: 'listbox'\n        });\n      }\n      if (this.allowFiltering && !isKey) {\n        var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n        if (!isSelect) {\n          this.value = this.value.filter(function (value1) {\n            return value1 !== liDataValue_1;\n          });\n        } else {\n          var values = [];\n          extend(values, this.value);\n          values.push(liDataValue_1);\n          this.value = values;\n        }\n        if (document.querySelectorAll('ul').length < 2) {\n          this.updateMainList();\n        }\n      }\n      this.updateSelectedOptions();\n      this.triggerChange(this.getSelectedItems(), e);\n      if (this.list) {\n        this.checkMaxSelection();\n      }\n    }\n  };\n  ListBox.prototype.triggerChange = function (selectedLis, event) {\n    this.trigger('change', {\n      elements: selectedLis,\n      items: this.getDataByElements(selectedLis),\n      value: this.value,\n      event: event\n    });\n  };\n  ListBox.prototype.getDataByElems = function (elems) {\n    var data = [];\n    for (var i = 0, len = elems.length; i < len; i++) {\n      data.push(this.getDataByValue(this.getFormattedValue(elems[i].getAttribute('data-value'))));\n    }\n    return data;\n  };\n  ListBox.prototype.getDataByElements = function (elems) {\n    var data = [];\n    var value;\n    var sIdx = 0;\n    if (!isNullOrUndefined(this.listData)) {\n      var type = this.typeOfData(this.listData).typeof;\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n          var item = _a[_i];\n          for (var i = sIdx, len = elems.length; i < len; i++) {\n            value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n            if (!isNullOrUndefined(item) && item === value) {\n              sIdx = i;\n              data.push(item);\n              break;\n            }\n          }\n          if (elems.length === data.length) {\n            break;\n          }\n        }\n      } else {\n        for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n          var item = _c[_b];\n          for (var i = sIdx, len = elems.length; i < len; i++) {\n            value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n            if (!isNullOrUndefined(item) && getValue(this.fields.value ? this.fields.value : 'value', item) === value) {\n              sIdx = i;\n              data.push(item);\n              break;\n            }\n          }\n          if (elems.length === data.length) {\n            break;\n          }\n        }\n      }\n      return data;\n    }\n    return null;\n  };\n  ListBox.prototype.checkMaxSelection = function () {\n    var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n    if (this.selectionSettings.showCheckbox) {\n      var index = 0;\n      var liCollElem = this.list.getElementsByClassName('e-list-item');\n      for (index; index < liCollElem.length; index++) {\n        if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n          if (limit === this.maximumSelectionLength) {\n            liCollElem[index].classList.add('e-disable');\n          } else if (liCollElem[index].classList.contains('e-disable')) {\n            liCollElem[index].classList.remove('e-disable');\n          }\n        }\n      }\n    }\n  };\n  ListBox.prototype.toolbarClickHandler = function (e) {\n    var btn = closest(e.target, 'button');\n    if (btn) {\n      this.toolbarAction = btn.getAttribute('data-value');\n      if (btn.disabled) {\n        return;\n      }\n      switch (this.toolbarAction) {\n        case 'moveUp':\n          this.moveUpDown(true);\n          break;\n        case 'moveDown':\n          this.moveUpDown();\n          break;\n        case 'moveTo':\n          this.moveItemTo();\n          break;\n        case 'moveFrom':\n          this.moveItemFrom();\n          break;\n        case 'moveAllTo':\n          this.moveAllItemTo();\n          break;\n        case 'moveAllFrom':\n          this.moveAllItemFrom();\n          break;\n        default:\n          this.trigger('actionBegin', {\n            cancel: false,\n            items: this.getDataByElems(this.getSelectedItems()),\n            eventName: this.toolbarAction\n          });\n          break;\n      }\n    }\n  };\n  ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n    var _this = this;\n    var elems = this.getSelectedItems();\n    if (value) {\n      elems = value;\n    }\n    if ((isUp && this.isSelected(this.ulElement.firstElementChild) || !isUp && this.isSelected(this.ulElement.lastElementChild)) && !value) {\n      return;\n    }\n    var tempItems = this.getDataByElems(elems);\n    var localDataArgs = {\n      cancel: false,\n      items: tempItems,\n      eventName: this.toolbarAction\n    };\n    this.trigger('actionBegin', localDataArgs);\n    if (localDataArgs.cancel) {\n      return;\n    }\n    (isUp ? elems : elems.reverse()).forEach(function (ele) {\n      var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n      var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n      if (isTop) {\n        moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n        _this.changeData(idx, 0, jsonToIdx, ele);\n      } else if (isBottom) {\n        moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n        _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n      } else {\n        moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n        _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n      }\n    });\n    this.trigger('actionComplete', {\n      items: tempItems,\n      eventName: this.toolbarAction\n    });\n    elems[0].focus();\n    if (!isKey && this.toolbarSettings.items.length) {\n      this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n    }\n    this.updateToolBarState();\n  };\n  ListBox.prototype.moveItemTo = function () {\n    this.moveData(this, this.getScopedListBox());\n  };\n  ListBox.prototype.moveItemFrom = function () {\n    this.moveData(this.getScopedListBox(), this);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {ListBox} fListBox - Specifies the from listbox.\n   * @param {ListBox} tListBox - Specifies the to listbox.\n   * @param {boolean} isKey - Specifies the key.\n   * @param {Element[]} value - Specifies the value.\n   * @param {number} index - Specifies the index.\n   * @returns {void}\n   * @private\n   */\n  ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n    var idx = [];\n    var dataIdx = [];\n    var jsonIdx = [];\n    var sortIdx = [];\n    var listData = [].slice.call(fListBox.listData);\n    var tListData = [].slice.call(tListBox.listData);\n    var sortData = [].slice.call(fListBox.sortedData);\n    var tSortData = [].slice.call(tListBox.sortedData);\n    var fliCollections = [].slice.call(fListBox.liCollections);\n    var dataLiIdx = [];\n    var tliCollections = [].slice.call(tListBox.liCollections);\n    var tempItems = [];\n    var data = [];\n    var elems = fListBox.getSelectedItems();\n    if (value) {\n      elems = value;\n    }\n    var isRefresh = tListBox.sortOrder !== 'None' || tListBox.selectionSettings.showCheckbox !== fListBox.selectionSettings.showCheckbox || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n    fListBox.value = [];\n    if (elems.length) {\n      this.removeSelected(fListBox, elems);\n      elems.forEach(function (ele) {\n        idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n        // To update lb view data\n        dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n        // To update lb listdata data\n        dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n        // To update lb sorted data\n        sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n        // To update lb original data\n        jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n      });\n      if (this.sortOrder !== 'None') {\n        sortIdx.forEach(function (i) {\n          tempItems.push(fListBox.sortedData[i]);\n        });\n      } else {\n        jsonIdx.forEach(function (i) {\n          tempItems.push(fListBox.jsonData[i]);\n        });\n      }\n      var localDataArgs = {\n        cancel: false,\n        items: tempItems,\n        eventName: this.toolbarAction\n      };\n      fListBox.trigger('actionBegin', localDataArgs);\n      if (localDataArgs.cancel) {\n        return;\n      }\n      var rLiCollection_1 = [];\n      dataLiIdx.sort(function (n1, n2) {\n        return n1 - n2;\n      }).reverse().forEach(function (i) {\n        rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n      });\n      fListBox.liCollections = fliCollections;\n      if (index) {\n        var toColl = tliCollections.splice(0, index);\n        tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n      } else {\n        tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n      }\n      if (tListBox.listData.length === 0) {\n        var noRecElem = tListBox.ulElement.childNodes[0];\n        if (noRecElem) {\n          tListBox.ulElement.removeChild(noRecElem);\n        }\n      }\n      dataIdx.sort(function (n1, n2) {\n        return n2 - n1;\n      }).forEach(function (i) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        listData.splice(i, 1)[0];\n      });\n      sortIdx.sort(function (n1, n2) {\n        return n2 - n1;\n      }).forEach(function (i) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        sortData.splice(i, 1)[0];\n      });\n      jsonIdx.slice().reverse().forEach(function (i) {\n        data.push(fListBox.jsonData.splice(i, 1)[0]);\n      });\n      if (isRefresh) {\n        if (fListBox.fields.groupBy) {\n          var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n          fListBox.updateListItems(sourceElem, fListBox.ulElement);\n        } else {\n          elems.forEach(function (ele) {\n            detach(ele);\n          });\n        }\n      } else {\n        moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n        fListBox.trigger('actionComplete', {\n          items: tempItems,\n          eventName: this.toolbarAction\n        });\n      }\n      if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n        tListBox.mainList = tListBox.ulElement;\n      }\n      fListBox.updateMainList();\n      var tJsonData = [].slice.call(tListBox.jsonData);\n      tSortData = [].slice.call(tListBox.sortedData);\n      this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n      if (isKey) {\n        this.list.focus();\n      }\n      fListBox.listData = listData;\n      fListBox.sortedData = sortData;\n      index = index ? index : tListData.length;\n      for (var i = tempItems.length - 1; i >= 0; i--) {\n        tListData.splice(index, 0, tempItems[i]);\n        tJsonData.splice(index, 0, tempItems[i]);\n        tSortData.splice(index, 0, tempItems[i]);\n      }\n      tListBox.listData = tListData;\n      tListBox.jsonData = tJsonData;\n      tListBox.sortedData = tSortData;\n      if (isRefresh) {\n        var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n        tListBox.updateListItems(sourceElem, tListBox.ulElement);\n        tListBox.setSelection();\n        fListBox.trigger('actionComplete', {\n          items: tempItems,\n          eventName: this.toolbarAction\n        });\n      }\n      fListBox.updateSelectedOptions();\n      if (fListBox.listData.length === 0) {\n        fListBox.l10nUpdate();\n      }\n    }\n    if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n      fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n    }\n  };\n  ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n    var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n    var ele;\n    var liIdx;\n    var validIdx = -1;\n    if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n      liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n      ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n      validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n      if (validIdx > -1) {\n        inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected);\n      }\n    }\n  };\n  ListBox.prototype.moveAllItemTo = function () {\n    this.moveAllData(this, this.getScopedListBox());\n  };\n  ListBox.prototype.moveAllItemFrom = function () {\n    this.moveAllData(this.getScopedListBox(), this);\n  };\n  ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n    var listData = [].slice.call(tListBox.listData);\n    var jsonData = [].slice.call(tListBox.jsonData);\n    var isRefresh = tListBox.sortOrder !== 'None' || tListBox.selectionSettings.showCheckbox !== fListBox.selectionSettings.showCheckbox || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n    this.removeSelected(fListBox, fListBox.getSelectedItems());\n    var tempItems = [].slice.call(fListBox.listData);\n    var localDataArgs = {\n      cancel: false,\n      items: tempItems,\n      eventName: this.toolbarAction\n    };\n    fListBox.trigger('actionBegin', localDataArgs);\n    if (localDataArgs.cancel) {\n      return;\n    }\n    if (tListBox.listData.length === 0) {\n      var noRecElem = tListBox.ulElement.childNodes[0];\n      if (noRecElem) {\n        tListBox.ulElement.removeChild(noRecElem);\n      }\n    }\n    if (isRefresh) {\n      var noRecElem = fListBox.ulElement.childNodes[0];\n      if (noRecElem) {\n        fListBox.ulElement.removeChild(noRecElem);\n      }\n    }\n    moveTo(fListBox.ulElement, tListBox.ulElement,\n    // eslint-disable-next-line prefer-spread\n    Array.apply(null, {\n      length: fListBox.ulElement.childElementCount\n    }).map(Number.call, Number), index);\n    this.trigger('actionComplete', {\n      items: tempItems,\n      eventName: this.toolbarAction\n    });\n    if (isKey) {\n      this.list.focus();\n    }\n    index = index ? index : listData.length;\n    for (var i = 0; i < fListBox.listData.length; i++) {\n      listData.splice(index + i, 0, fListBox.listData[i]);\n    }\n    for (var i = 0; i < fListBox.jsonData.length; i++) {\n      jsonData.splice(index + i, 0, fListBox.jsonData[i]);\n    }\n    var fliCollections = [].slice.call(fListBox.liCollections);\n    var tliCollections = [].slice.call(tListBox.liCollections);\n    fListBox.liCollections = [];\n    if (index) {\n      var toColl = tliCollections.splice(0, index);\n      tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n    } else {\n      tListBox.liCollections = tliCollections.concat(fliCollections);\n    }\n    fListBox.value = [];\n    listData = listData.filter(function (data) {\n      return data.isHeader !== true;\n    });\n    var sortedData = listData.filter(function (val) {\n      return tListBox.jsonData.indexOf(val) === -1;\n    });\n    for (var i = 0; i < sortedData.length; i++) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n    }\n    tListBox.listData = listData;\n    if (fListBox.listData.length === fListBox.jsonData.length) {\n      fListBox.listData = fListBox.sortedData = fListBox.jsonData = [];\n    } else if (fListBox.allowFiltering) {\n      for (var i = 0; i < fListBox.listData.length; i++) {\n        for (var j = 0; j < fListBox.jsonData.length; j++) {\n          if (fListBox.listData[i] === fListBox.jsonData[j]) {\n            fListBox.jsonData.splice(j, 1);\n          }\n        }\n      }\n      fListBox.listData = fListBox.sortedData = [];\n    }\n    if (isRefresh) {\n      var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n      tListBox.updateListItems(sourceElem, tListBox.ulElement);\n      this.trigger('actionComplete', {\n        items: tempItems,\n        eventName: this.toolbarAction\n      });\n    } else {\n      tListBox.sortedData = listData;\n    }\n    fListBox.updateSelectedOptions();\n    if (fListBox.listData.length === 0) {\n      fListBox.l10nUpdate();\n    }\n  };\n  ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n    var listData = [].slice.call(this.listData);\n    var jsonData = [].slice.call(this.jsonData);\n    var sortData = [].slice.call(this.sortedData);\n    var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n    var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n    var liColl = [].slice.call(this.liCollections);\n    listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n    jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n    sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n    liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n    this.listData = listData;\n    this.jsonData = jsonData;\n    this.liCollections = liColl;\n    this.sortedData = sortData;\n  };\n  ListBox.prototype.getSelectedItems = function () {\n    var ele = [];\n    if (this.selectionSettings.showCheckbox) {\n      [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n        ele.push(closest(cbox, '.' + 'e-list-item'));\n      });\n    } else {\n      ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n    }\n    return ele;\n  };\n  ListBox.prototype.getScopedListBox = function () {\n    var _this = this;\n    var listObj;\n    if (this.scope) {\n      [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n        if (getComponent(ele, _this.getModuleName())) {\n          listObj = getComponent(ele, _this.getModuleName());\n        }\n      });\n    }\n    return listObj;\n  };\n  ListBox.prototype.getGrabbedItems = function (args) {\n    var grabbItems = false;\n    for (var i = 0; i < this.value.length; i++) {\n      if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n        grabbItems = true;\n        break;\n      }\n    }\n    if (grabbItems) {\n      for (var i = 0; i < this.value.length; i++) {\n        var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n        for (var j = 0; j < liColl.length; j++) {\n          if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n            liColl[j].classList.add('e-grabbed');\n          }\n        }\n      }\n    }\n    var elems;\n    if (this.isAngular) {\n      elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n    } else {\n      elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n    }\n    return elems;\n  };\n  ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n    var elems = this.getGrabbedItems(args);\n    if (elems.length) {\n      if (isDragEnd) {\n        elems.push(args.target);\n      }\n    } else {\n      elems = [args.target];\n    }\n    return {\n      elements: elems,\n      items: this.getDataByElems(elems)\n    };\n  };\n  ListBox.prototype.onKeyDown = function (e) {\n    this.keyDownHandler(e);\n    e.stopPropagation();\n  };\n  ListBox.prototype.keyDownHandler = function (e) {\n    if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && !this.allowFiltering) {\n      if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n        return;\n      }\n      e.preventDefault();\n      if (e.keyCode === 32 && this.ulElement.children.length) {\n        this.selectHandler({\n          target: this.ulElement.getElementsByClassName('e-focused')[0],\n          ctrlKey: e.ctrlKey,\n          shiftKey: e.shiftKey\n        });\n      } else if (e.keyCode === 65 && e.ctrlKey) {\n        this.selectAll();\n      } else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n        this.moveUpDown(e.keyCode === 38 ? true : false, true);\n      } else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n        var listObj = this.tBListBox || this.getScopedListBox();\n        if (e.keyCode === 39) {\n          if (e.shiftKey) {\n            this.moveAllData(this, listObj, true);\n          } else {\n            this.moveData(this, listObj, true);\n          }\n        } else {\n          if (e.shiftKey) {\n            this.moveAllData(listObj, this, true);\n          } else {\n            this.moveData(listObj, this, true);\n          }\n        }\n      } else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n        this.upDownKeyHandler(e);\n      }\n    } else if (this.allowFiltering) {\n      if (e.keyCode === 40 || e.keyCode === 38) {\n        this.upDownKeyHandler(e);\n      }\n    }\n  };\n  ListBox.prototype.upDownKeyHandler = function (e) {\n    var ul = this.ulElement;\n    var defaultIdx = e.keyCode === 40 || e.keyCode === 36 ? 0 : ul.childElementCount - 1;\n    var fliIdx = defaultIdx;\n    var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n    if (fli) {\n      if (e.keyCode !== 35 && e.keyCode !== 36) {\n        fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n        if (e.keyCode === 40) {\n          fliIdx++;\n        } else {\n          fliIdx--;\n        }\n        if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n          return;\n        }\n      }\n      removeClass([fli], 'e-focused');\n    }\n    var cli = ul.children[fliIdx];\n    if (cli) {\n      fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n      if (fliIdx === -1) {\n        addClass([fli], 'e-focused');\n        return;\n      }\n      ul.children[fliIdx].focus();\n      ul.children[fliIdx].classList.add('e-focused');\n      if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n        this.selectHandler({\n          target: ul.children[fliIdx],\n          ctrlKey: e.ctrlKey,\n          shiftKey: e.shiftKey\n        }, true);\n      }\n      if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n        var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n        var sidx = e.code === 'Home' ? 0 : selectedidx;\n        var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n        for (var i = sidx; i <= eidx; i++) {\n          var item = ul.children[i];\n          this.notify('updatelist', {\n            li: item,\n            e: {\n              target: this.ulElement.getElementsByClassName('e-focused')[0],\n              ctrlKey: e.ctrlKey,\n              shiftKey: e.shiftKey\n            },\n            module: 'listbox'\n          });\n        }\n      }\n    }\n  };\n  ListBox.prototype.KeyUp = function (e) {\n    var _this = this;\n    var char = String.fromCharCode(e.keyCode);\n    var isWordCharacter = char.match(/\\w/);\n    if (!isNullOrUndefined(isWordCharacter)) {\n      this.isValidKey = true;\n    }\n    this.isValidKey = e.keyCode === 8 || e.keyCode === 46 || this.isValidKey;\n    if (this.isValidKey) {\n      this.isValidKey = false;\n      switch (e.keyCode) {\n        default:\n          if (this.allowFiltering) {\n            var eventArgsData_1 = {\n              preventDefaultAction: false,\n              text: this.targetElement(),\n              updateData: function (dataSource, query, fields) {\n                if (eventArgsData_1.cancel) {\n                  return;\n                }\n                _this.isFiltered = true;\n                _this.remoteFilterAction = true;\n                _this.dataUpdater(dataSource, query, fields);\n              },\n              event: e,\n              cancel: false\n            };\n            this.trigger('filtering', eventArgsData_1, function (args) {\n              _this.isDataFetched = false;\n              if (args.cancel || _this.filterInput.value !== '' && _this.isFiltered) {\n                return;\n              }\n              if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                _this.inputString = _this.filterInput.value;\n                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n              }\n              if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n              }\n            });\n          }\n      }\n    }\n  };\n  /**\n   * To filter the data from given data source by using query.\n   *\n   * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param  {Query} query - Specify the query to filter the data.\n   * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}.\n   */\n  ListBox.prototype.filter = function (dataSource, query, fields) {\n    this.isCustomFiltering = true;\n    this.filteringAction(dataSource, query, fields);\n  };\n  ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n    this.resetList(dataSource, fields, query);\n  };\n  ListBox.prototype.targetElement = function () {\n    this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n    return this.targetInputElement.value;\n  };\n  ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n    this.isDataFetched = false;\n    var backCommand = true;\n    if (this.targetElement().trim() === '') {\n      var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n      if (backCommand) {\n        this.remoteCustomValue = false;\n        this.onActionComplete(list, this.jsonData);\n        this.notify('reOrder', {\n          module: 'CheckBoxSelection',\n          enable: this.selectionSettings.showCheckbox,\n          e: this\n        });\n      }\n    } else {\n      this.resetList(dataSource, fields, query);\n    }\n  };\n  ListBox.prototype.focusOutHandler = function () {\n    var ele = this.list.getElementsByClassName('e-focused')[0];\n    if (ele) {\n      ele.classList.remove('e-focused');\n    }\n    if (this.allowFiltering) {\n      this.refreshClearIcon();\n    }\n  };\n  ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n    var cul = this.ulElement;\n    if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n      if (keyCode === 40 || keyCode === 36) {\n        index++;\n      } else {\n        index--;\n      }\n    }\n    if (index < 0 || index === cul.childElementCount) {\n      return -1;\n    }\n    cli = cul.childNodes[index];\n    if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n      index = this.getValidIndex(cli, index, keyCode);\n    }\n    return index;\n  };\n  ListBox.prototype.updateSelectedOptions = function () {\n    var _this = this;\n    var selectedOptions = [];\n    var values = [];\n    extend(values, this.value);\n    this.getSelectedItems().forEach(function (ele) {\n      if (!ele.classList.contains('e-grabbed')) {\n        selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n      }\n    });\n    if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n      if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n        for (var i = 0; i < selectedOptions.length; i++) {\n          if (values.indexOf(selectedOptions[i]) > -1) {\n            continue;\n          } else {\n            values.push(selectedOptions[i]);\n          }\n        }\n        this.setProperties({\n          value: values\n        }, true);\n      } else {\n        this.setProperties({\n          value: selectedOptions\n        }, true);\n      }\n    }\n    this.updateSelectTag();\n    this.updateToolBarState();\n    if (this.tBListBox) {\n      this.tBListBox.updateToolBarState();\n    }\n  };\n  ListBox.prototype.clearSelection = function (values) {\n    var _this = this;\n    if (values === void 0) {\n      values = this.value;\n    }\n    if (this.selectionSettings.showCheckbox) {\n      var dvalue_1;\n      this.getSelectedItems().forEach(function (li) {\n        dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n        if (values.indexOf(dvalue_1) < 0) {\n          li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n          li.removeAttribute('aria-selected');\n        }\n      });\n    }\n  };\n  ListBox.prototype.setSelection = function (values, isSelect, isText) {\n    var _this = this;\n    if (values === void 0) {\n      values = this.value;\n    }\n    if (isSelect === void 0) {\n      isSelect = true;\n    }\n    if (isText === void 0) {\n      isText = false;\n    }\n    var li;\n    var liselect;\n    if (values) {\n      values.forEach(function (value) {\n        var text;\n        if (isText) {\n          text = _this.getValueByText(value);\n        } else {\n          text = value;\n        }\n        if (typeof text === 'string') {\n          text = text.split('\\\\').join('\\\\\\\\');\n          li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n        } else {\n          li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n        }\n        if (li) {\n          if (_this.selectionSettings.showCheckbox) {\n            liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n          } else {\n            liselect = li.classList.contains('e-selected');\n          }\n          if (!isSelect && liselect || isSelect && !liselect && li) {\n            if (_this.selectionSettings.showCheckbox) {\n              _this.notify('updatelist', {\n                li: li,\n                module: 'listbox'\n              });\n              li.focus();\n            } else {\n              if (isSelect) {\n                li.classList.add(cssClass.selected);\n                li.setAttribute('aria-selected', 'true');\n                li.focus();\n              } else {\n                li.classList.remove(cssClass.selected);\n                li.removeAttribute('aria-selected');\n              }\n            }\n          }\n        }\n      });\n    }\n    this.updateSelectTag();\n  };\n  ListBox.prototype.updateSelectTag = function () {\n    var ele = this.getSelectTag();\n    var innerHTML = '';\n    ele.innerHTML = '';\n    if (this.value) {\n      for (var i = 0, len = this.value.length; i < len; i++) {\n        innerHTML += '<option selected>' + this.value[i] + '</option>';\n      }\n      ele.innerHTML += innerHTML;\n      for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n        ele.childNodes[i].setAttribute('value', this.value[i].toString());\n      }\n    }\n    this.checkSelectAll();\n  };\n  ListBox.prototype.checkDisabledState = function (inst) {\n    return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n  };\n  ListBox.prototype.updateToolBarState = function () {\n    var _this = this;\n    if (this.toolbarSettings.items.length) {\n      var listObj_1 = this.getScopedListBox();\n      var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n      this.toolbarSettings.items.forEach(function (value) {\n        var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n        switch (value) {\n          case 'moveAllTo':\n            btn.disabled = _this.checkDisabledState(_this);\n            break;\n          case 'moveAllFrom':\n            btn.disabled = _this.checkDisabledState(listObj_1);\n            break;\n          case 'moveFrom':\n            btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n            break;\n          case 'moveUp':\n            btn.disabled = _this.value && _this.value.length && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n            break;\n          case 'moveDown':\n            btn.disabled = _this.value && _this.value.length && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n            break;\n          default:\n            btn.disabled = _this.value && _this.value.length ? false : true;\n            break;\n        }\n      });\n    }\n  };\n  ListBox.prototype.setCheckboxPosition = function () {\n    var listWrap = this.list;\n    if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n      listWrap.classList.remove('e-right');\n    }\n    if (this.selectionSettings.checkboxPosition === 'Right') {\n      listWrap.classList.add('e-right');\n    }\n  };\n  ListBox.prototype.showCheckbox = function (showCheckbox) {\n    var index = 0;\n    var liColl = this.list.lastElementChild.querySelectorAll('li');\n    var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n    if (showCheckbox) {\n      this.ulElement = this.renderItems(this.listData, this.fields);\n      this.mainList = this.ulElement;\n      this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n      this.list.appendChild(this.ulElement);\n      if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n        var l10nShow = new L10n(this.getModuleName(), {\n          selectAllText: 'Select All',\n          unSelectAllText: 'Unselect All'\n        }, this.locale);\n        this.showSelectAll = true;\n        this.selectAllText = l10nShow.getConstant('selectAllText');\n        this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n        this.popupWrapper = this.list;\n        this.checkBoxSelectionModule.checkAllParent = null;\n        this.notify('selectAll', {});\n        this.checkSelectAll();\n      }\n    } else {\n      if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n        this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n      }\n      for (index; index < liCollLen; index++) {\n        if (liColl[index].classList.contains('e-list-item')) {\n          liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n        }\n        if (liColl[index].hasAttribute('aria-selected')) {\n          liColl[index].removeAttribute('aria-selected');\n        }\n      }\n      this.mainList = this.ulElement;\n    }\n    this.value = [];\n  };\n  ListBox.prototype.isSelected = function (ele) {\n    if (!isNullOrUndefined(ele)) {\n      return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n    } else {\n      return false;\n    }\n  };\n  ListBox.prototype.getSelectTag = function () {\n    return this.list.getElementsByClassName('e-hidden-select')[0];\n  };\n  ListBox.prototype.getToolElem = function () {\n    return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n  };\n  ListBox.prototype.formResetHandler = function () {\n    this.value = this.initialSelectedOptions;\n  };\n  /**\n   * Return the module name.\n   *\n   * @private\n   * @returns {string} - Module name\n   */\n  ListBox.prototype.getModuleName = function () {\n    return 'listbox';\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n  ListBox.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  ListBox.prototype.getLocaleName = function () {\n    return 'listbox';\n  };\n  ListBox.prototype.destroy = function () {\n    this.unwireEvents();\n    if (this.element.tagName === 'EJS-LISTBOX') {\n      this.element.innerHTML = '';\n    } else {\n      this.element.style.display = 'inline-block';\n      if (this.toolbarSettings.items.length) {\n        this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n        detach(this.list.nextElementSibling);\n      }\n      this.list.parentElement.insertBefore(this.element, this.list);\n    }\n    _super.prototype.destroy.call(this);\n    this.enableRtlElements = [];\n    this.liCollections = null;\n    this.list = null;\n    this.ulElement = null;\n    this.mainList = null;\n    this.spinner = null;\n    this.rippleFun = null;\n    if (this.itemTemplate) {\n      this.clearTemplate();\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {ListBoxModel} newProp - Specifies the new properties.\n   * @param {ListBoxModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   * @private\n   */\n  ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n    this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([wrap], oldProp.cssClass.split(' '));\n          }\n          if (newProp.cssClass) {\n            addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n          }\n          break;\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.list.classList.add('e-rtl');\n          } else {\n            this.list.classList.remove('e-rtl');\n          }\n          break;\n        case 'value':\n          removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n          this.clearSelection(this.value);\n          this.setSelection();\n          break;\n        case 'height':\n          this.setHeight();\n          break;\n        case 'enabled':\n          this.setEnable();\n          break;\n        case 'allowDragAndDrop':\n          if (newProp.allowDragAndDrop) {\n            this.initDraggable();\n          } else {\n            getComponent(this.ulElement, 'sortable').destroy();\n          }\n          break;\n        case 'allowFiltering':\n          if (this.allowFiltering) {\n            this.setFiltering();\n          } else {\n            this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n            this.filterParent = null;\n            removeClass([this.list], 'e-filter-list');\n          }\n          break;\n        case 'filterBarPlaceholder':\n          if (this.allowFiltering) {\n            if (this.filterInput) {\n              Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n            }\n          }\n          break;\n        case 'scope':\n          if (this.allowDragAndDrop) {\n            getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n          }\n          if (this.toolbarSettings.items.length) {\n            if (oldProp.scope) {\n              getComponent(document.querySelector(oldProp.scope), this.getModuleName()).tBListBox = null;\n            }\n            if (newProp.scope) {\n              getComponent(document.querySelector(newProp.scope), this.getModuleName()).tBListBox = this;\n            }\n          }\n          break;\n        case 'toolbarSettings':\n          {\n            var ele = void 0;\n            var pos = newProp.toolbarSettings.position;\n            var toolElem = this.getToolElem();\n            if (pos) {\n              removeClass([wrap], ['e-right', 'e-left']);\n              wrap.classList.add('e-' + pos.toLowerCase());\n              if (pos === 'Left') {\n                wrap.insertBefore(toolElem, this.list);\n              } else {\n                wrap.appendChild(toolElem);\n              }\n            }\n            if (newProp.toolbarSettings.items) {\n              if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                ele = this.list.parentElement;\n                ele.parentElement.insertBefore(this.list, ele);\n                detach(ele);\n              }\n              this.initToolbarAndStyles();\n              this.wireToolbarEvent();\n            }\n            break;\n          }\n        case 'selectionSettings':\n          {\n            var showSelectAll = newProp.selectionSettings.showSelectAll;\n            var showCheckbox = newProp.selectionSettings.showCheckbox;\n            if (!isNullOrUndefined(showSelectAll)) {\n              this.showSelectAll = showSelectAll;\n              if (this.showSelectAll) {\n                var l10nSel = new L10n(this.getModuleName(), {\n                  selectAllText: 'Select All',\n                  unSelectAllText: 'Unselect All'\n                }, this.locale);\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.showSelectAll = true;\n                this.selectAllText = l10nSel.getConstant('selectAllText');\n                this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                this.popupWrapper = this.list;\n              }\n              this.notify('selectAll', {});\n              this.checkSelectAll();\n            }\n            if (!isNullOrUndefined(showCheckbox)) {\n              this.showCheckbox(showCheckbox);\n            }\n            if (this.selectionSettings.showCheckbox) {\n              this.setCheckboxPosition();\n            }\n            break;\n          }\n        case 'dataSource':\n          this.isDataSourceUpdate = true;\n          this.jsonData = [].slice.call(this.dataSource);\n          break;\n      }\n    }\n  };\n  var ListBox_1;\n  __decorate$6([Property('')], ListBox.prototype, \"cssClass\", void 0);\n  __decorate$6([Property([])], ListBox.prototype, \"value\", void 0);\n  __decorate$6([Property('')], ListBox.prototype, \"height\", void 0);\n  __decorate$6([Property(true)], ListBox.prototype, \"enabled\", void 0);\n  __decorate$6([Property(false)], ListBox.prototype, \"enablePersistence\", void 0);\n  __decorate$6([Property(false)], ListBox.prototype, \"allowDragAndDrop\", void 0);\n  __decorate$6([Property(1000)], ListBox.prototype, \"maximumSelectionLength\", void 0);\n  __decorate$6([Property(false)], ListBox.prototype, \"allowFiltering\", void 0);\n  __decorate$6([Property('')], ListBox.prototype, \"scope\", void 0);\n  __decorate$6([Property(true)], ListBox.prototype, \"ignoreCase\", void 0);\n  __decorate$6([Property(null)], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"beforeItemRender\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"filtering\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"select\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"change\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"beforeDrop\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"dragStart\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"drag\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"drop\", void 0);\n  __decorate$6([Event()], ListBox.prototype, \"dataBound\", void 0);\n  __decorate$6([Property(null)], ListBox.prototype, \"groupTemplate\", void 0);\n  __decorate$6([Property('Request failed')], ListBox.prototype, \"actionFailureTemplate\", void 0);\n  __decorate$6([Property(1000)], ListBox.prototype, \"zIndex\", void 0);\n  __decorate$6([Property(false)], ListBox.prototype, \"ignoreAccent\", void 0);\n  __decorate$6([Complex({}, ToolbarSettings)], ListBox.prototype, \"toolbarSettings\", void 0);\n  __decorate$6([Complex({}, SelectionSettings)], ListBox.prototype, \"selectionSettings\", void 0);\n  ListBox = ListBox_1 = __decorate$6([NotifyPropertyChanges], ListBox);\n  return ListBox;\n}(DropDownBase);\nvar listBoxClasses = {\n  backIcon: 'e-input-group-icon e-back-icon e-icons',\n  filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n  filterInput: 'e-input-filter',\n  filterParent: 'e-filter-parent',\n  clearIcon: 'e-clear-icon'\n};\n\n/**\n * export all modules from current location\n */\n\nvar __extends$7 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @__PURE__ @class */function (_super) {\n  __extends$7(Mention, _super);\n  /**\n   * * Constructor for creating the widget\n   *\n   * @param {MentionModel} options - Specifies the MentionComponent model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Mention(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n   *\n   * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n   * @param {MentionModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'minLength':\n          this.minLength = newProp.minLength;\n          break;\n        case 'suffixText':\n          this.suffixText = newProp.suffixText;\n          break;\n        case 'allowSpaces':\n          this.allowSpaces = newProp.allowSpaces;\n          break;\n        case 'mentionChar':\n          this.mentionChar = newProp.mentionChar;\n          break;\n        case 'showMentionChar':\n          this.showMentionChar = newProp.showMentionChar;\n          break;\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n      }\n    }\n  };\n  Mention.prototype.updateCssClass = function (newClass, oldClass) {\n    if (!isNullOrUndefined(oldClass)) {\n      oldClass = oldClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newClass)) {\n      newClass = newClass.replace(/\\s+/g, ' ').trim();\n    }\n    this.setCssClass(newClass, [this.inputElement], oldClass);\n    if (this.popupObj) {\n      this.setCssClass(newClass, [this.popupObj.element], oldClass);\n    }\n  };\n  Mention.prototype.setCssClass = function (cssClass$$1, elements, oldClass) {\n    if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n      removeClass(elements, oldClass.split(' '));\n    }\n    if (!isNullOrUndefined(cssClass$$1) && cssClass$$1 !== '') {\n      addClass(elements, cssClass$$1.split(' '));\n    }\n  };\n  Mention.prototype.initializeData = function () {\n    this.isSelected = false;\n    this.isFiltered = false;\n    this.beforePopupOpen = false;\n    this.initRemoteRender = false;\n    this.isListResetted = false;\n    this.isPopupOpen = false;\n    this.isCollided = false;\n    this.lineBreak = false;\n    this.keyConfigure = {\n      tab: 'tab',\n      enter: '13',\n      escape: '27',\n      end: '35',\n      home: '36',\n      down: '40',\n      up: '38',\n      pageUp: '33',\n      pageDown: '34',\n      open: 'alt+40',\n      close: 'shift+tab',\n      hide: 'alt+38',\n      space: '32'\n    };\n  };\n  /**\n   * Execute before render the list items\n   *\n   * @private\n   * @returns {void}\n   */\n  Mention.prototype.preRender = function () {\n    this.initializeData();\n    _super.prototype.preRender.call(this);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  Mention.prototype.render = function () {\n    var isSelector = typeof this.target === 'string';\n    this.inputElement = !isNullOrUndefined(this.target) ? this.checkAndUpdateInternalComponent(isSelector ? document.querySelector(this.target) : this.target) : this.element;\n    if (this.isContentEditable(this.inputElement)) {\n      this.inputElement.setAttribute('contenteditable', 'true');\n      addClass([this.inputElement], ['e-mention']);\n      if (isNullOrUndefined(this.target)) {\n        addClass([this.inputElement], ['e-editable-element']);\n      }\n    }\n    this.inputElement.setAttribute('role', 'textbox');\n    this.queryString = this.elementValue();\n    this.wireEvent();\n  };\n  Mention.prototype.wireEvent = function () {\n    EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n    this.bindCommonEvent();\n  };\n  Mention.prototype.unWireEvent = function () {\n    EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n    this.unBindCommonEvent();\n  };\n  Mention.prototype.bindCommonEvent = function () {\n    if (!Browser.isDevice) {\n      this.keyboardModule = new KeyboardEvents(this.inputElement, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @private\n   * @returns {void}\n   */\n  Mention.prototype.hideSpinner = function () {\n    this.hideWaitingSpinner();\n  };\n  Mention.prototype.hideWaitingSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n    }\n    if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n      detach(this.spinnerTemplateElement);\n    }\n  };\n  Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n    if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n      return targetElement.querySelector('.e-content');\n    }\n    if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n      var parentElement = targetElement.parentElement;\n      if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n        return parentElement.querySelector('.e-content');\n      }\n    }\n    return targetElement;\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   */\n  Mention.prototype.showWaitingSpinner = function () {\n    if (!isNullOrUndefined(this.popupObj)) {\n      if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n        this.spinnerElement = this.popupObj.element;\n        createSpinner({\n          target: this.spinnerElement,\n          width: Browser.isDevice ? '16px' : '14px'\n        }, this.createElement);\n        showSpinner(this.spinnerElement);\n      }\n      if (!isNullOrUndefined(this.spinnerTemplate)) {\n        this.setSpinnerTemplate();\n      }\n    }\n  };\n  Mention.prototype.keyActionHandler = function (e) {\n    var isNavigation = e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown' || e.action === 'home' || e.action === 'end';\n    var isTabAction = e.action === 'tab' || e.action === 'close';\n    if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space') {\n      this.renderList();\n    }\n    if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && this.liCollections.length === 0 || this.isRequested) {\n      return;\n    }\n    if (e.action === 'escape') {\n      e.preventDefault();\n    }\n    this.isSelected = e.action === 'escape' ? false : this.isSelected;\n    switch (e.action) {\n      case 'down':\n      case 'up':\n        this.isUpDownKey = true;\n        this.updateUpDownAction(e);\n        break;\n      case 'tab':\n        if (this.isPopupOpen) {\n          e.preventDefault();\n          var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n          if (li) {\n            this.setSelection(li, e);\n          }\n          if (this.isPopupOpen) {\n            this.hidePopup(e);\n          }\n        }\n        break;\n      case 'enter':\n        if (this.isPopupOpen) {\n          e.preventDefault();\n          if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n            this.updateSelectedItem(this.selectedLI, e, false, true);\n          }\n        }\n        break;\n      case 'escape':\n        if (this.isPopupOpen) {\n          this.hidePopup(e);\n        }\n        break;\n    }\n  };\n  Mention.prototype.updateUpDownAction = function (e) {\n    var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (this.isSelectFocusItem(focusEle)) {\n      this.setSelection(focusEle, e);\n    } else if (!isNullOrUndefined(this.liCollections)) {\n      var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n      if (!isNullOrUndefined(li)) {\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        this.activeIndex = this.getIndexByValue(value);\n      }\n      var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n      var startIndex = 0;\n      startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n      index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n      var nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n      if (!isNullOrUndefined(nextItem)) {\n        this.setSelection(nextItem, e);\n      }\n    }\n    if (this.isPopupOpen) {\n      e.preventDefault();\n    }\n  };\n  Mention.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  Mention.prototype.unBindCommonEvent = function () {\n    if (!Browser.isDevice) {\n      this.keyboardModule.destroy();\n    }\n  };\n  Mention.prototype.onKeyUp = function (e) {\n    var rangetextContent;\n    if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n      this.isUpDownKey = false;\n      return;\n    }\n    this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n    if (document.activeElement != this.inputElement) {\n      this.inputElement.focus();\n    }\n    if (this.isContentEditable(this.inputElement)) {\n      this.range = this.getCurrentRange();\n      rangetextContent = this.range.startContainer.textContent.split('');\n    }\n    var currentRange = this.getTextRange();\n    var lastWordRange = this.getLastLetter(currentRange);\n    // eslint-disable-next-line security/detect-non-literal-regexp\n    var Regex = new RegExp(this.mentionChar, 'g');\n    var charRegex = new RegExp('[a-zA-Z]', 'g');\n    if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n      return;\n    }\n    if (!currentRange || !lastWordRange || e.code === 'Enter' || e.keyCode === 27 || lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1 || this.isContentEditable(this.inputElement) && this.range.startContainer && this.range.startContainer.previousElementSibling && this.range.startContainer.textContent.split('').length > 0 && (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 || this.range.startContainer.nodeType === 1)) {\n      if (this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1 && !this.isMatchedText() && currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ' && this.list && this.list.querySelectorAll('ul').length > 0) {\n        this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n        this.searchLists(e);\n      } else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && e.code !== 'ArrowDown' && e.code !== 'ArrowUp') {\n        this.hidePopup();\n        this.lineBreak = true;\n      }\n      return;\n    }\n    this.queryString = lastWordRange.replace(this.mentionChar, '');\n    if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) && this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n      this.searchLists(e);\n      if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n        if (!this.isContentEditable(this.inputElement)) {\n          this.showPopup();\n        } else if (this.isContentEditable(this.inputElement) && this.range && this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n          this.showPopup();\n        }\n      }\n    } else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj || isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) || !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element))) {\n      if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n        this.searchLists(e);\n      }\n      this.resetList(this.dataSource, this.fields);\n      if (isNullOrUndefined(this.list)) {\n        this.initValue();\n      }\n      if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40) {\n        this.didPopupOpenByTypingInitialChar = true;\n        this.showPopup();\n        if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n          this.showWaitingSpinner();\n        }\n        this.lineBreak = false;\n      }\n    } else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 && e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n      this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n      this.searchLists(e);\n    } else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n      this.searchLists(e);\n      if (!this.isListResetted) {\n        this.resetList(this.dataSource, this.fields);\n      }\n    }\n    this.isListResetted = false;\n  };\n  Mention.prototype.isMatchedText = function () {\n    var isMatched = false;\n    for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n      if (this.getTextRange() && this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n        isMatched = true;\n      }\n    }\n    return isMatched;\n  };\n  Mention.prototype.getCurrentRange = function () {\n    this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n    return this.range;\n  };\n  Mention.prototype.searchLists = function (e) {\n    var _this = this;\n    this.isDataFetched = false;\n    if (isNullOrUndefined(this.list)) {\n      _super.prototype.render.call(this);\n      this.unWireListEvents();\n      this.wireListEvents();\n    }\n    if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n      this.queryString = this.queryString === '' ? null : this.queryString;\n      this.beforePopupOpen = true;\n      this.resetList(this.dataSource, this.fields);\n      return;\n    }\n    this.isSelected = false;\n    this.activeIndex = null;\n    var eventArgs = {\n      preventDefaultAction: false,\n      text: this.queryString,\n      updateData: function (dataSource, query, fields) {\n        if (eventArgs.cancel) {\n          return;\n        }\n        _this.isFiltered = true;\n        _this.filterAction(dataSource, query, fields);\n      },\n      cancel: false\n    };\n    this.trigger('filtering', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n        _this.filterAction(_this.dataSource, null, _this.fields);\n      }\n    });\n  };\n  Mention.prototype.filterAction = function (dataSource, query, fields) {\n    this.beforePopupOpen = true;\n    if (this.queryString.length >= this.minLength) {\n      this.resetList(dataSource, fields, query);\n      this.isListResetted = true;\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      this.beforePopupOpen = false;\n    }\n    this.setDataIndex();\n    this.renderReactTemplates();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    if (this.isActive) {\n      if (!isNullOrUndefined(ulElement)) {\n        attributes(ulElement, {\n          'id': this.inputElement.id + '_options',\n          'role': 'listbox',\n          'aria-hidden': 'false'\n        });\n      }\n      var focusItem = ulElement.querySelector('.' + dropDownBaseClasses.li);\n      if (focusItem) {\n        focusItem.classList.add(dropDownBaseClasses.selected);\n        this.selectedLI = focusItem;\n        var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n        this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n      }\n    }\n  };\n  Mention.prototype.setDataIndex = function () {\n    for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n      this.liCollections[i].setAttribute('data-index', i.toString());\n    }\n  };\n  Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n    var _this = this;\n    var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n    if (isNullOrUndefined(fields.itemCreated)) {\n      fields.itemCreated = function (e) {\n        if (_this.highlight) {\n          if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n            setTimeout(function () {\n              highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n            }, 0);\n          } else {\n            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n          }\n        }\n      };\n    } else {\n      var itemCreated_1 = fields.itemCreated;\n      fields.itemCreated = function (e) {\n        if (_this.highlight) {\n          highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n        }\n        itemCreated_1.apply(_this, [e]);\n      };\n    }\n    return fields;\n  };\n  Mention.prototype.elementValue = function () {\n    if (!this.isContentEditable(this.inputElement)) {\n      return this.inputElement.value.replace(this.mentionChar, '');\n    } else {\n      return this.inputElement.textContent.replace(this.mentionChar, '');\n    }\n  };\n  Mention.prototype.getQuery = function (query) {\n    var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    var filterType = this.queryString === '' && !isNullOrUndefined(this.elementValue()) ? 'equal' : this.filterType;\n    var queryString = this.queryString === '' && !isNullOrUndefined(this.elementValue()) ? this.elementValue() : this.queryString;\n    if (this.isFiltered) {\n      return filterQuery;\n    }\n    if (this.queryString !== null && this.queryString !== '') {\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n      } else {\n        var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n        filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n      }\n    }\n    if (!isNullOrUndefined(this.suggestionCount)) {\n      // Since defualt value of suggestioncount is 25, checked the condition\n      if (this.suggestionCount !== 25) {\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n          if (filterQuery.queries[queryElements].fn === 'onTake') {\n            filterQuery.queries.splice(queryElements, 1);\n          }\n        }\n      }\n      filterQuery.take(this.suggestionCount);\n    }\n    return filterQuery;\n  };\n  Mention.prototype.renderHightSearch = function () {\n    if (this.highlight) {\n      for (var i = 0; i < this.liCollections.length; i++) {\n        var isHighlight = this.ulElement.querySelector('.e-active');\n        if (!isHighlight) {\n          revertHighlightSearch(this.liCollections[i]);\n          highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n        }\n      }\n    }\n  };\n  Mention.prototype.getTextRange = function () {\n    var text;\n    if (!this.isContentEditable(this.inputElement)) {\n      var component = this.inputElement;\n      if (!isNullOrUndefined(component)) {\n        var startPos = component.selectionStart;\n        if (component.value && startPos >= 0) {\n          text = component.value.substring(0, startPos);\n        }\n      }\n    } else {\n      if (this.range) {\n        var selectedElem = this.range.startContainer;\n        if (!isNullOrUndefined(selectedElem)) {\n          var workingNodeContent = selectedElem.textContent;\n          var selectStartOffset = this.range.startOffset;\n          if (workingNodeContent && selectStartOffset >= 0) {\n            text = workingNodeContent.substring(0, selectStartOffset);\n          }\n        }\n      }\n    }\n    return text;\n  };\n  Mention.prototype.getLastLetter = function (text) {\n    if (isNullOrUndefined(text)) {\n      return '';\n    }\n    var textValue = text.replace(/\\u00A0/g, ' ');\n    var words = textValue.split(/\\s+/);\n    var wordCnt = words.length - 1;\n    return words[wordCnt].trim();\n  };\n  Mention.prototype.isContentEditable = function (element) {\n    return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n  };\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n   */\n  Mention.prototype.showPopup = function () {\n    this.beforePopupOpen = true;\n    if (document.activeElement != this.inputElement) {\n      this.inputElement.focus();\n    }\n    this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n    this.didPopupOpenByTypingInitialChar = false;\n    if (this.isContentEditable(this.inputElement)) {\n      this.range = this.getCurrentRange();\n    }\n    if (!this.isTyped) {\n      this.resetList(this.dataSource, this.fields);\n    }\n    if (isNullOrUndefined(this.list)) {\n      this.initValue();\n    }\n    this.renderPopup();\n    attributes(this.inputElement, {\n      'aria-activedescendant': this.selectedElementID\n    });\n    if (this.selectedElementID == null) {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in an open state.\n   *\n   * @returns {void}\n   */\n  Mention.prototype.hidePopup = function (e) {\n    this.removeSelection();\n    this.closePopup(0, e);\n  };\n  Mention.prototype.closePopup = function (delay, e) {\n    var _this = this;\n    if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n      return;\n    }\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.inputElement.removeAttribute('aria-owns');\n    this.inputElement.removeAttribute('aria-activedescendant');\n    this.beforePopupOpen = false;\n    var animModel = {\n      name: 'FadeOut',\n      duration: 100,\n      delay: delay ? delay : 0\n    };\n    var popupInstance = this.popupObj;\n    var eventArgs = {\n      popup: popupInstance,\n      cancel: false,\n      animation: animModel,\n      event: e || null\n    };\n    this.trigger('closed', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel && _this.popupObj) {\n        if (_this.isPopupOpen) {\n          _this.popupObj.hide(new Animation(eventArgs.animation));\n        } else {\n          _this.destroyPopup();\n        }\n      }\n    });\n  };\n  Mention.prototype.renderPopup = function () {\n    var _this = this;\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        var popupEle_1;\n        if (isNullOrUndefined(_this.target)) {\n          popupEle_1 = _this.createElement('div', {\n            id: _this.inputElement.id + '_popup',\n            className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n          });\n        } else {\n          popupEle_1 = _this.element;\n          if (_this.cssClass != null) {\n            addClass([popupEle_1], _this.cssClass.split(' '));\n          }\n        }\n        if (!isNullOrUndefined(_this.target)) {\n          popupEle_1.id = _this.inputElement.id + '_popup';\n        }\n        _this.listHeight = formatUnit(_this.popupHeight);\n        if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n          var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n          if (!isNullOrUndefined(li)) {\n            _this.selectedLI = li;\n            var value = _this.getFormattedValue(li.getAttribute('data-value'));\n            _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n          }\n        }\n        append([_this.list], popupEle_1);\n        if (_this.inputElement.parentElement && _this.inputElement.parentElement.parentElement && _this.inputElement.parentElement.parentElement.classList.contains('e-richtexteditor')) {\n          if (popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n            popupEle_1.firstElementChild.setAttribute('aria-owns', _this.inputElement.parentElement.parentElement.id);\n          }\n        }\n        if (!_this.popupObj || !document.body.contains(_this.popupObj.element) || !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n          document.body.appendChild(popupEle_1);\n        }\n        var coordinates_1;\n        popupEle_1.style.visibility = 'hidden';\n        _this.setHeight(popupEle_1);\n        var offsetValue = 0;\n        var left = 0;\n        _this.initializePopup(popupEle_1, offsetValue, left);\n        _this.checkCollision(popupEle_1);\n        popupEle_1.style.visibility = 'visible';\n        addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n        if (!isNullOrUndefined(_this.list)) {\n          _this.unWireListEvents();\n          _this.wireListEvents();\n        }\n        _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n        attributes(_this.inputElement, {\n          'aria-owns': _this.inputElement.id + '_options',\n          'aria-activedescendant': _this.selectedElementID\n        });\n        if (_this.selectedElementID == null) {\n          _this.inputElement.removeAttribute('aria-activedescendant');\n        }\n        var animModel = {\n          name: 'FadeIn',\n          duration: 100\n        };\n        _this.beforePopupOpen = true;\n        var popupInstance = _this.popupObj;\n        var eventArgs = {\n          popup: popupInstance,\n          cancel: false,\n          animation: animModel\n        };\n        _this.trigger('opened', eventArgs, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            _this.renderReactTemplates();\n            if (_this.popupObj) {\n              _this.popupObj.show(new Animation(eventArgs.animation), _this.zIndex === 1000 ? _this.inputElement : null);\n            }\n            if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n              return;\n            }\n            coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n            if (!_this.isCollided) {\n              popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n            } else {\n              popupEle_1.style.left = formatUnit(coordinates_1.left);\n              popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString()));\n              _this.isCollided = false;\n            }\n            popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n            _this.setHeight(popupEle_1);\n            popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n          } else {\n            _this.beforePopupOpen = false;\n            _this.destroyPopup();\n          }\n        });\n      } else {\n        _this.beforePopupOpen = false;\n      }\n    });\n  };\n  Mention.prototype.setHeight = function (popupEle) {\n    if (this.popupHeight !== 'auto' && this.list) {\n      this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n      popupEle.style.maxHeight = formatUnit(this.popupHeight);\n    } else {\n      popupEle.style.height = 'auto';\n    }\n  };\n  Mention.prototype.checkCollision = function (popupEle) {\n    if (!Browser.isDevice || Browser.isDevice && !(this.getModuleName() === 'mention')) {\n      var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n      var collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n      if (collision.length > 0) {\n        popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n        this.isCollided = true;\n      }\n      this.popupObj.resolveCollision();\n    }\n  };\n  Mention.prototype.getTriggerCharPosition = function () {\n    var mostRecentTriggerCharPos;\n    var currentRange = this.getTextRange();\n    if (currentRange !== undefined && currentRange !== null) {\n      mostRecentTriggerCharPos = 0;\n      var idx = currentRange.lastIndexOf(this.mentionChar);\n      if (idx >= mostRecentTriggerCharPos) {\n        mostRecentTriggerCharPos = idx;\n      }\n    }\n    return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n  };\n  Mention.prototype.initializePopup = function (element, offsetValue, left) {\n    var _this = this;\n    this.popupObj = new Popup(element, {\n      width: this.setWidth(),\n      targetType: 'relative',\n      relateTo: this.inputElement,\n      collision: {\n        X: 'flip',\n        Y: 'flip'\n      },\n      offsetY: offsetValue,\n      enableRtl: this.enableRtl,\n      offsetX: left,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      actionOnScroll: 'hide',\n      zIndex: this.zIndex,\n      close: function () {\n        _this.destroyPopup();\n      },\n      open: function () {\n        EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n        _this.isPopupOpen = true;\n        _this.setDataIndex();\n      }\n    });\n  };\n  Mention.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n    return width;\n  };\n  Mention.prototype.destroyPopup = function () {\n    this.isPopupOpen = false;\n    this.popupObj.destroy();\n    if (isNullOrUndefined(this.target)) {\n      detach(this.popupObj.element);\n    } else {\n      this.popupObj.element.innerHTML = '';\n      this.popupObj.element.removeAttribute('style');\n      this.popupObj.element.removeAttribute('aria-disabled');\n    }\n  };\n  Mention.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n      this.hidePopup(e);\n    }\n  };\n  Mention.prototype.getCoordinates = function (element, position) {\n    var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n    var div;\n    var span;\n    var range;\n    var globalRange;\n    var coordinates;\n    var computed;\n    var rect;\n    if (!this.isContentEditable(this.inputElement)) {\n      div = this.createElement('div', {\n        className: 'e-form-mirror-div'\n      });\n      document.body.appendChild(div);\n      computed = getComputedStyle(element);\n      div.style.position = 'absolute';\n      div.style.visibility = 'hidden';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      properties.forEach(function (prop) {\n        // eslint-disable-next-line security/detect-object-injection\n        div.style[prop] = computed[prop];\n      });\n      div.textContent = element.value.substring(0, position);\n      if (this.inputElement.nodeName === 'INPUT') {\n        div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n      }\n      span = this.createElement('span');\n      span.textContent = element.value.substring(position) || '.';\n      div.appendChild(span);\n      rect = element.getBoundingClientRect();\n    } else {\n      var selectedNodePosition = this.getTriggerCharPosition();\n      globalRange = this.range;\n      range = document.createRange();\n      if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n        range.setStart(globalRange.startContainer, selectedNodePosition);\n        range.setEnd(globalRange.startContainer, selectedNodePosition);\n      } else {\n        range.setStart(globalRange.startContainer, globalRange.startOffset);\n        range.setEnd(globalRange.startContainer, globalRange.endOffset);\n      }\n      this.isTyped = false;\n      range.collapse(false);\n      rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] : range.getBoundingClientRect();\n    }\n    var doc = document.documentElement;\n    var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n    var width = 0;\n    if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n      for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n        if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n          width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n        } else if (this.range.startContainer.childNodes[i].textContent !== '') {\n          var span_1 = document.createElement(\"span\");\n          span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n          document.body.appendChild(span_1);\n          var textNodeWidth = span_1.offsetWidth;\n          document.body.removeChild(span_1);\n          width += textNodeWidth;\n        }\n      }\n    }\n    if (!this.isContentEditable(this.inputElement)) {\n      coordinates = {\n        top: rect.top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) + parseInt(computed.fontSize, 10) + 3 - element.scrollTop - (this.isCollided ? 10 : 0),\n        left: rect.left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n      };\n      document.body.removeChild(div);\n    } else {\n      coordinates = {\n        top: rect.top + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n        left: rect.left + windowLeft + width\n      };\n    }\n    return coordinates;\n  };\n  Mention.prototype.initValue = function () {\n    this.renderList();\n    if (this.dataSource instanceof DataManager) {\n      this.initRemoteRender = true;\n    } else {\n      this.updateValues();\n    }\n  };\n  Mention.prototype.updateValues = function () {\n    var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (!isNullOrUndefined(li)) {\n      this.setSelection(li, null);\n    }\n  };\n  Mention.prototype.renderList = function () {\n    _super.prototype.render.call(this);\n    this.unWireListEvents();\n    this.wireListEvents();\n  };\n  /**\n   * Event binding for list\n   *\n   * @returns {void}\n   */\n  Mention.prototype.wireListEvents = function () {\n    EventHandler.add(this.list, 'click', this.onMouseClick, this);\n    EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n    EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n  };\n  /**\n   * Event un binding for list items.\n   *\n   * @returns {void}\n   */\n  Mention.prototype.unWireListEvents = function () {\n    EventHandler.remove(this.list, 'click', this.onMouseClick);\n    EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n    EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n  };\n  Mention.prototype.onMouseClick = function (e) {\n    var target = e.target;\n    var li = closest(target, '.' + dropDownBaseClasses.li);\n    if (!this.isValidLI(li)) {\n      return;\n    }\n    this.isSelected = true;\n    this.setSelection(li, e);\n    var delay = 100;\n    this.closePopup(delay, e);\n    this.inputElement.focus();\n  };\n  Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n    var _this = this;\n    this.removeSelection();\n    li.classList.add(dropDownBaseClasses.selected);\n    this.removeHover();\n    var value = this.getFormattedValue(li.getAttribute('data-value'));\n    var selectedData = this.getDataByValue(value);\n    if (!preventSelect && !isNullOrUndefined(e) && !(e.action === \"down\" || e.action === \"up\")) {\n      var items = this.detachChanges(selectedData);\n      this.isSelected = true;\n      var eventArgs = {\n        e: e,\n        item: li,\n        itemData: items,\n        isInteracted: e ? true : false,\n        cancel: false\n      };\n      this.trigger('select', eventArgs, function (eventArgs) {\n        if (eventArgs.cancel) {\n          li.classList.remove(dropDownBaseClasses.selected);\n          _this.isSelected = false;\n          _this.isSelectCancel = true;\n        } else {\n          _this.selectEventCallback(li, selectedData, value);\n          if (isSelection) {\n            _this.setSelectOptions(li, e);\n          }\n        }\n      });\n    } else {\n      this.selectEventCallback(li, selectedData, value);\n      if (isSelection) {\n        this.setSelectOptions(li, e);\n      }\n    }\n  };\n  Mention.prototype.setSelection = function (li, e) {\n    if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || this.isPopupOpen && this.isSelected && li.classList.contains(dropDownBaseClasses.selected))) {\n      this.updateSelectedItem(li, e, false, true);\n    } else {\n      this.setSelectOptions(li, e);\n    }\n  };\n  Mention.prototype.setSelectOptions = function (li, e) {\n    if (this.list) {\n      this.removeHover();\n    }\n    this.previousSelectedLI = !isNullOrUndefined(this.selectedLI) ? this.selectedLI : null;\n    this.selectedLI = li;\n    if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n      this.setScrollPosition(e);\n    }\n    if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n      return;\n    }\n    if (isNullOrUndefined(e) || this.setValue(e)) {\n      return;\n    }\n  };\n  Mention.prototype.setScrollPosition = function (e) {\n    if (!isNullOrUndefined(e)) {\n      switch (e.action) {\n        case 'pageDown':\n        case 'down':\n        case 'end':\n          this.scrollBottom();\n          break;\n        default:\n          this.scrollTop();\n          break;\n      }\n    } else {\n      this.scrollBottom(true);\n    }\n  };\n  Mention.prototype.scrollBottom = function (isInitial) {\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var currentOffset = this.list.offsetHeight;\n      var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n      nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n      var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      if (this.activeIndex === 0) {\n        this.list.scrollTop = 0;\n      } else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = nextOffset;\n      }\n    }\n  };\n  Mention.prototype.scrollTop = function () {\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n      nextOffset = this.fields.groupBy && nextOffset;\n      var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      if (this.activeIndex === 0) {\n        this.list.scrollTop = 0;\n      } else if (nextOffset < 0) {\n        this.list.scrollTop = this.list.scrollTop + nextOffset;\n      } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = this.selectedLI.offsetTop;\n      }\n    }\n  };\n  Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    this.item = li;\n    this.itemData = selectedData;\n    var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (focusedItem) {\n      removeClass([focusedItem], dropDownBaseClasses.focus);\n    }\n    if (selectLi) {\n      addClass([li], dropDownBaseClasses.selected);\n    }\n    li.setAttribute('aria-selected', 'true');\n    this.activeIndex = this.getIndexByValue(value);\n  };\n  Mention.prototype.detachChanges = function (value) {\n    var items;\n    if (typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number') {\n      items = Object.defineProperties({}, {\n        value: {\n          value: value,\n          enumerable: true\n        },\n        text: {\n          value: value,\n          enumerable: true\n        }\n      });\n    } else {\n      items = value;\n    }\n    return items;\n  };\n  Mention.prototype.setValue = function (e) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      if (!isNullOrUndefined(this.displayTemplate)) {\n        this.setDisplayTemplate();\n      }\n      this.updateMentionValue(e);\n      return true;\n    } else {\n      if (!isNullOrUndefined(this.displayTemplate)) {\n        this.setDisplayTemplate(e);\n      } else {\n        this.updateMentionValue(e);\n      }\n      return true;\n    }\n  };\n  Mention.prototype.updateMentionValue = function (e) {\n    var dataItem = this.getItemData();\n    var textSuffix;\n    var value;\n    var endPos;\n    var range;\n    var globalRange;\n    var selection = this.inputElement.ownerDocument.getSelection();\n    var startPos = this.getTriggerCharPosition();\n    textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n    if (this.isSelectCancel) {\n      this.isSelectCancel = false;\n      return;\n    }\n    if (dataItem.text !== null) {\n      value = this.mentionVal(dataItem.text);\n    }\n    if (!this.isContentEditable(this.inputElement)) {\n      var myField = this.inputElement;\n      var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n      value += textSuffix;\n      endPos = startPos + this.mentionChar.length;\n      endPos += currentTriggerSnippet.length;\n      myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n      myField.selectionStart = startPos + value.length;\n      myField.selectionEnd = startPos + value.length;\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      this.onChangeEvent(e);\n    } else {\n      endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n      if (this.range && this.range.startContainer.textContent.trim() !== this.mentionChar) {\n        endPos = this.range.endOffset;\n      }\n      globalRange = this.range;\n      range = document.createRange();\n      if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1 || this.getTextRange() && this.getTextRange().trim() === this.mentionChar) {\n        range.setStart(globalRange.startContainer, startPos);\n        range.setEnd(globalRange.startContainer, endPos);\n      } else {\n        if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n          range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n          range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n        } else {\n          range.setStart(globalRange.startContainer, globalRange.startOffset);\n          range.setEnd(globalRange.startContainer, globalRange.endOffset);\n        }\n      }\n      this.isTyped = false;\n      range.deleteContents();\n      var element = this.createElement('div');\n      element.innerHTML = value;\n      var frag = document.createDocumentFragment();\n      var node = void 0;\n      var lastNode = void 0;\n      // eslint-disable-next-line no-cond-assign\n      while (node = element.firstChild) {\n        lastNode = frag.appendChild(node);\n      }\n      range.insertNode(frag);\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(lastNode);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      this.onChangeEvent(e);\n    }\n  };\n  Mention.prototype.mentionVal = function (value) {\n    var showChar = this.showMentionChar ? this.mentionChar : '';\n    if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n      value = this.displayTempElement.innerHTML;\n    }\n    if (this.isContentEditable(this.inputElement)) {\n      return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n    } else {\n      return showChar + value;\n    }\n  };\n  Mention.prototype.setDisplayTemplate = function (e) {\n    var _this = this;\n    var compiledString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['displayTemplate']);\n      if (this.displayTempElement) {\n        detach(this.displayTempElement);\n        this.displayTempElement = null;\n      }\n    }\n    if (!this.displayTempElement) {\n      this.displayTempElement = this.createElement('div');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.displayTempElement.innerHTML = '';\n    }\n    compiledString = compile(this.displayTemplate);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n    if (displayCompTemp && displayCompTemp.length > 0) {\n      append(displayCompTemp, this.displayTempElement);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.renderTemplates();\n    } else {\n      this.renderTemplates(function () {\n        _this.updateMentionValue(e);\n      });\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  Mention.prototype.renderTemplates = function (callBack) {\n    this.renderReactTemplates(callBack);\n  };\n  Mention.prototype.setSpinnerTemplate = function () {\n    var _this = this;\n    var compiledString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['spinnerTemplate']);\n      if (this.spinnerTemplateElement) {\n        detach(this.spinnerTemplateElement);\n        this.spinnerTemplateElement = null;\n      }\n    }\n    if (!this.spinnerTemplateElement) {\n      this.spinnerTemplateElement = this.createElement('div');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.spinnerTemplateElement.innerHTML = '';\n    }\n    compiledString = compile(this.spinnerTemplate);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n    if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n      for (var i = 0; i < spinnerCompTemp.length; i++) {\n        this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n      }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.renderTemplates();\n      this.popupObj.element.appendChild(this.spinnerTemplateElement);\n    } else {\n      this.renderTemplates(function () {\n        _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n      });\n    }\n  };\n  Mention.prototype.onChangeEvent = function (eve) {\n    this.isSelected = false;\n    var items = this.detachMentionChanges(this.itemData);\n    var preItems;\n    if (typeof this.previousItemData === 'string' || typeof this.previousItemData === 'boolean' || typeof this.previousItemData === 'number') {\n      preItems = Object.defineProperties({}, {\n        value: {\n          value: this.previousItemData,\n          enumerable: true\n        },\n        text: {\n          value: this.previousItemData,\n          enumerable: true\n        }\n      });\n    } else {\n      preItems = this.previousItemData;\n    }\n    var eventArgs = {\n      e: eve,\n      item: this.item,\n      itemData: items,\n      previousItem: this.previousSelectedLI,\n      previousItemData: preItems,\n      isInteracted: eve ? true : false,\n      value: this.item.innerHTML,\n      element: this.inputElement\n    };\n    this.trigger('change', eventArgs);\n  };\n  Mention.prototype.detachMentionChanges = function (value) {\n    var items;\n    if (typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number') {\n      items = Object.defineProperties({}, {\n        value: {\n          value: value,\n          enumerable: true\n        },\n        text: {\n          value: value,\n          enumerable: true\n        }\n      });\n    } else {\n      items = value;\n    }\n    return items;\n  };\n  Mention.prototype.getItemData = function () {\n    var fields = this.fields;\n    var dataItem = null;\n    dataItem = this.itemData;\n    var dataValue;\n    var dataText;\n    if (!isNullOrUndefined(dataItem)) {\n      dataValue = getValue(fields.value, dataItem);\n      dataText = getValue(fields.text, dataItem);\n    }\n    var value = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataValue : dataItem;\n    var text = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataText : dataItem;\n    return {\n      value: value,\n      text: text\n    };\n  };\n  Mention.prototype.removeSelection = function () {\n    if (this.list) {\n      var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n      if (selectedItems.length) {\n        removeClass(selectedItems, dropDownBaseClasses.selected);\n        selectedItems[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n  Mention.prototype.onMouseOver = function (e) {\n    var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n    this.setHover(currentLi);\n  };\n  Mention.prototype.setHover = function (li) {\n    if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n      this.removeHover();\n      addClass([li], dropDownBaseClasses.hover);\n    }\n  };\n  Mention.prototype.removeHover = function () {\n    if (this.list) {\n      var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, dropDownBaseClasses.hover);\n      }\n    }\n  };\n  Mention.prototype.isValidLI = function (li) {\n    return li && li.hasAttribute('role') && li.getAttribute('role') === 'option';\n  };\n  Mention.prototype.onMouseLeave = function () {\n    this.removeHover();\n  };\n  /**\n   * Search the entered text and show it in the suggestion list if available.\n   *\n   * @returns {void}\n   */\n  Mention.prototype.search = function (text, positionX, positionY) {\n    if (this.isContentEditable(this.inputElement)) {\n      this.range = this.getCurrentRange();\n    }\n    var currentRange = this.getTextRange();\n    var lastWordRange = this.getLastLetter(currentRange);\n    if (this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()) || !this.ignoreCase && text === lastWordRange) {\n      this.resetList(this.dataSource, this.fields);\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      return;\n    }\n    if (isNullOrUndefined(this.list)) {\n      this.renderList();\n      this.renderPopup();\n    } else {\n      this.showPopup();\n    }\n    this.popupObj.element.style.left = formatUnit(positionX);\n    this.popupObj.element.style.top = formatUnit(positionY);\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  Mention.prototype.destroy = function () {\n    this.hidePopup();\n    this.unWireEvent();\n    if (this.list) {\n      this.unWireListEvents();\n    }\n    if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n      return;\n    }\n    this.previousSelectedLI = null;\n    this.item = null;\n    this.selectedLI = null;\n    this.inputElement.innerText = null;\n    this.popupObj = null;\n    _super.prototype.destroy.call(this);\n  };\n  Mention.prototype.getLocaleName = function () {\n    return 'mention';\n  };\n  Mention.prototype.getNgDirective = function () {\n    return 'EJS-MENTION';\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  Mention.prototype.getModuleName = function () {\n    return 'mention';\n  };\n  __decorate$7([Property(null)], Mention.prototype, \"cssClass\", void 0);\n  __decorate$7([Property('@')], Mention.prototype, \"mentionChar\", void 0);\n  __decorate$7([Property(false)], Mention.prototype, \"showMentionChar\", void 0);\n  __decorate$7([Property(false)], Mention.prototype, \"allowSpaces\", void 0);\n  __decorate$7([Property(null)], Mention.prototype, \"suffixText\", void 0);\n  __decorate$7([Property(25)], Mention.prototype, \"suggestionCount\", void 0);\n  __decorate$7([Property(0)], Mention.prototype, \"minLength\", void 0);\n  __decorate$7([Property('None')], Mention.prototype, \"sortOrder\", void 0);\n  __decorate$7([Property(true)], Mention.prototype, \"ignoreCase\", void 0);\n  __decorate$7([Property(false)], Mention.prototype, \"highlight\", void 0);\n  __decorate$7([Property()], Mention.prototype, \"locale\", void 0);\n  __decorate$7([Property('auto')], Mention.prototype, \"popupWidth\", void 0);\n  __decorate$7([Property('300px')], Mention.prototype, \"popupHeight\", void 0);\n  __decorate$7([Property(null)], Mention.prototype, \"displayTemplate\", void 0);\n  __decorate$7([Property(null)], Mention.prototype, \"itemTemplate\", void 0);\n  __decorate$7([Property('No records found')], Mention.prototype, \"noRecordsTemplate\", void 0);\n  __decorate$7([Property(null)], Mention.prototype, \"spinnerTemplate\", void 0);\n  __decorate$7([Property()], Mention.prototype, \"target\", void 0);\n  __decorate$7([Property([])], Mention.prototype, \"dataSource\", void 0);\n  __decorate$7([Property(null)], Mention.prototype, \"query\", void 0);\n  __decorate$7([Property('Contains')], Mention.prototype, \"filterType\", void 0);\n  __decorate$7([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], Mention.prototype, \"fields\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"actionBegin\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"actionComplete\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"actionFailure\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"change\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"beforeOpen\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"opened\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"closed\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"select\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"filtering\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"created\", void 0);\n  __decorate$7([Event()], Mention.prototype, \"destroyed\", void 0);\n  Mention = __decorate$7([NotifyPropertyChanges], Mention);\n  return Mention;\n}(DropDownBase);\n\n/**\n * export all modules from current location\n */\n\n/**\n * export all modules from current location\n */\n\nexport { incrementalSearch, Search, escapeCharRegExp, resetIncrementalSearchValues, highlightSearch, revertHighlightSearch, VirtualScroll, FieldSettings, dropDownBaseClasses, DropDownBase, dropDownListClasses, DropDownList, Fields, TreeSettings, DropDownTree, ComboBox, AutoComplete, MultiSelect, CheckBoxSelection, createFloatLabel, updateFloatLabelState, removeFloating, setPlaceHolder, floatLabelFocus, floatLabelBlur, encodePlaceholder, SelectionSettings, ToolbarSettings, ListBox, Mention };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Complex","Component","Event","EventHandler","KeyboardEvents","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","debounce","detach","extend","formatUnit","getComponent","getUniqueID","getValue","isNullOrUndefined","isUndefined","matches","prepend","remove","removeClass","rippleEffect","select","selectAll","setStyleAttribute","setValue","DataManager","DataUtil","JsonAdaptor","Predicate","Query","ListBase","Sortable","cssClass","moveTo","Popup","createSpinner","getZindexPartial","hideSpinner","isCollide","showSpinner","Input","TextBox","Skeleton","Button","createCheckBox","TreeView","queryString","prevString","matches$1","activeClass","prevElementId","incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","String","fromCharCode","setTimeout","index","toLowerCase","i","length","contains","listItems","strLength","text","item","innerText","substr","push","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","_loop_1","itemsData","filterValue","checkField_1","fieldValue_1","split","filter","data","Array","prototype","slice","call","forEach","value","isHeader","textContent","toString","indexOf","getAttribute","replace","RegExp","test","state_1","resetIncrementalSearchValues","highlightSearch","element","query","ignoreRegex","replaceQuery","findTextNode","pattern","childNodes","nodeType","trim","nodeValue","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","__assign","Object","assign","t","s","n","arguments","p","hasOwnProperty","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","VirtualScroll","parent","_this","sentinelInfo","check","rect","info","top","containerElementRect","entered","listItemHeight","virtualItemCount","axis","cHeight","popupContentElement","clientHeight","bottom","removeEventListener","addEventListener","isDestroyed","on","observe","setGeneratedData","dataProcessAsync","setCurrentViewDataAsync","bindScrollEvent","off","component","scrollArgs","scrollListener","callback","getBoundingClientRect","add","popupScrollHandler","touchModule","scroll","bind","virtualScrollHandler","getModuleName","isMouseScrollAction","isPreventScrollAction","getPageQuery","virtualStartIndex","virtualEndIndex","allowFiltering","skip","qStartIndex","recentlyGeneratedData","loopIteration","endIndex","listData","virtualItemStartIndex","alreadyAddedData","generatedDataObject","slicedData","generateAndExecuteQueryAsync","virtualItemEndIndex","isQueryGenerated","resetList","currentData","viewPortInfo","startIndex","renderItems","virtualTrackElement","list","getElementsByClassName","style","GetVirtualTrackHeight","UpdateSkeleton","liCollections","virtualContentElement","getTransformValues","generateQueryAndSetQueryIndexAsync","isPopupOpen","isStartIndexInitialised","queryStartIndex","queryEndIndex","sortedDataStartIndex","vEndIndex","getItems","totalItemCount","isOpenPopup","selectedValueInfo","virtualScrollRefreshAsync","_a","isCustomFilter","isTyped","typedString","filterInput","dataCount","itemCount","getSkeletonCount","keyboardEvent","handleVirtualKeyboardActions","pageCount","sentinel","pStartIndex","previousStartIndex","getInfoFromView","direction","offset","isUpwardScrolling","isKeyBoardAction","isScrollActionTriggered","currentPageNumber","virtualListInfo","isPreventKeyAction","isVirtualScrolling","getPageCount","popupObj","querySelector","updateSelectionList","virtualListCount","listElement","translateY","offsetHeight","transform","previousInfo","popupElement","returnExactCount","liHeight","getComputedStyle","getPropertyValue","height","parseInt","Math","round","getRowHeight","ceil","isscrollAction","infoType","offsets","previousEndIndex","vHeight","rowHeight","exactTopIndex","infoViewIndices","exactEndIndex","pageSizeBy4","sIndex","floor","eIndex","loadAtIndex","idxAddedToExactTop","scrollPreStartIndex","delay","name","prevTop","debounced100","debounced50","target","scrollTop","left","scrollLeft","current","pstartIndex","scrollOffsetargs","infoview","virtualPoup","debounceFunction","focusElement","activeElement","destroy","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","dropDownBaseClasses","root","rtl","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","ITEMTEMPLATE_PROPERTY","DISPLAYTEMPLATE_PROPERTY","SPINNERTEMPLATE_PROPERTY","VALUETEMPLATE_PROPERTY","GROUPTEMPLATE_PROPERTY","HEADERTEMPLATE_PROPERTY","FOOTERTEMPLATE_PROPERTY","NORECORDSTEMPLATE_PROPERTY","ACTIONFAILURETEMPLATE_PROPERTY","HIDE_GROUPLIST","DropDownBase","options","preventChange","isAngular","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isRequesting","isVirtualizationEnabled","isAllowFiltering","virtualizedItemsCount","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","getValueByText","ignoreAccent","checkValueCase","isTextByValue","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","compareValue_1","dataItem","ignoreDiacritics","textItem","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","exception","l10nUpdate","actionFailure","ele","ulElement","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","tempaltecheck","templateName","noDataElement","isReact","isStringTemplate","nodeName","liElem","setAttribute","appendChild","renderReactTemplates","l10nLocale","componentLocale","getLocaleName","locale","getConstant","l10n","getTextByValue","properties","allowCustomValue","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","id","tagName","jsonElement","createJsonFromElement","setProperties","renderItemsBySelect","setListData","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","htmlAttributes","option","getJSONfromOption","optionGroup","child","updateFields","groupBy","iconCss","field","options_1","json","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","event","isActive","eventArgs","cancel","trigger","emptyDataRequest","executeQuery","getQuery","count","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","catch","onActionFailure","dataManager","executeLocal","localDataArgs","itemTemplate","childElementCount","children","updateDataList","childNode","remainingItems","sortedData","updateListValues","raiseDataBound","findListElement","findNode","attribute","liElement","listArr","dataBoundEventArgs","spliceData","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","notify","module","clearTemplate","fixedHeaderElement","postRender","focusItem","selectedItem","updateVirtualizationProperties","filtering","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","createListItems","sortOrder","getSortedDataSource","groupDataSource","take","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","className","display","setFixedHeader","zIndex","scrollStop","getValidLi","topIndex","currentLi","oldUlElement","virtualUlElement","templateID","itemcheck","renderContentTemplate","listDataType","isNullData","parentElement","borderWidth","defaultView","isNaN","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","liWidth","offsetWidth","width","firstLi","textField","getDataSource","addSorting","getIndexByValue","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","setUpdateInitial","updateData","j","keys","onPropertyChanged","setZIndex","isEmptyData","attrs","rippleModel","duration","selector","rippleFun","wrapperElement","insertBefore","addItem","itemIndex","newList","itemsCount","selectedItemValue","itemText","itemCheck","addItemTemplate","updateActionCompleteData","updateAddItemList","listGroupItem","tempLi","splice","validationAttribute","hidden","removeAttribute","attributes$$1","getDataByValue","_b","_c","__extends$1","__decorate$1","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","virtualList","inputObject","container","buttons","DropDownList","skeletonCount","isListSearched","virtualListHeight","IsScrollerAtEnd","scrollHeight","valueTempElement","opacity","initializeData","activeIndex","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initRemoteRender","isNotSearchList","isSelected","preventFocus","preventAutoFill","isValidKey","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","down","up","pageUp","pageDown","open","close","hide","space","requiredModules","modules","enableVirtualization","args","member","unWireListEvents","wireListEvents","floatLabelChange","floatLabelType","floatElement","inputWrapper","inputElement","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","previousItemData","resetSelection","getItemData","onChangeEvent","checkAndResetCache","updateInitialData","selectedLI","cloneNode","setSelection","updateIconState","cloneElements","setHTMLAttributes","htmlAttr","updatedClassValue","enabled","setEnable","readonly","dataBind","defaultAttr","validateAttr","setPlaceholder","getAriaAttributes","setEnabled","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","getElementByValue","listItems_1","liItem","initValue","updateValues","setHiddenValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","resetValueHandler","formElement","val","wireEvent","dropDownClick","focusIn","onSearch","window","windowResize","bindCommonEvent","isDevice","keyboardModule","keyAction","keyActionHandler","keyConfigs","eventName","mobileKeyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","setHover","hoveredItem","hasAttribute","setScrollPosition","spinnerElement","filterInputObj","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","focusEle","isSelectFocusItem","selectedLiOffsetTop","offsetTop","virtualIndex","nextItem","dataset","findLi","steps","previousItem","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectedData","detachChanges","selectEventCallback","setSelectOptions","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","isFilterElement","clearElement","removeProperty","getItem","where","previousSelectedLI","dropdownCompiler","dropdownTemplate","valuecheck","valueCompTemp","selectedItems","dataValue","dataText","eve","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","onFilterUp","ctrlKey","searchLists","getFilteringSkeletonCount","difference","currentSkeletonCount","isSkeletonCountChange","abs","retainSkeleton","listHeight","actualCount","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","clone","filterType","dataType","takeValue","getTakeValue","requiresCount","start","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","isNoData","styles","virualElement","focusIndexItem","setSearchBox","createInput","placeholder","filterBarPlaceholder","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","renderPopup","isContainSkeleton","isContainVirtualList","totalSkeletonCount","skeleton","shape","appendTo","firstChild","outerHeight","tempItemCount","checkVal","some","x","setInputValue","updateActionCompleteDataValues","addNewItem","fieldValue","checkField","newElement","value_1","isExist","actionCompleteDataUpdate","findEle","highlightedItem","styleText","heightDimension","refreshPopup","popupEle","searchBox","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","listitems","searchBoxHeight","maxHeight","offsetValue","getOffsetValue","firstItem","isEmptyList","textIndent","paddingLeft","getFocusElement","createPopup","checkCollision","collision","X","Y","position","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements","getScrollableParent","scrollParentElements_1","scrollHandler","selectedElementID","enable","scrollBottom","inputParent","animModel","popupInstance","popup","animation","show","destroyPopup","marginTop","resolveCollision","popupStyles","borderTop","borderBottom","setPopupPosition","setWidth","targetType","relateTo","offsetY","offsetX","actionList","targetExitViewport","innerHeight","border","popupOffset","lastItem","lastItemOffsetValue","paddingBottom","inputHeight","popupWidth","inputWidth","isInitial","isInitialSelection","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","paddingTop","boxRange","currentElementValue","liCount","firstElementValue","isPageUpKeyAction","scrollTo","isPopupButton","setEleWidth","match","isFilterValue","scrollableParentElements","scrollableParentElements_1","fixedHeader","removeChild","dataSourceCount","role","updatedCssClassValues","setReadOnly","calculateWidth","getListHeight","selectElement","onselect","stopImmediatePropagation","onchange","floatLabelElement","renderComplete","listParent","listParentHeight","footercheck","footerCompTemp","headercheck","headerCompTemp","contentEle","setOldText","setOldValue","checkData","isChangeValue","isChangeText","checkCustomValue","updateInputFields","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","removeFloating","addFloating","setClearButton","ddlProps","newClass","oldClass","invokeRenderPopup","isOpen","proxy_2","onpopstate","pushState","renderHightSearch","isSelectVal","isFocused","blur","attrArray","clear","__extends$2","__decorate$2","RTL","DROPDOWNTREE","HIDDENELEMENT","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","SHOW_DD_ICON","CHIP_INPUT","INPUTFOCUS","INPUTGROUP","ICONANIMATION","CLOSEICON_CLASS","CHIP_WRAPPER","CHIP_COLLECTION","CHIP","CHIP_CONTENT","CHIP_CLOSE","HIDEICON","DDTHIDEICON","POPUP_CLASS","PARENTITEM","CONTENT","DROPDOWN","DISABLED","ICONS","CHECKALLPARENT","CHECKALLHIDE","BIGGER","SMALL","ALLTEXT","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","FILTERWRAP","DDTICON","FOOTER","HEADER","NODATACONTAINER","NODATA","HEADERTEMPLATE","FOOTERTEMPLATE","NORECORDSTEMPLATE","ACTIONFAILURETEMPLATE","CUSTOMTEMPLATE","REMAIN_WRAPPER","OVERFLOW_VIEW","SHOW_TEXT","TOTAL_COUNT_WRAPPER","REMAIN_COUNT","Fields","TreeSettings","DropDownTree","filterTimer","isFilteredData","isFilterRestore","filterDelayTime","isClicked","isCheckAllCalled","isFromFilterChange","keyEntity","isFirstRender","isInitialized","currentText","currentValue","oldValue","removeValue","selectedText","treeItems","isNodeSelected","isDynamicChange","clearIconWidth","customTemplateId","altUp","altDown","shiftTab","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","ctrlA","isTree","popupDiv","ensureAutoCheck","inputEle","inputObj","showDropDownIcon","getDirective","createHiddenElement","createClearIcon","setElementWidth","setAttributes","tree","wireTreeEvents","renderTree","isRemoteData","allowMultiSelection","showCheckBox","mode","createChip","wrapText","overFlowWrapper","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","hasTemplate","customTemplate","treeSettings","autoCheck","hideCheckAll","flag","checkAllEle","renderFilter","filterContainer","autocomplete","filterObj","filterChangeHandler","clearTimeout","filterHandler","treeData","getTreeData","filterFields","cloneFields","treeDataType","selfReferencefilter","nestedFilter","getTreeFields","portals","concat","filteredFields","matchedDataSource","filteredChild","nestedChildFilter","node","isMatchedNode","matchedChildren","filteredItems","matchedData","parentId","parentValue","checkValue","mouseIn","overAllClear","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","isClearButtonClick","showOverAllClear","isValue","chipWrapper","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","isEqual","ddtCompareValues","isChipDelete","newValue","isValid","observedArgs","isValueChange","keyEventArgs","showSelectAll","clickHandler","focusedElement","resetValue","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","overflowCountTemplate","totalCountTemplate","remainContent","totalContent","remainElement","remainSize","delimiterChar","getOverflowVal","enableHtmlSanitizer","sanitize","textArr","join","chips","lastChild","updateRemainTemplate","updateDelimMode","getSelectedData","loadOnDemand","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","touchClass","checkBoxElement","setLocale","firstElementChild","lastElementChild","checkElement","changeState","wrapper","state","ariaState","frameSpan","isReverseUpdate","checkAll","uncheckAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","setValidValue","valArr","selectedNodes","updateMode","checkedNodes","updateSelectedValues","givenText","getNestedItems","newData","objlen","dataId","childData","getChildType","mapper","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","nodeClicked","onNodeClicked","dataBound","OnDataBound","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","isCancelled","updatePopupHeight","checkSelectAll","wrap","getHeight","ddElement","documentElement","isFilter","isFooter","isScroller","getTreeDataType","expandAll","restoreFilterSelection","elements","setEnableRTL","clonedField","cloneChildField","hasChildren","expanded","imageUrl","selectable","tableName","tooltip","treeFields","parentID","getTreeChildren","isChecked","getActualProperties","childFields","ds","len","updateTemplate","getEventArgs","nodeData","getNode","getNodeDetails","removeSelectedData","nodes","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","ddtValue","checkSelection","getNodeData","childItems","getChildNodeData","obj","newChildItems","childNodeData","getChildMapperFields","muteOnChange","textValue","hiddenInputValue","setChipValues","setTagValues","chip","chipContent","removeChip","templatestring","templateComplier","tempArr","setSelectAllWrapper","updateOverflowWrapper","clearCheckAll","selectAllItems","arr","updateTreeSettings","updateValue","updateCheckBoxState","checkBox","noRecord","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","validMode","overFlow","ensureVisible","getData","__extends$3","__decorate$3","SPINNER_CLASS","inputObject$1","ComboBox","preventBlur","targetFocus","inputValue","customValue","allowCustom","valueMuteChange","setHoverList","searchBoxContainer","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","changeData","comboProps","isEscape","searchItem","__extends$4","__decorate$4","AutoComplete","_this_1","isFiltered","searchList","mapping","suggestionCount","queryElements","queries","fn","filterAction","isNoDataElement","minLength","postBackAction","fieldsSettings","itemCreated","highlight","itemCreated_1","showPopupButton","checkFields_1_1","_this_2","atcProps","isHighlight","FLOATLINE","FLOATTEXT","LABELTOP","LABELBOTTOM","createFloatLabel","overAllWrapper","searchWrapper","floatLinelement","encodePlaceholder","updateFloatLabelState","componentWrapper","placeholderElement","floatLine","placeholderText","setPlaceHolder","floatLabelFocus","floatLabelBlur","spanElement","hiddenInput","__extends$5","__decorate$5","FOCUS","DISABLED$1","OVER_ALL_WRAPPER","ELEMENT_WRAPPER","ELEMENT_MOBILE_WRAPPER","HIDE_LIST","DELIMITER_VIEW","CHIP_WRAPPER$1","CHIP$1","CHIP_CONTENT$1","CHIP_CLOSE$1","CHIP_SELECTED","SEARCHBOX_WRAPPER","DELIMITER_VIEW_WRAPPER","ZERO_SIZE","REMAIN_WRAPPER$1","CLOSEICON_CLASS$1","DELIMITER_WRAPPER","POPUP_WRAPPER","INPUT_ELEMENT","RTL_CLASS","CLOSE_ICON_HIDE","MOBILE_CHIP","FOOTER$1","HEADER$1","DISABLE_ICON","SPINNER_CLASS$1","HIDDEN_ELEMENT","dropdownIcon","TOTAL_COUNT_WRAPPER$1","BOX_ELEMENT","FILTERPARENT","CUSTOM_WIDTH","FILTERINPUT","MultiSelect","previousFilterText","selectAllEventData","selectAllEventEle","resetMainList","resetFilteredData","scrollFocusStatus","keyDownStatus","enableRTL","enableGroupCheckBox","prevOnChange","isProtectedOnChange","enableSelectionOrder","hideSelectedItem","closePopupOnSelect","updateHTMLAttribute","popupWrapper","refreshPlaceHolder","containerAttr","updateReadonly","updateCssClass","updateOldPropCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","updateAriaActiveDescendant","isFirstClick","loadTemplate","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","addListFocus","focusAtLastListItem","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","chipCollectionWrapper","tempValues","removeChipSelection","updateDelimeter","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","targetInputElement","getForQuery","predicate","or","adaptor","proxy","checkEle","presentItemValue","addNonPresentItems","updateActionList","mainData","mainListCollection","remoteCustomValue","checkForCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","ariaValue","checkMaxSelection","element1","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","keyUp","char","isWordCharacter","expandTextbox","search","remoteFilterAction","dataUpdater","backCommand","dataChecks","customData","random","JSON","parse","stringify","wrapperClick","isDocClickFromCheck","addTagOnBlur","listLiElement","allowChipAddition","updateListSelection","updateDelimView","focused","removeChipFocus","refreshInputHight","createSpanElement","elementWidth","clientWidth","paddingRight","dropIcon","marginRight","setPlaceholderSize","validateValues","sort","newVal","oldVal","initStatus","updateTempValue","getPagingCount","collection","focusInHandler","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","size","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","onKeyDown","altKey","arrowUp","arrowDown","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","focusFirstListItem","selectAllParent","li_1","moveBy","removeSelectedChip","selectListByKey","hideOverAllClear","limit","selectAllItem","selectAllCheckBox","selectedElem","addChipSelection","moveByTop","filterInputClassName","updateCheck","chipClick","elem","onChipRemove","customVal","setFloatLabelType","removeAllItems","isClearAll","mainElement","removeVal","invokeCheckboxSelection","updateMainList","updateChipStatus","isSelectAll","targetEle","element_1","val_1","removeIndex","hideElement","targetEle_1","clearAllCallback","element2","addValue","addListSelection","addChip","dispatchSelect","isNotTrigger","val_2","isServerRendered","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","multiCompiler","multiselectTemplate","encodeHtmlEntities","charCodeAt","setClass","classes","mouseOut","fieldProperty","listCurrentOptions","checkboxFilter","overAllHeight","selectAllHeight","unwireScrollEvents","checkboxFilterInput","wireScrollEvents","onListMouseDown","textVal","delim","valueLength","hiddenElementContent","valueItem","listValue","updateWrapperText","addValidInputClass","removeListSelection","indexItem","noDataEle","isDynamicGroupItemUpdate","isReactTemplateUpdate","isAngularTemplateUpdate","temp_1","data_1","selectItems","mainlist","addListHover","ariaCheck","delimChar","headerLi","liChecked","liUnchecked","groupValues","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","filterClear","wrapperType","wrapperData","raminElement","remainCompildTemp","checkClearIconWidth","totalWidth","updateRemainWidth","updateRemainingText","remainTemp","totalTemp","newTemp","selectionLimit","textboxValueUpdate","beforeSelectArgs","preventSelectEvent","index_1","count_1","updatedataValueItems","updateHiddenElement","hiddenValue","wrapperText","map","isRemoveAll","onLoadSelect","updateVal","dropDownIcon","reInitializePoup","msProps","mainLiLength","liLength","spellcheck","tabindex","checkInitialValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","checkAutoFocus","ICON","CHECKBOXFRAME$1","CHECK$1","CHECKBOXWRAP$1","INDETERMINATE","searchBackIcon","FOCUS$1","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","setPopupFullScreen","checkboxEle","frameElm","checkboxWrapper","selectAll$$1","validateCheckNode","checkWrap","isCheck","isPrevent","activeLiCount","remLi","ulEle_1","activeListItems","__extends$6","__decorate$6","SelectionSettings","ToolbarSettings","ListBox","isDataSourceUpdate","ListBox_1","inputString","initLoad","isCustomFiltering","initialSelectedOptions","initWrapper","hiddenSelect","selectionSettings","updateSelectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","refEle","jsonData","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getElementById","btn","title","moveFrom","moveAllTo","moveAllFrom","required","setHeight","spinner","refreshClearIcon","KeyUp","listBoxClasses","searchEle","noRecElem","filterWireEvents","initToolbarAndStyles","setCheckboxPosition","setFiltering","filterElem","txtLength","scopedLB","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","scrollParent","boundRect","scrollMoved","clientY","dragValue","droppedElement","getDataByValues","customDraggedItem","liColl","droppedData","selectedOptions","dropValue","listObj","getArgs","sourceArgs","previousData","destArgs","dragArgs","source","previousIndex","currentIndex","sourceArgs1","destination","targetListObj","ul_1","toSortIdx_1","toIdx_1","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","fLiColl_1","currIdx_1","ul_2","fListData_1","fSortData_1","srcIdx","jsonSrcIdx","sortIdx","destIdx","liCollElem_1","removeSelected","sourceElem","sortable","placeHolderElement","dragArgs1","liCollElem","destElem","elems","triggerBeforeItemRender","curData","enableItems","getSelectedItems","updateSelectedOptions","selElems","triggerChange","addItems","removeItems","removeItem","objValue","dupData","itemIdx","removeIdxes","removeLiIdxes","k","updateLiCollection","getElemByValue","moveUpDown","moveTop","moveBottom","targetId","tlistbox","getScopedListBox","moveData","moveAllData","getDataList","getSortedList","sortData","liEle","getElementsByTagName","dataValue1","_loop_2","dataValue2","this_2","ulList","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","getToolElem","toolbarClickHandler","unwireEvents","clearFilterIconElem","selectHandler","liItems","isKey","isSelect","currSelIdx","selectedLi","metaKey","shiftKey","min","prevSelIdx","max","liDataValue_1","value1","values","selectedLis","getDataByElements","getDataByElems","toolbarAction","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","isTop","isBottom","tempItems","reverse","jsonToIdx","fListBox","tListBox","dataIdx","tListData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","rLiCollection_1","n1","n2","toColl","tJsonData","selectNextList","inst","childCnt","liIdx","validIdx","getValidIndex","Number","fromIdx","toIdx","cbox","getGrabbedItems","grabbItems","isDragEnd","stopPropagation","code","upDownKeyHandler","ul","defaultIdx","fliIdx","fli","cli","selectedidx","sidx","eidx","eventArgsData_1","cul","updateSelectTag","clearSelection","dvalue_1","isText","liselect","getSelectTag","checkDisabledState","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","__extends$7","__decorate$7","Mention","suffixText","allowSpaces","mentionChar","showMentionChar","cssClass$$1","isListResetted","isCollided","lineBreak","isSelector","checkAndUpdateInternalComponent","isContentEditable","elementValue","onKeyUp","hideWaitingSpinner","spinnerTemplate","spinnerTemplateElement","isVue","showWaitingSpinner","setSpinnerTemplate","isUpDownKey","rangetextContent","range","getCurrentRange","startContainer","currentRange","getTextRange","lastWordRange","getLastLetter","Regex","charRegex","isMatchedText","charAt","substring","lastIndexOf","didPopupOpenByTypingInitialChar","isMatched","ownerDocument","getSelection","getRangeAt","setDataIndex","startPos","workingNodeContent","selectStartOffset","startOffset","words","wordCnt","popupEle_1","coordinates_1","initializePopup","getTriggerCharPosition","getCoordinates","cssText","coordinates","mostRecentTriggerCharPos","actionOnScroll","div","span","globalRange","computed","selectedNodePosition","createRange","setStart","setEnd","endOffset","collapse","getClientRects","doc","windowLeft","pageXOffset","clientLeft","windowTop","pageYOffset","clientTop","Node","TEXT_NODE","span_1","textNodeWidth","fontSize","offsetLeft","isSelectCancel","selectLi","displayTemplate","setDisplayTemplate","updateMentionValue","textSuffix","endPos","mentionVal","myField","currentTriggerSnippet","commonAncestorContainer","deleteContents","frag","createDocumentFragment","lastNode","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","showChar","displayTempElement","displayCompTemp","renderTemplates","callBack","spinnerCompTemp","detachMentionChanges","positionX","positionY"],"sources":["/Users/marytraore/ANGULAR_PROJECTS/GestionRegionV2/node_modules/@syncfusion/ej2-dropdowns/dist/es6/ej2-dropdowns.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Complex, Component, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, debounce, detach, extend, formatUnit, getComponent, getUniqueID, getValue, isNullOrUndefined, isUndefined, matches, prepend, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, JsonAdaptor, Predicate, Query } from '@syncfusion/ej2-data';\nimport { ListBase, Sortable, cssClass, moveTo } from '@syncfusion/ej2-lists';\nimport { Popup, createSpinner, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nimport { Button, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { TreeView } from '@syncfusion/ej2-navigations';\n\n/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches$1 = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nfunction incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () {\n        queryString = '';\n    }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString) {\n        for (var i = 0; i < matches$1.length; i++) {\n            if (matches$1[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches$1[index] ? matches$1[index] : matches$1[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches$1 = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches$1.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        return matches$1[0];\n    }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nfunction Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var text = void 0;\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        /* eslint-disable security/detect-object-injection */\n                        if (type === 'object' && (!data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1) && checkField_1.getAttribute('data-value') === data[fields.value].toString() || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            text = dataSource && filterValue ? (ignoreCase ? filterValue.toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            /* eslint-disable security/detect-non-literal-regexp */\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n        /* eslint-enable security/detect-non-literal-regexp */\n    }\n    return itemData;\n}\n/* eslint-enable security/detect-object-injection */\nfunction escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nfunction resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches$1 = [];\n    }\n}\n\n/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nfunction highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nfunction revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar VirtualScroll = /** @__PURE__ @class */ (function () {\n    function VirtualScroll(parent) {\n        var _this = this;\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerElementRect.top;\n                    info.entered = top >= 0;\n                    return top + (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) >= 0;\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var cHeight = _this.parent.popupContentElement.clientHeight;\n                    var top = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerElementRect.bottom;\n                    return top - (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n                }, axis: 'Y'\n            }\n        };\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('observe', this.observe, this);\n        this.parent.on('setGeneratedData', this.setGeneratedData, this);\n        this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n        this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n        this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('observe', this.observe);\n        this.parent.off('setGeneratedData', this.setGeneratedData);\n        this.parent.off('dataProcessAsync', this.dataProcessAsync);\n        this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n        this.parent.off('bindScrollEvent', this.bindScrollEvent);\n    };\n    VirtualScroll.prototype.bindScrollEvent = function (component) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.component = component.component;\n        this.observe(function (scrollArgs) { return _this.scrollListener(scrollArgs); });\n    };\n    VirtualScroll.prototype.observe = function (callback) {\n        this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n        EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n        this.touchModule = new Touch(this.parent.popupContentElement, {\n            scroll: this.popupScrollHandler.bind(this)\n        });\n        EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n    };\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'VirtualScroll';\n    };\n    VirtualScroll.prototype.popupScrollHandler = function (e) {\n        this.parent.isMouseScrollAction = true;\n        this.parent.isPreventScrollAction = false;\n    };\n    VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n        if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n            query = query.skip(virtualStartIndex);\n        }\n        return query;\n    };\n    VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n        var loopIteration = 0;\n        var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n        for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (!alreadyAddedData) {\n                if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n                    var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n                    if (slicedData.length > 0) {\n                        // Safely assign slicedData to this.parent.generatedDataObject[i]\n                        this.parent.generatedDataObject[i] = slicedData;\n                    }\n                }\n            }\n            loopIteration++;\n        }\n    };\n    VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n        if (virtualItemStartIndex === void 0) { virtualItemStartIndex = 0; }\n        if (virtualItemEndIndex === void 0) { virtualItemEndIndex = 0; }\n        if (isQueryGenerated === void 0) { isQueryGenerated = false; }\n        var dataSource = this.parent.dataSource;\n        if (!isQueryGenerated) {\n            query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n        }\n        this.parent.resetList(dataSource, this.parent.fields, query);\n    };\n    VirtualScroll.prototype.setCurrentViewDataAsync = function () {\n        // eslint-disable-next-line\n        var currentData = [];\n        for (var i = this.parent.viewPortInfo.startIndex; i < this.parent.viewPortInfo.endIndex; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (alreadyAddedData) {\n                currentData.push(alreadyAddedData[0]);\n            }\n        }\n        this.parent.renderItems(currentData, this.parent.fields);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            (virtualTrackElement).style = this.parent.GetVirtualTrackHeight();\n        }\n        this.parent.UpdateSkeleton();\n        this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.parent.getTransformValues();\n        }\n    };\n    VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n        var isStartIndexInitialised = false;\n        var queryStartIndex = 0;\n        var queryEndIndex = 0;\n        var sortedDataStartIndex = 0;\n        var vEndIndex = this.parent && this.parent.viewPortInfo.endIndex !== 0 ? this.parent.viewPortInfo.endIndex : sortedDataStartIndex + this.parent.getItems().length;\n        if (!isPopupOpen && vEndIndex !== 0) {\n            for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n                if (!(i in this.parent.generatedDataObject)) {\n                    if (!isStartIndexInitialised) {\n                        isStartIndexInitialised = true;\n                        queryStartIndex = queryEndIndex = i;\n                    }\n                    else {\n                        queryEndIndex = i === vEndIndex ? i : i + 1;\n                    }\n                }\n            }\n        }\n        if (isStartIndexInitialised && !((this.parent.totalItemCount == queryStartIndex) && (this.parent.totalItemCount == queryEndIndex))) {\n            this.parent.virtualItemStartIndex = queryStartIndex;\n            this.parent.virtualItemEndIndex = queryEndIndex;\n            this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n        }\n        this.setCurrentViewDataAsync();\n    };\n    VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n        this.parent.selectedValueInfo = null;\n        this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n        this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n        this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n    };\n    VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.parent.isCustomFilter = (!(this.parent.isTyped || (this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString != this.parent.typedString) || (!isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '') && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null)) || this.parent.isCustomFilter;\n                        if (this.parent.allowFiltering || this.component === 'autocomplete') {\n                            if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                                }\n                                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                                }\n                            }\n                            else {\n                                this.parent.getSkeletonCount(true);\n                            }\n                        }\n                        return [4 /*yield*/, this.dataProcessAsync()];\n                    case 1:\n                        _a.sent();\n                        if (this.parent.keyboardEvent != null) {\n                            this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n                        }\n                        this.parent.isCustomFilter = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n        var _this = this;\n        if (!this.parent.isPreventScrollAction) {\n            var info = scrollArgs.sentinel;\n            var pStartIndex = this.parent.previousStartIndex;\n            this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n            this.parent.isUpwardScrolling = false;\n            if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n                this.parent.isScrollActionTriggered = false;\n                this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n                this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n                this.parent.isPreventKeyAction = true;\n                this.parent.isVirtualScrolling = true;\n                setTimeout(function () {\n                    _this.parent.pageCount = _this.parent.getPageCount();\n                    _this.virtualScrollRefreshAsync().then(function () {\n                        if (_this.parent.popupObj) {\n                            _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n                            _this.parent.updateSelectionList();\n                            _this.parent.liCollections = _this.parent.getItems();\n                        }\n                        _this.parent.isKeyBoardAction = false;\n                        _this.parent.isVirtualScrolling = false;\n                        _this.parent.isPreventKeyAction = false;\n                    });\n                }, 5);\n            }\n            else if (this.parent.isScrollActionTriggered) {\n                this.parent.isPreventKeyAction = false;\n                this.parent.isScrollActionTriggered = false;\n                var virtualListCount = this.parent.list.querySelectorAll('.e-virtual-list').length;\n                var listElement = this.parent.list.querySelector('.' + 'e-list-item');\n                var translateY = scrollArgs.offset.top - (listElement.offsetHeight * virtualListCount);\n                this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style.transform = \"translate(0px,\" + translateY + \"px)\";\n            }\n            this.parent.previousInfo = this.parent.viewPortInfo;\n        }\n    };\n    VirtualScroll.prototype.getPageCount = function (popupElement, returnExactCount) {\n        if (returnExactCount === void 0) { returnExactCount = false; }\n        var list = popupElement && popupElement.querySelector('.e-content');\n        if (list) {\n            var liHeight = list.classList.contains('e-nodata') ? null : getComputedStyle(list.querySelectorAll('.e-list-item')[0], null).getPropertyValue('height');\n            var pageCount = list.getBoundingClientRect().height / parseInt(liHeight, 10);\n            return returnExactCount ? pageCount : Math.round(pageCount);\n        }\n        return 0;\n    };\n    \n    VirtualScroll.prototype.getRowHeight = function () {\n        return (isNullOrUndefined(this.parent.liCollections) || this.parent.liCollections.length == 0) ? 0 : Math.ceil(this.parent.liCollections[0].getBoundingClientRect().height);\n    };\n    VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n        var infoType = {\n            direction: direction, sentinelInfo: info, offsets: e,\n            startIndex: this.parent.previousStartIndex, endIndex: this.parent.previousEndIndex\n        };\n        var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n        //Row Start and End Index calculation\n        var rowHeight = this.parent.listItemHeight;\n        var exactTopIndex = e.top / rowHeight;\n        var infoViewIndices = vHeight / rowHeight;\n        var exactEndIndex = exactTopIndex + infoViewIndices;\n        var pageSizeBy4 = this.parent.virtualItemCount / 4;\n        var totalItemCount = this.parent.totalItemCount;\n        if (infoType.direction === 'down') {\n            var sIndex = Math.round(exactEndIndex) - Math.round((pageSizeBy4));\n            if (isNullOrUndefined(infoType.startIndex) || (exactEndIndex >\n                (infoType.startIndex + Math.round((this.parent.virtualItemCount / 2 + pageSizeBy4)))\n                && infoType.endIndex !== totalItemCount)) {\n                infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n                infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n                var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n                infoType.startIndex = eIndex < exactEndIndex ? (Math.ceil(exactEndIndex) - this.parent.virtualItemCount)\n                    : infoType.startIndex;\n                infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                infoType.startIndex = eIndex >= totalItemCount ? (infoType.endIndex - this.parent.virtualItemCount > 0 ? infoType.endIndex - this.parent.virtualItemCount : 0) : infoType.startIndex;\n                infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n            }\n        }\n        else if (infoType.direction === 'up') {\n            if (infoType.startIndex && infoType.endIndex) {\n                var loadAtIndex = Math.round(((infoType.startIndex * rowHeight) + (pageSizeBy4 * rowHeight)) / rowHeight);\n                if (exactTopIndex < loadAtIndex) {\n                    var idxAddedToExactTop = (pageSizeBy4) > infoViewIndices ? pageSizeBy4 :\n                        (infoViewIndices + infoViewIndices / 4);\n                    var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n                    infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                    var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n                    infoType.startIndex = sIndex > 0 ? sIndex : 0;\n                    infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n                    infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n                }\n            }\n        }\n        if (!isscrollAction) {\n            this.parent.previousStartIndex = infoType.startIndex;\n            this.parent.startIndex = infoType.startIndex;\n            this.parent.previousEndIndex = infoType.endIndex;\n        }\n        else {\n            this.parent.scrollPreStartIndex = infoType.startIndex;\n        }\n        return infoType;\n    };\n    VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var prevTop = 0;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n            prevTop = top;\n            var current = _this.sentinelInfo[direction];\n            var pstartIndex = _this.parent.scrollPreStartIndex;\n            var scrollOffsetargs = {\n                top: top,\n                left: left\n            };\n            if (_this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n                var infoview = _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n                if (_this.parent.scrollPreStartIndex != pstartIndex && !_this.parent.isPreventScrollAction) {\n                    _this.parent.isScrollActionTriggered = true;\n                    var virtualPoup = (_this.parent.list.querySelector('.e-virtual-ddl-content'));\n                    virtualPoup.style.transform = \"translate(0px,\" + top + \"px)\";\n                }\n            }\n            var debounceFunction = debounced100;\n            if (current.axis === 'X') {\n                debounceFunction = debounced50;\n            }\n            debounceFunction({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                focusElement: document.activeElement });\n        };\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\n\n/**\n * Common source\n */\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FieldSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nvar dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @__PURE__ @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        ele.appendChild(noDataElement[i]);\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager) {\n                        _this.isRequested = true;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!e.cancel) {\n                                    var listItems = e.result;\n                                    if (listItems.length === 0) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    _this.dataCount = e.count;\n                                    _this.totalItemCount = e.count;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                }\n                                _this.isRequesting = false;\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var dataManager = new DataManager(eventArgs.data);\n                        var listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.dataCount = listItems.count;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.totalItemCount = listItems.count;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled) {\n            this.notify(\"setGeneratedData\", {\n                module: \"VirtualScroll\",\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n            if (fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            addClass([this.list], dropDownBaseClasses.grouping);\n        }\n        else {\n            dataSource = this.getSortedDataSource(dataSource);\n        }\n        var options = this.listOption(dataSource, fields);\n        var spliceData = (dataSource.length > 100) ?\n            new DataManager(dataSource).executeLocal(new Query().take(100))\n            : dataSource;\n        this.sortedData = dataSource;\n        return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        for (var i = topIndex; i > -1; i--) {\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n                var currentLi = liCollections[i];\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n                this.fixedHeaderElement.style.top = target.scrollTop + 'px';\n                this.fixedHeaderElement.style.display = 'block';\n                break;\n            }\n            else {\n                this.fixedHeaderElement.style.display = 'none';\n                this.fixedHeaderElement.style.top = 'none';\n            }\n        }\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                    this.listData = listData;\n                    this.postRender(this.list, listData, this.bindEvent);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.list.appendChild(ulElement);\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                    this.listData = listData;\n                    this.postRender(this.list, listData, this.bindEvent);\n                }\n            }\n        }\n        else {\n            ulElement = this.createListItems(listData, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                    this.listData = listData;\n                    this.postRender(this.list, listData, this.bindEvent);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.list.appendChild(ulElement);\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                    this.listData = listData;\n                    this.postRender(this.list, listData, this.bindEvent);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n        }\n        else {\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            this.listData.push(item);\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            this.updateActionCompleteData(li, item, index);\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index]) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            if (!target.getAttribute(attributes$$1[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes$$1[i]);\n            hidden.setAttribute(attributes$$1[i], attr);\n            target.removeAttribute(attributes$$1[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\n\n/**\n * export all modules from current location\n */\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\n// don't use space in classnames\nvar dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.skeletonCount = 32;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.itemCount = 10;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if (this.previousValue === dataItem.value) {\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            this.setSelection(this.getElementByValue(this.value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut();\n    };\n    DropDownList.prototype.onFocusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(null);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n            if (!isNullOrUndefined(li)) {\n                this.setSelection(li, e);\n                this.setScrollPosition();\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                this.renderList(e);\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization) {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.selectedLI.dataset.value;\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization) {\n                    findLi = this.skeletonCount;\n                }\n            }\n            else {\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                var count = (pageCount * 2) - 4;\n                this.activeIndex = Math.round(count);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = 1;\n                this.pageDownSelection(this.activeIndex + this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.getPageCount = function (returnExactCount) {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n        return returnExactCount ? pageCount : Math.round(pageCount);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps >= 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                this.isInteracted = false;\n                this.hidePopup(e);\n                if (!isActive) {\n                    this.onFocusOut();\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== \"null\" ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData != selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == \"object\" ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if (this.previousValue === dataItem.value) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', this.value)));\n                if (getItem && getItem.length > 0) {\n                    this.itemData = getItem[0];\n                    this.setProperties({ 'text': getItem[0].text, 'value': getItem[0].value }, true);\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve) {\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': dataItem.value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', this.value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', this.value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    if (this.enableVirtualization) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.getFilteringSkeletonCount = function () {\n        var difference = this.dataCount - this.viewPortInfo.endIndex;\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount > this.itemCount * 2 ? this.skeletonCount : difference > this.skeletonCount ? this.skeletonCount : difference > 0 ? difference : 0;\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            var isSkeletonCountChange = currentSkeletonCount !== this.skeletonCount;\n            if (currentSkeletonCount !== this.skeletonCount) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listHeight != null ? parseInt(this.listHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 2 < this.itemCount ? this.itemCount : actualCount * 2;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2) + 2;\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0)) {\n            var takeValue = this.getTakeValue();\n            if (this.allowFiltering) {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n            filterQuery.take(takeValue);\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            this.checkAndResetCache();\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = (!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') ?\n                false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                this.list.appendChild(this.createElement('div', {\n                                    className: 'e-virtual-ddl-content',\n                                    styles: this.getTransformValues()\n                                })).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                                });\n                                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.enableVirtualization) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownListClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.enableVirtualization && this.itemTemplate) {\n                    liElement.style.height = this.listItemHeight + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: \"Text\",\n                    height: \"10px\",\n                    width: \"95%\",\n                    cssClass: \"e-skeleton-text\",\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n            }\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            if (this.initRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === _this.value : x[checkField_1] === _this.value;\n                    });\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', this.value)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                if (!this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount != this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_1 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_1) ||\n                    (getValue(_this.fields.value, data) === value_1));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value)) {\n            var findEle = this.findListElement(this.list, 'li', 'data-value', this.value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.checkAndResetCache = function () {\n        if (this.enableVirtualization) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = { currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount, };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownList.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        return heightDimension;\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        _this.list.appendChild(_this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: _this.getTransformValues()\n                        })).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup', className: 'e-virtual-ddl', styles: _this.GetVirtualTrackHeight()\n                        });\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.getFocusElement();\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify(\"bindScrollEvent\", {\n                        module: \"VirtualScroll\",\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization,\n                    });\n                    setTimeout(function () {\n                        if (_this.value) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_options' });\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            this.hidePopup();\n        }\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageDown\" ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction != \"end\" && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            this.list.scrollTop += this.selectedLI.offsetHeight * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction == \"end\") {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction == \"pageDown\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                            nextOffset = nextOffset + (this.selectedLI.offsetHeight * liCount);\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                \n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageUp\" ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction != \"home\" && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= this.selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction == \"home\") {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction == \"pageUp\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        nextOffset = nextOffset - (this.selectedLI.offsetHeight * liCount);\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action == 'up' || e.action == 'pageUp' || e.action == 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString != \"\") || (this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString != \"\")) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount == 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n            this.actionCompleteData.ulElement = this.ulElement.cloneNode(true);\n        }\n        var dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        if (this.enableVirtualization && this.isFiltering() && this.value != null && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = \"\";\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        this.getSkeletonCount();\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'aria-label': this.getModuleName(), 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType === 'Auto') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n            this.itemData = null;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) || !(props.dataSource === [])) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        this.setProperties({ 'text': dataItem.text, 'value': dataItem.value });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender) {\n                        var item = this_1.getElementByValue(newProp.value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.value)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify(\"setCurrentViewDataAsync\", {\n                    module: \"VirtualScroll\",\n                });\n            }\n        }\n        this.invokeRenderPopup(e);\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify(\"dataProcessAsync\", {\n                module: \"VirtualScroll\",\n                isOpen: true,\n            });\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', this.value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType === 'Auto') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && this.getModuleName() === 'combobox') {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType === 'Auto' && this.inputElement.value === '') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.keyboardModule = null;\n        this.ulElement = null;\n        this.list = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.inputWrapper = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.isAngular) {\n            this.inputElement = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate$1([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate$1([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate$1([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$1([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate$1([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate$1([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate$1([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\n\n/**\n * export all modules from current location\n */\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate$2([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate$2([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate$2([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate$2([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate$2([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate$2([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate$2([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate$2([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate$2([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate$2([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate$2([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate$2([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate$2([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate$2([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nvar TreeSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate$2([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate$2([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        // eslint-disable-next-line\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_popup', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        this.ensureAutoCheck();\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNullOrUndefined(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('role', 'textbox');\n            }\n            if (isNullOrUndefined(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        document.body.appendChild(this.popupDiv);\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        this.isInitialized = true;\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.ensureAutoCheck = function () {\n        if (this.allowFiltering && this.treeSettings.autoCheck) {\n            this.setProperties({ treeSettings: { autoCheck: false } }, true);\n        }\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNullOrUndefined(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNullOrUndefined(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNullOrUndefined(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value,\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (value === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    fields = _this.cloneFields(_this.fields);\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(value, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(value, args.fields);\n                        }\n                    }\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n                if (_this.hasTemplate && _this.portals) {\n                    _this.portals = [].concat(_this.treeObj.portals);\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        // eslint-disable-next-line\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            // eslint-disable-next-line\n            var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n            if (!isNullOrUndefined(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        // eslint-disable-next-line\n        var children = node[this.fields.child];\n        if (isNullOrUndefined(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            // eslint-disable-next-line\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                // eslint-disable-next-line\n                var filteredChild = this.nestedChildFilter(value, children[i]);\n                if (!isNullOrUndefined(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        // eslint-disable-next-line\n        var matchedData = [];\n        // eslint-disable-next-line\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                // eslint-disable-next-line\n                var parentId = matchedData[i][this.fields.parentValue];\n                while (!isNullOrUndefined(parentId)) {\n                    // eslint-disable-next-line\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        // eslint-disable-next-line\n                        var value_1 = this.treeData[j][this.fields.value];\n                        if (!isNullOrUndefined(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNullOrUndefined(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.isMatchedNode = function (value, node) {\n        var checkValue = node[this.fields.text];\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNullOrUndefined(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        var focusedElement = _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        var disable = this.enabled ? 'false' : 'true';\n        return {\n            'aria-disabled': disable,\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            // eslint-disable-next-line\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if (this.mode !== 'Box') {\n                    for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    addClass([this.chipWrapper], HIDEICON);\n                    var ele = this.chipWrapper.cloneNode(true);\n                    var chips = selectAll('.' + CHIP, ele);\n                    for (var i = 0; i < chips.length; i++) {\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.appendChild(chips[i]);\n                        data = this.overFlowWrapper.innerHTML;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                i = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - i;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = i;\n                        }\n                        else if (i === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n            }\n            if (remaining > 0) {\n                this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n            }\n            if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([remainElement], REMAIN_COUNT);\n            }\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        // eslint-disable-next-line\n        var selectedData = this.getSelectedData(this.value[index]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '' }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes$$1[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes$$1[i], attr);\n                this.inputEle.removeAttribute(attributes$$1[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            // eslint-disable-next-line\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            // eslint-disable-next-line\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNullOrUndefined(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNullOrUndefined(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            // eslint-disable-next-line\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNullOrUndefined(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNullOrUndefined(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                });\n                if (difference.length > 0 || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getItems = function (givenText) {\n        // eslint-disable-next-line\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                // eslint-disable-next-line\n                var text = getValue(this.fields.text, this.treeItems[i]);\n                if (!isNullOrUndefined(this.treeItems[i]) && !isNullOrUndefined(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        // eslint-disable-next-line\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            // eslint-disable-next-line\n            var dataId = getValue(this.fields.text, data[i]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNullOrUndefined(getValue(field.child, data[i]))) {\n                // eslint-disable-next-line\n                var childData = getValue(field.child, data[i]);\n                // eslint-disable-next-line\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', data[i]))) {\n                var child = 'child';\n                // eslint-disable-next-line\n                newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNullOrUndefined(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo('#' + this.tree.id);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_popup', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled) {\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                /* eslint-disable */\n                if (_this.hasTemplate && _this.portals) {\n                    _this.portals = _this.portals.concat(_this.treeObj.portals);\n                    /* eslint-enable */\n                    _this.renderReactTemplates();\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputWrapper, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = _this.treeObj.element.querySelector('li');\n                    focusedElement.focus();\n                    addClass([focusedElement], ['e-node-focus']);\n                }\n                if (_this.checkSelectAll && _this.checkBoxElement) {\n                    var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                    _this.changeState(wrap, 'check');\n                    _this.checkSelectAll = false;\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNullOrUndefined(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNullOrUndefined(this.inputWrapper) && this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNullOrUndefined(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNullOrUndefined(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNullOrUndefined(this.fields.dataSource))\n            this.fields.dataSource = [];\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNullOrUndefined(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNullOrUndefined(getValue(field.parentValue, this.fields.dataSource[i])) || !isNullOrUndefined(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        // eslint-disable-next-line\n        var checkData = args.data;\n        // eslint-disable-next-line\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            // eslint-disable-next-line\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li .e-checkbox-wrapper[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0)) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled)) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function (args) {\n        if (this.hasTemplate && this.portals) {\n            this.portals = [].concat(this.treeObj.portals);\n            /* eslint-enable */\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNullOrUndefined(this.value) || (this.value && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length == 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNullOrUndefined(this.value) ? [] : this.value;\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNullOrUndefined(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n        }\n        this.updateSelectedValues();\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getSelectedData = function (value) {\n        // eslint-disable-next-line\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNullOrUndefined(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNullOrUndefined(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id) {\n        var childItems;\n        if (isNullOrUndefined(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, this.treeItems[i]);\n                if (!isNullOrUndefined(this.treeItems[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n                    return this.treeItems[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(this.treeItems, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNullOrUndefined(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNullOrUndefined(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNullOrUndefined(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        // eslint-disable-next-line\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNullOrUndefined(this.value)) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        // eslint-disable-next-line\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            // eslint-disable-next-line\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        // eslint-disable-next-line\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (this.value == [] && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = true;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        var value = Object.keys(prop.treeSettings)[0];\n        if (value === 'autoCheck') {\n            this.ensureAutoCheck();\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (value === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (value === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            /* eslint-disable */\n            this.portals = [];\n            /* eslint-enable */\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n        this.ensureAutoCheck();\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNullOrUndefined(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNullOrUndefined(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    this.updateTreeSettings(newProp);\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== \"Custom\") {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = \"\";\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ value: [] }, true);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    // eslint-disable-next-line\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj };\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputWrapper, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            this.trigger('close', eventArgs);\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate$2([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate$2([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property(\"${value.length} item(s) selected\")\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate$2([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate$2([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$2([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate$2([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate$2([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate$2([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate$2([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate$2([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate$2([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate$2([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate$2([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate$2([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate$2([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate$2([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate$2([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate$2([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate$2([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\n\n/**\n * export all modules from current location\n */\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject$1 = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject$1;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': dataItem.value }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && previousValue === this.value && currentValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n                if (previousValue_1 !== this.value) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        if (previousValue !== this.value) {\n            this.onChangeEvent(e);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     * @deprecated\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     * @deprecated\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate$3([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate$3([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate$3([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate$3([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate$3([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate$3([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate$3([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate$3([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate$3([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate$3([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate$3([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate$3([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate$3([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate$3([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    ComboBox = __decorate$3([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\n\n/**\n * export all modules from current location\n */\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        _this_1.isFiltered = false;\n        _this_1.searchList = false;\n        return _this_1;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        if (this.enableVirtualization) {\n            var takeValue = this.getTakeValue();\n            filterQuery.skip(this.virtualItemStartIndex);\n            filterQuery.take(takeValue);\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this_1 = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        this.checkAndResetCache();\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, e, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields, null, e);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this_1.isFiltered = true;\n                _this_1.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n                _this_1.searchList = true;\n                _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n        this.beforePopupOpen = true;\n        var isNoDataElement = this.list.classList.contains('e-nodata');\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query, e);\n            if (this.enableVirtualization && isNoDataElement && !this.list.classList.contains('e-nodata')) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n        }\n        else {\n            this.hidePopup(e);\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n            this.checkAndResetCache();\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var dataSource = this.listData;\n            var type = this.typeOfData(dataSource).typeof;\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            this.selectedLI = li;\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                var isKeyNavigate = (e && e.action === 'down' || e.action === 'up' ||\n                    e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n                _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n            }\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this_1 = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                }\n                itemCreated_1.apply(_this_1, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function (e) {\n        if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        _super.prototype.renderPopup.call(this, e);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n        var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n        var value = newProp && newProp.text ? newProp.text : newProp && newProp.value ? newProp.value : this.value;\n        if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n            var checkFields_1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n            var listLength_1 = this.getItems().length;\n            var query = new Query();\n            var _this_2 = this;\n            new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields_1_1, 'equal', value)))\n                .then(function (e) {\n                if (e.result.length > 0) {\n                    _this_2.value = checkFields_1_1 !== '' ? e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n                    _this_2.addItem(e.result, listLength_1);\n                    _this_2.updateValues();\n                }\n                else {\n                    newProp && newProp.text ? _this_2.setOldText(oldValue) : newProp && newProp.value ? _this_2.setOldValue(oldValue) : _this_2.updateValues();\n                }\n            });\n        }\n        else if (newProp) {\n            newProp.text ? this.setOldText(oldValue) : this.setOldValue(oldValue);\n        }\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.showPopup = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList(e);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, null, e);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function (e) {\n        _super.prototype.hidePopup.call(this, e);\n        this.activeIndex = null;\n        this.virtualListInfo = this.viewPortInfo;\n        this.previousStartIndex = this.viewPortInfo.startIndex;\n        this.startIndex = this.viewPortInfo.startIndex;\n        this.previousEndIndex = this.viewPortInfo.endIndex;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                        }\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate$4([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate$4([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate$4([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate$4([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate$4([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate$4([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate$4([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate$4([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate$4([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\n\n/**\n * export all modules from current location\n */\n\n/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement = createElement('span', { className: FLOATLINE });\n    var floatLabelElement = createElement('label', { className: FLOATTEXT });\n    var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n    element.id = id;\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(inputElement, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerText = encodePlaceholder(placeholder);\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nfunction updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nfunction floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nfunction floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\nfunction encodePlaceholder(placeholder) {\n    var result = '';\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        var spanElement = document.createElement('span');\n        spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n        var hiddenInput = (spanElement.children[0]);\n        result = hiddenInput.placeholder;\n    }\n    return result;\n}\n/* eslint-enable valid-jsdoc */\n\nvar __extends$5 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nvar FOCUS = 'e-input-focus';\nvar DISABLED$1 = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER$1 = 'e-chips-collection';\nvar CHIP$1 = 'e-chips';\nvar CHIP_CONTENT$1 = 'e-chipcontent';\nvar CHIP_CLOSE$1 = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER$1 = 'e-remain';\nvar CLOSEICON_CLASS$1 = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER$1 = 'e-ddl-footer';\nvar HEADER$1 = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS$1 = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER$1 = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @__PURE__ @class */ (function (_super) {\n    __extends$5(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     *\n     * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.clearIconWidth = 0;\n        _this.previousFilterText = '';\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.resetMainList = null;\n        _this.resetFilteredData = false;\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class': {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                            addClass([this.popupWrapper], updatedClassValue.split(' '));\n                        }\n                        break;\n                    }\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default: {\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            if (state || this.mode === 'CheckBox') {\n                this.inputElement.setAttribute('readonly', 'true');\n            }\n            else {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            var updatedCssClassValues = this.cssClass;\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n            if (updatedCssClassValues !== '') {\n                addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n                addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n            if (oldClass !== '') {\n                removeClass([this.overAllWrapper], oldClass.split(' '));\n                removeClass([this.popupWrapper], oldClass.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function (e) {\n        var _this = this;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, event: e, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                if (_this.popupObj) {\n                    document.body.appendChild(_this.popupObj.element);\n                }\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.renderReactTemplates();\n                if (_this.popupObj) {\n                    _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                }\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.inputElement.id + '_options' });\n                _this.updateAriaActiveDescendant();\n                if (_this.isFirstClick) {\n                    _this.loadTemplate();\n                }\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', this.value[this.value.length - 1]);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                element = this.ulElement.querySelector('li.'\n                    + dropDownBaseClasses.li + ':not(.'\n                    + HIDE_LIST + ')');\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                Search(this.value[this.value.length - 1], this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            this.scrollBottom(activeElement.item, activeElement.index);\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        if (!isNullOrUndefined(this.ulElement)) {\n            attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n        }\n        var disableStatus = !isNullOrUndefined(this.inputElement) && (this.inputElement.disabled) ? true : false;\n        if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, this.getAriaAttributes());\n        }\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.value.slice();\n        }\n        var customValue = this.getFormattedValue(value);\n        if (this.allowCustomValue && (value !== 'false' && customValue === false || (!isNullOrUndefined(customValue) &&\n            customValue.toString() === 'NaN'))) {\n            customValue = value;\n        }\n        this.removeValue(customValue, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        for (var i = 0; i < valuecheck.length; i++) {\n            if (i === 0) {\n                predicate = new Predicate(field, 'equal', valuecheck[i]);\n            }\n            else {\n                predicate = predicate.or(field, 'equal', valuecheck[i]);\n            }\n        }\n        if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n            return new Query().where(predicate);\n        }\n        else {\n            return this.getQuery(this.query).clone().where(predicate);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.updateSelectElementData(this.allowFiltering);\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n            for (var i = 0; i < this.value.length; i++) {\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', proxy.value[i]);\n                if (!checkEle && !(this.dataSource instanceof DataManager)) {\n                    this.value.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            valuecheck = this.presentItemValue(this.ulElement);\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n            && this.listData != null) {\n            this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n        if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n            this.removeFocus();\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            return;\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) && this.inputElement.value.trim() !== '') ||\n            this.mode === 'CheckBox' || ((this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering &&\n            this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === ''))) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown(e);\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                            this.updateAriaActiveDescendant();\n                        }\n                        else {\n                            //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                            if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                                this.l10nUpdate();\n                                addClass([this.list], dropDownBaseClasses.noData);\n                            }\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.getElementsByClassName('e-check').length;\n                        if (ariaValue === 0) {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.getValidLi = function () {\n        var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n        return (!isNullOrUndefined(liElement) ? liElement : this.liCollections[0]);\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox') {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup(e);\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.keyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.filterAction) {\n            if (this.targetElement() !== null) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            return filterQuery;\n        }\n        else {\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                if (this.allowCustomValue && list.querySelectorAll('li').length == 0 && this.mainData.length > 0) {\n                    this.mainData = [];\n                }\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var field = fields ? fields : this.fields;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (typeof (customData) !== 'string' && typeof (customData) !== 'number' && typeof (customData) !== 'boolean') {\n                var dataItem = {};\n                setValue(field.text, value, dataItem);\n                if (typeof getValue((this.fields.value ? this.fields.value : 'value'), customData)\n                    === 'number') {\n                    setValue(field.value, Math.random(), dataItem);\n                }\n                else {\n                    setValue(field.value, value, dataItem);\n                }\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, dataItem);\n                this.resetList(tempData, field, query);\n            }\n            else {\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, this.inputElement.value);\n                tempData[0] = (typeof customData === 'number' && !isNaN(parseFloat(tempData[0]))) ?\n                    parseFloat(tempData[0]) : tempData[0];\n                tempData[0] = (typeof customData === 'boolean') ?\n                    (tempData[0] === 'true' ? true : (tempData[0] === 'false' ? false : tempData[0])) : tempData[0];\n                this.resetList(tempData, field);\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE$1) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup(e);\n            }\n            else {\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        if (!(this.targetElement() && this.targetElement() !== '')) {\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED$1);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED$1);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            else if ((this.floatLabelType === 'Auto' &&\n                ((this.overAllWrapper.classList.contains('e-outline')) || (this.overAllWrapper.classList.contains('e-filled'))))) {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            return;\n        }\n        if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline')) && this.mode === 'CheckBox' &&\n            ((isNullOrUndefined(this.value)) || this.value.length === 0)) {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.addTagOnBlur) {\n            var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n            var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n            var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n            var allowChipAddition = (listLiElement && !listLiElement.classList.contains(className)) ? true : false;\n            if (allowChipAddition) {\n                this.updateListSelection(listLiElement, eve);\n                if (this.mode === 'Delimiter') {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n            }\n        }\n        this.updateDataList();\n        if (this.resetMainList) {\n            this.mainList = this.resetMainList;\n            this.resetMainList = null;\n        }\n        this.refreshListItems(null);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup(eve);\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n    };\n    MultiSelect.prototype.calculateWidth = function () {\n        var elementWidth;\n        if (this.overAllWrapper) {\n            if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n                elementWidth = this.overAllWrapper.clientWidth - 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight));\n            }\n            else {\n                var downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(getComputedStyle(this.dropIcon).marginRight);\n                elementWidth = this.overAllWrapper.clientWidth - (downIconWidth + 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight)));\n            }\n            if (this.floatLabelType === 'Auto') {\n                Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n            }\n        }\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n            }\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!isNullOrUndefined(this.searchWrapper)) {\n            if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            else {\n                this.searchWrapper.classList.add(ZERO_SIZE);\n            }\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: oldVal,\n                value: newVal,\n                isInteracted: event ? true : false,\n                element: this.element,\n                event: event\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.value.slice();\n        }\n    };\n    MultiSelect.prototype.updateAriaActiveDescendant = function () {\n        if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n    };\n    MultiSelect.prototype.getPagingCount = function () {\n        var height = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.offsetHeight / parseInt(height, 10));\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    MultiSelect.prototype.pageDownSelection = function (steps) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ?\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')') : [];\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        var _this = this;\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            setTimeout(function () {\n                _this.calculateWidth();\n            }, 150);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n            if (this.allowFiltering) {\n                var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n                filterInput && filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n            else if (this.mode == \"CheckBox\") {\n                this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome) {\n        this.removeFocus();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            element.classList.add(dropDownBaseClasses.focus);\n            this.scrollBottom(element);\n            this.updateAriaActiveDescendant();\n        }\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.keyCode = e.keyCode;\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            if (this.allowFiltering) {\n                this.previousFilterText = this.targetElement();\n            }\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.refreshPopup();\n        }\n    };\n    MultiSelect.prototype.arrowDown = function (e) {\n        e.preventDefault();\n        this.moveByList(1);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains(FILTERINPUT)\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') : false;\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        this.moveByList(-1);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (!isNullOrUndefined(li) || (selectAllParent && selectAllParent.classList.contains('e-item-focus'))) {\n                e.preventDefault();\n                this.keyAction = true;\n            }\n            this.selectByKey(e);\n            if (this.keyAction) {\n                var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n                if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                    li_1.classList.remove('e-item-focus');\n                }\n            }\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow\n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow\n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.value[this.value.length - 1];\n                this.removeValue(temp, e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset) {\n            this.list.scrollTop = nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex) {\n        var nextOffset = selectedLI.offsetTop - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            e.preventDefault();\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    if (target.classList.contains('e-check')) {\n                        this.selectAllItem(false, e, li);\n                    }\n                    else {\n                        this.selectAllItem(true, e, li);\n                    }\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup(e);\n            }\n        }\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n            var selectAllCheckBox = selectAllParent.childNodes[0];\n            if (!selectAllCheckBox.classList.contains('e-check')) {\n                selectAllCheckBox.classList.add('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(true, e, li);\n            }\n            else {\n                selectAllCheckBox.classList.remove('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(false, e, li);\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            this.removeValue(selectedElem.getAttribute('data-value'), e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        var filterInputClassName = targetElement.className;\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if ((filterInputClassName === 'e-input-filter e-input' || filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') && selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n        }\n    };\n    MultiSelect.prototype.moveByList = function (position) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var temp = -1;\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (this.mode === 'CheckBox' && this.showSelectAll && position == 1 && !isNullOrUndefined(selectAllParent) && !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length == 0 && this.liCollections.length > 1) {\n                if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.remove('e-item-focus');\n                }\n                else if (!selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.add('e-item-focus');\n                }\n            }\n            else if (elements.length) {\n                if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position == -1)) {\n                    if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.remove('e-item-focus');\n                    }\n                    else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.add('e-item-focus');\n                    }\n                }\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        this.addListFocus(elements[++temp]);\n                        this.updateCheck(elements[temp]);\n                        this.scrollBottom(elements[temp], temp);\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        this.removeFocus();\n                        this.addListFocus(elements[--temp]);\n                        this.updateCheck(elements[temp]);\n                        this.scrollTop(elements[temp], temp);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var temp;\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1);\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP$1);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup(e);\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n        var index = this.value.indexOf(value);\n        var removeVal = this.value.slice(0);\n        removeVal.splice(index, 1);\n        this.setProperties({ value: [].concat([], removeVal) }, true);\n        element.setAttribute('aria-selected', 'false');\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        removeClass([element], className);\n        this.notify('activeList', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox', li: element,\n            e: this, index: index\n        });\n        this.invokeCheckboxSelection(element, eve, isClearAll);\n        this.updateMainList(true, value, mainElement);\n        this.updateChipStatus();\n    };\n    MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n        this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n        this.updateAriaActiveDescendant();\n        if ((this.value && this.value.length !== this.mainData.length)\n            && (this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll))) {\n            this.notify('checkSelectAll', {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                value: 'uncheck'\n            });\n        }\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var element_1 = this.findListElement(this.list, 'li', 'data-value', value);\n            var val_1 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    var removeVal = _this.value.slice(0);\n                    removeVal.splice(index, 1);\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (element_1 !== null) {\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', value);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n                    }\n                    if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n                        _this.hideGroupItem(value);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' &&\n                        _this.isPopupOpen()) {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                    _this.updateMainList(true, value);\n                    _this.removeChip(value);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll && (length === 1 || length === null)) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = mainElement ? mainElement :\n                this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value) {\n        if (this.chipCollectionWrapper) {\n            var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n            if (element) {\n                remove(element);\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value && this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        if (this.value.indexOf(value) < 0) {\n            this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n        }\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        var _this = this;\n        var list = this.listData;\n        if (this.initStatus && !isNotTrigger) {\n            var val_2 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n                        _this.listData = list;\n                    }\n                    _this.updateListSelectEventCallback(value, element, eve);\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP$1 + '.' + CHIP_SELECTED);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE$1.split(' ')[0]);\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP$1);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE$1.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n        var checkTemplate = false;\n        if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n            try {\n                checkTemplate = (selectAll(multiselectTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    MultiSelect.prototype.encodeHtmlEntities = function (input) {\n        return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n            return \"&#\" + match.charCodeAt(0) + \";\";\n        });\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP$1,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var compiledString;\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT$1 });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE$1 });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var valuecheck = this.multiCompiler(this.valueTemplate);\n            if (typeof this.valueTemplate !== 'function' && valuecheck) {\n                compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(this.valueTemplate);\n            }\n            // eslint-disable-next-line\n            var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n            if (valueCompTemp && valueCompTemp.length > 0) {\n                append(valueCompTemp, chipContent);\n            }\n            this.renderReactTemplates();\n        }\n        else if (this.enableHtmlSanitizer) {\n            chipContent.innerText = data;\n        }\n        else {\n            chipContent.innerHTML = this.encodeHtmlEntities(data);\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.isPreventChange = this.isAngular && this.preventChange;\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                document.body.appendChild(this.popupWrapper);\n                var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n                if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n                    checkboxFilter.remove();\n                    this.filterParent = null;\n                }\n                var overAllHeight = parseInt(this.popupHeight, 10);\n                this.popupWrapper.style.visibility = 'hidden';\n                if (this.headerTemplate) {\n                    this.setHeaderTemplate();\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                append([this.list], this.popupWrapper);\n                if (this.footerTemplate) {\n                    this.setFooterTemplate();\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n                if (this.mode === 'CheckBox' && this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight -= this.selectAllHeight;\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate && !this.footerTemplate)) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                    if (this.headerTemplate && this.header) {\n                        overAllHeight -= this.header.offsetHeight;\n                    }\n                    if (this.footerTemplate && this.footer) {\n                        overAllHeight -= this.footer.offsetHeight;\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: this.mode === 'CheckBox',\n                        popupElement: this.popupWrapper\n                    };\n                    if (this.allowFiltering) {\n                        this.notify('searchBox', args);\n                        overAllHeight -= this.searchBoxHeight;\n                    }\n                    addClass([this.popupWrapper], 'e-checkbox');\n                }\n                if (this.popupHeight !== 'auto') {\n                    this.list.style.maxHeight = formatUnit(overAllHeight);\n                    this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                else {\n                    this.list.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                this.popupObj = new Popup(this.popupWrapper, {\n                    width: this.calcPopupWidth(), targetType: 'relative',\n                    position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n                    relateTo: this.overAllWrapper,\n                    collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: 1,\n                    enableRtl: this.enableRtl, zIndex: this.zIndex,\n                    close: function () {\n                        if (_this.popupObj.element.parentElement) {\n                            _this.popupObj.unwireScrollEvents();\n                            // For restrict the page scrolling in safari browser\n                            var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n                            if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                                checkboxFilterInput.blur();\n                            }\n                            detach(_this.popupObj.element);\n                        }\n                    },\n                    open: function () {\n                        _this.popupObj.resolveCollision();\n                        if (!_this.isFirstClick) {\n                            var ulElement = _this.list.querySelector('ul');\n                            if (ulElement) {\n                                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                                    _this.targetElement().trim() !== '')) {\n                                    _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                }\n                            }\n                            _this.isFirstClick = true;\n                        }\n                        _this.popupObj.wireScrollEvents();\n                        if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                            _this.targetElement().trim() !== '')) {\n                            _this.loadTemplate();\n                        }\n                        _this.setScrollPosition();\n                        if (_this.allowFiltering) {\n                            _this.notify('inputFocus', {\n                                module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                            });\n                        }\n                    }, targetExitViewport: function () {\n                        if (!Browser.isDevice) {\n                            _this.hidePopup();\n                        }\n                    }\n                });\n                if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering) {\n                    this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                }\n                this.popupObj.close();\n                this.popupWrapper.style.visibility = '';\n            }\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER$1);\n        var headercheck = this.multiCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (elements && elements.length > 0) {\n            append(elements, this.header);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER$1);\n        var footercheck = this.multiCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (elements && elements.length > 0) {\n            append(elements, this.footer);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.clearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n                this.selectedElementID = null;\n                this.inputElement.removeAttribute('aria-activedescendant');\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && ((this.allowFiltering && this.mode !== 'CheckBox') || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        if (this.inputElement.value !== '') {\n            this.makeTextBoxEmpty();\n            this.search(null);\n        }\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var textVal = (this.element.tagName === this.getNgDirective()) ?\n                null : this.element.getAttribute('data-initial-value');\n            this.text = textVal;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n        EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.clearAll, this);\n        EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.pasteHandler = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            _this.expandTextbox();\n            _this.search(event);\n        });\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        this.resetFilteredData = true;\n        if (!isNullOrUndefined(e)) {\n            this.keyCode = e.keyCode;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup(e);\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            if (this.allowFiltering) {\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                this.dataUpdater(this.mainData, query, this.fields);\n            }\n            else {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        this.listData = this.mainData;\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var valueLength = this.value.length;\n            var hiddenElementContent = '';\n            for (var index = 0; index < valueLength; index++) {\n                var valueItem = this.value[index];\n                var listValue = this.findListElement((!isNullOrUndefined(this.mainList) ? this.mainList : this.ulElement), 'li', 'data-value', valueItem);\n                if (isNullOrUndefined(listValue) && !this.allowCustomValue) {\n                    this.value.splice(index, 1);\n                    index -= 1;\n                    valueLength -= 1;\n                }\n                else {\n                    if (this.listData) {\n                        temp = this.getTextByValue(valueItem);\n                    }\n                    else {\n                        temp = valueItem;\n                    }\n                    data += temp + delimiterChar + ' ';\n                    text.push(temp);\n                }\n                hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n            }\n            if (!isNullOrUndefined(this.hiddenElement)) {\n                this.hiddenElement.innerHTML = hiddenElementContent;\n            }\n        }\n        this.setProperties({ text: text.toString() }, true);\n        if (delim) {\n            this.updateWrapperText(this.delimiterWrapper, data);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-labelledby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                this.setProperties({ value: textVal }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate\n            || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n            isEmptyData = true;\n        }\n        _super.prototype.render.call(this, null, isEmptyData);\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function () {\n        if (this.list) {\n            var text = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    text = this.getTextByValue(value);\n                    if ((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) {\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        this.addItem(newValue, indexItem);\n                        element = element ? element : this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box' || (this.mode === 'Default' && this.inputFocus)) {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && this.value.indexOf(li.getAttribute('data-value')) > -1) {\n            this.mainList = this.ulElement;\n            if (this.hideSelectedItem) {\n                addClass([li], HIDE_LIST);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n        if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n            remove(this.popupWrapper.querySelector('.e-content'));\n            this.popupObj = null;\n            this.renderPopup();\n        }\n        else if (this.allowCustomValue) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n            var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n            var isReactTemplateUpdate = ((this.ulElement.childElementCount > 0 && this.ulElement.children[0].childElementCount > 0) && (this.mainList.children[0].childElementCount < this.ulElement.children[0].childElementCount));\n            var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 && !(this.ulElement.childElementCount < this.mainList.childElementCount) && (this.ulElement.children[0].childElementCount > 0 || (this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0));\n            if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n                //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                this.mainList = this.ulElement;\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        this.removeHover();\n        if (!this.value || this.value.indexOf(value) === -1) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n        var _this = this;\n        var text = this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value)) {\n            var temp_1 = li.cloneNode(true);\n            var fieldValue = this.fields.value ? this.fields.value : 'value';\n            if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n                value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n            }\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    append([temp_1], _this.mainList);\n                    _this.mainData.push(data_1);\n                    _this.remoteCustomValue = false;\n                    _this.addValue(value, text, e);\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n            this.updateAriaActiveDescendant();\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n                this.updateAriaActiveDescendant();\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element, mainElement) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                var ariaCheck = element.getElementsByClassName('e-check').length;\n                if (ariaCheck === 0) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper) {\n                this.removeChipSelection();\n            }\n            this.selectedElementID = element.id;\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        var _this = this;\n        this.keyCode = null;\n        this.scrollFocusStatus = false;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                            this.refreshSelection();\n                        }\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    if (this.value && this.value.length > 50) {\n                        setTimeout(function () {\n                            _this.updateDelimeter(_this.delimiterChar, e);\n                        }, 0);\n                    }\n                    else {\n                        this.updateDelimeter(this.delimiterChar, e);\n                    }\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup(e);\n                }\n                else {\n                    e.preventDefault();\n                }\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (listElement.classList.contains('e-list-icon')) {\n                listElement = listElement.parentElement;\n            }\n            if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                listElement.classList.contains('e-list-item')) {\n                checked++;\n            }\n            else if (listElement.classList.contains('e-list-item')) {\n                unChecked++;\n            }\n            count++;\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n            EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n            if (this.overAllClear.style.display !== 'none' || filterClear) {\n                this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS$1 + ' ' + SPINNER_CLASS$1 });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS$1)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n        if (this.valueTemplate || !this.enableHtmlSanitizer) {\n            wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n        }\n        else {\n            wrapperType.innerText = wrapperData;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.viewWrapper)) {\n            this.viewWrapper.style.display = '';\n            this.viewWrapper.style.width = '';\n            this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER$1);\n        }\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            this.updateWrapperText(this.viewWrapper, data);\n            var l10nLocale = {\n                noRecordsTemplate: 'No records found',\n                actionFailureTemplate: 'Request failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            if (l10n.getConstant('noRecordsTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var totalContent = l10n.getConstant('totalCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER$1\n            });\n            var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n            raminElement.innerText = remainCompildTemp;\n            this.viewWrapper.appendChild(raminElement);\n            this.renderReactTemplates();\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            this.checkClearIconWidth();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    data += (index === 0) ? '' : this.delimiterChar + ' ';\n                    temp = this.getOverflowVal(index);\n                    data += temp;\n                    temp = this.viewWrapper.innerHTML;\n                    this.updateWrapperText(this.viewWrapper, data);\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.updateWrapperText(this.viewWrapper, temp);\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth +\n                            parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = [];\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining = this.value.length;\n                            wrapperleng = this.viewWrapper.offsetWidth +\n                                parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.viewWrapper)) {\n                this.viewWrapper.innerHTML = '';\n                this.viewWrapper.style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.checkClearIconWidth = function () {\n        if (this.showClearButton) {\n            this.clearIconWidth = this.overAllClear.offsetWidth;\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER$1) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        var remainTemp = remainContent.replace('${count}', remaining.toString());\n        var totalTemp = totalContent.replace('${count}', remaining.toString());\n        raminElement.innerText = (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ? remainTemp : totalTemp;\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER$1);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER$1);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(this.value[index]);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(this.value[index]);\n            }\n        }\n        else {\n            temp = this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        }\n        EventHandler.remove(window, 'resize', this.windowResize);\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n            EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n            if (this.mode !== 'CheckBox') {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n            }\n            EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement) {\n                EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n            EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        }\n        if (!isNullOrUndefined(this.overAllClear)) {\n            EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        }\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        if (!isNullOrUndefined(this.list)) {\n            li = this.list.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.value && this.value.length && event && event.target\n            && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n            li = this.mainList.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? (this.groupTemplate ? closest(event.target, '.e-list-group-item') : event.target) : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (state) {\n                        if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                            if (listElement.classList.contains('e-active')) {\n                                selectionLimit -= 1;\n                            }\n                            if (selectionLimit < this.maximumSelectionLength) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    else {\n                        if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            this.updateListSelection(listElement, event);\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    if (state) {\n                        target.classList.add('e-active');\n                    }\n                    else {\n                        target.classList.remove('e-active');\n                    }\n                    target.classList.add('e-item-focus');\n                    this.updateAriaActiveDescendant();\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        var beforeSelectArgs = {\n            event: event,\n            items: state ? li : [],\n            itemData: state ? this.listData : [],\n            isInteracted: event ? true : false,\n            isChecked: state,\n            preventSelectEvent: false\n        };\n        this.trigger('beforeSelectAll', beforeSelectArgs);\n        if (li && li.length) {\n            var index_1 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            if (!beforeSelectArgs.preventSelectEvent) {\n                while (index_1 < length && index_1 <= 50 && index_1 < count_1) {\n                    this.updateListSelection(li[index_1], event, length - index_1);\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[index_1]);\n                    }\n                    index_1++;\n                }\n                if (length > 50) {\n                    setTimeout(function () {\n                        while (index_1 < length && index_1 < count_1) {\n                            _this.updateListSelection(li[index_1], event, length - index_1);\n                            if (_this.enableGroupCheckBox) {\n                                _this.findGroupStart(li[index_1]);\n                            }\n                            index_1++;\n                        }\n                        _this.updatedataValueItems(event);\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(event, _this.value, _this.tempValues);\n                            _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                        }\n                        _this.updateHiddenElement();\n                    }, 0);\n                }\n            }\n            else {\n                for (var i = 0; i < li.length && i < count_1; i++) {\n                    this.removeHover();\n                    var customVal = li[i].getAttribute('data-value');\n                    var value = this.getFormattedValue(customVal);\n                    var mainElement = this.mainList ? this.mainList.querySelectorAll(state ?\n                        'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                        'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i] : null;\n                    if (state) {\n                        this.value = !this.value ? [] : this.value;\n                        if (this.value.indexOf(value) < 0) {\n                            this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n                        }\n                        this.removeFocus();\n                        this.addListSelection(li[i], mainElement);\n                        this.updateChipStatus();\n                        this.checkMaxSelection();\n                    }\n                    else {\n                        this.removeAllItems(value, event, false, li[i], mainElement);\n                    }\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[i]);\n                    }\n                }\n                if (!state) {\n                    var limit = this.value && this.value.length ? this.value.length : 0;\n                    if (limit < this.maximumSelectionLength) {\n                        var collection = this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                }\n                var args = {\n                    event: event,\n                    items: state ? li : [],\n                    itemData: state ? this.listData : [],\n                    isInteracted: event ? true : false,\n                    isChecked: state\n                };\n                this.trigger('selectedAll', args);\n            }\n        }\n        this.updatedataValueItems(event);\n        this.checkPlaceholderSize();\n        if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            this.updateHiddenElement();\n        }\n    };\n    MultiSelect.prototype.updateHiddenElement = function () {\n        var _this = this;\n        var hiddenValue = '';\n        var wrapperText = '';\n        var data = '';\n        var text = [];\n        if (this.mode === 'CheckBox') {\n            this.value.map(function (value, index) {\n                hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n                if (_this.listData) {\n                    data = _this.getTextByValue(value);\n                }\n                else {\n                    data = value;\n                }\n                wrapperText += data + _this.delimiterChar + ' ';\n                text.push(data);\n            });\n            this.hiddenElement.innerHTML = hiddenValue;\n            this.updateWrapperText(this.delimiterWrapper, wrapperText);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-labelledby', this.delimiterWrapper.id);\n            this.setProperties({ text: text.toString() }, true);\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n        }\n    };\n    MultiSelect.prototype.updatedataValueItems = function (event) {\n        this.deselectHeader();\n        this.textboxValueUpdate(event);\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent')\n            || closest(event.target, '.e-close-hooker'));\n        if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            if (!(isRemoveAll || this.isSelectAll)) {\n                this.updateDelimeter(this.delimiterChar, event);\n            }\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n     * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))\n            || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            if (this.resetFilteredData) {\n                // The filtered data is not being reset in the component after the user focuses out.\n                this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n                this.resetFilteredData = false;\n            }\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n            this.isDynamicDataChange = true;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    if (!this.closePopupOnSelect && this.isPopupOpen()) {\n                        this.refreshPopup();\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.updateOldPropCssClass(oldProp.cssClass);\n                    this.updateCssClass();\n                    this.calculateWidth();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    Input.createSpanElement(this.overAllWrapper, this.createElement);\n                    this.calculateWidth();\n                    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                        this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        var overAllHeight = parseInt(this.popupHeight, 10);\n                        if (this.popupHeight !== 'auto') {\n                            this.list.style.maxHeight = formatUnit(overAllHeight);\n                            this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                        else {\n                            this.list.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                    }\n                    break;\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var msProps = this.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    }\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.presentItemValue = function (ulElement) {\n        var valuecheck = [];\n        for (var i = 0; i < this.value.length; i++) {\n            var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', this.value[i]);\n            if (!checkEle) {\n                valuecheck.push(this.value[i]);\n            }\n        }\n        return valuecheck;\n    };\n    \n    MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n        var _this = this;\n        this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n            if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n            }\n            _this.updateActionList(ulElement, list, event);\n        });\n    };\n    \n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if ((this.dataSource instanceof DataManager) && (!this.listData || !(this.mainList && this.mainData))) {\n            this.onLoadSelect();\n        }\n        else {\n            var valuecheck = [];\n            if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n                valuecheck = this.presentItemValue(this.ulElement);\n            }\n            if (prop == 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n                && this.listData != null) {\n                this.mainData = null;\n                this.setDynValue = true;\n                this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n            }\n            else {\n                if (prop === 'text') {\n                    this.initialTextUpdate();\n                    newProp = this.value;\n                }\n                if (isNullOrUndefined(this.value) || this.value.length === 0) {\n                    this.tempValues = oldProp;\n                }\n                // eslint-disable-next-line\n                if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus\n                    && this.isPopupOpen() && this.mainData !== this.listData) {\n                    var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                    this.onActionComplete(list, this.mainData);\n                }\n                this.initialValueUpdate();\n                if (this.mode !== 'Box' && !this.inputFocus) {\n                    this.updateDelimView();\n                }\n                if (!this.inputFocus) {\n                    this.refreshInputHight();\n                }\n                this.refreshPlaceHolder();\n                if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                    this.updateValueState(null, newProp, oldProp);\n                }\n                this.checkPlaceholderSize();\n            }\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hidePopup = function (e) {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel, event: e || null };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n                        remove(_this.fixedHeaderElement);\n                        _this.fixedHeaderElement = null;\n                    }\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showPopup = function (e) {\n        var _this = this;\n        if (!this.enabled) {\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                if (!_this.ulElement) {\n                    _this.beforePopupOpen = true;\n                    _super.prototype.render.call(_this, e);\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                        _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                    return;\n                }\n                if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                    _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                }\n                var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n                var liLength = _this.ulElement.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n                if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === _this.mainData.length) && !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n                    _this.beforePopupOpen = false;\n                    return;\n                }\n                _this.onPopupShown(e);\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     *\n     * @param {boolean} state - if it’s true then Selects the entire list items. If it’s false the Unselects entire list items.\n     * @returns {void}\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.clear = function () {\n        var _this = this;\n        this.selectAll(false);\n        if (this.value && this.value.length) {\n            setTimeout(function () {\n                _this.setProperties({ value: null }, true);\n            }, 0);\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.render = function () {\n        if (!isNullOrUndefined(this.value)) {\n            // eslint-disable-next-line\n            this.value = this.value.slice();\n        }\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.selectAllEventEle = [];\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ? BOX_ELEMENT : '') });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS$1, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER$1,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0',\n                role: 'combobox'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-labelledby', this.chipCollectionWrapper.id);\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n            this.enabled = false;\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        this.checkInitialValue();\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    if (opt.getAttribute('value')) {\n                        valueCol.push(opt.getAttribute('value'));\n                    }\n                    else {\n                        textCol += (opt.text + this.delimiterChar);\n                    }\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            if (!this.list) {\n                _super.prototype.render.call(this);\n            }\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate();\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate();\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if (!isNullOrUndefined(this.overAllWrapper)) {\n            if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            else {\n                removeClass([this.overAllWrapper], 'e-valid-input');\n            }\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n            this.updateDelimView();\n        }\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        this.filterParent = null;\n        this.ulElement = null;\n        this.mainListCollection = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'placeholder'];\n        var length = temp.length;\n        if (!isNullOrUndefined(this.inputElement)) {\n            while (length > 0) {\n                this.inputElement.removeAttribute(temp[length - 1]);\n                length--;\n            }\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.removeAttribute('data-initial-value');\n            this.element.style.display = 'block';\n        }\n        if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n        this.componentWrapper = null;\n        this.overAllClear = null;\n        this.overAllWrapper = null;\n        this.hiddenElement = null;\n        this.searchWrapper = null;\n        this.viewWrapper = null;\n        this.chipCollectionWrapper = null;\n        this.targetInputElement = null;\n        this.popupWrapper = null;\n        this.inputElement = null;\n        this.delimiterWrapper = null;\n        this.popupObj = null;\n        this.popupWrapper = null;\n        this.liCollections = null;\n        this.header = null;\n        this.mainList = null;\n        this.mainListCollection = null;\n        this.footer = null;\n        this.selectAllEventEle = null;\n    };\n    __decorate$5([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate$5([\n        Property('No records found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate$5([\n        Property('Request failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate$5([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$5([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate$5([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate$5([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate$5([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate$5([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate$5([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate$5([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$5([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate$5([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate$5([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate$5([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate$5([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate$5([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate$5([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate$5([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate$5([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate$5([\n        Property(false)\n    ], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate$5([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate$5([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\n\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME$1 = 'e-frame';\nvar CHECK$1 = 'e-check';\nvar CHECKBOXWRAP$1 = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS$1 = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @__PURE__ @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME$1, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP$1);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME$1, this.checkWrapper);\n            var selectAll$$1 = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK$1), args.li, args.e, selectAll$$1);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll$$1) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll$$1);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) || (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP$1);\n        var selectAll$$1 = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME$1, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK$1), null, e, selectAll$$1);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll$$1) {\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME$1)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK$1)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK$1);\n            if (selectAll$$1) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK$1) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK$1, INDETERMINATE]);\n            if (selectAll$$1) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK$1]);\n            frameSpan.classList.add(INDETERMINATE);\n            if (selectAll$$1) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshPopup();\n        this.parent.refreshListItems(null);\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS$1);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS$1);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                prepend([ulEle_1], this.parent.list);\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\n\n/**\n * export all modules from current location\n */\n\nvar __extends$6 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$6([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate$6([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate$6([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate$6([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$6([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate$6([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     *\n     * @param {ListBoxModel} options - Specifies ListBox model\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.isDataSourceUpdate = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Build and render the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    ListBox.prototype.render = function () {\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        _super.prototype.render.call(this);\n        this.setEnabled();\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        hiddenSelect.style.visibility = 'hidden';\n        this.list.classList.add('e-listbox-wrapper');\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        this.list.classList.add('e-lib');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName('e-list-item')[0]) {\n            this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        if (this.itemTemplate) {\n            this.renderReactTemplates();\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-label': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        this.updateSelectionSettings();\n    };\n    ListBox.prototype.updateSelectionSettings = function () {\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.ulElement) {\n            this.ulElement.id = this.element.id + '_parent';\n        }\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: 'e-list-item',\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var wrapper = _this.list.cloneNode();\n                    var ele = e.sender.cloneNode(true);\n                    wrapper.appendChild(ele);\n                    var refEle = _this.getItems()[0];\n                    wrapper.style.width = refEle.offsetWidth + 'px';\n                    wrapper.style.height = refEle.offsetHeight + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n                    return wrapper;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n        this.jsonData.splice(index, 0, item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        var scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n        if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n            addClass([this.list], 'e-filter-list');\n        }\n        else {\n            removeClass([this.list], 'e-filter-list');\n        }\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([this.list], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper' });\n        }\n        this.spinner.style.height = formatUnit(this.height);\n        this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        this.isDataSourceUpdate = false;\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        this.refreshClearIcon();\n    };\n    ListBox.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.refreshClearIcon();\n        var event = document.createEvent('KeyboardEvent');\n        this.isValidKey = true;\n        this.KeyUp(event);\n    };\n    ListBox.prototype.refreshClearIcon = function () {\n        if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n        }\n        if (list.length === 0) {\n            var noRecElem = ulElement.childNodes[0];\n            if (noRecElem) {\n                ulElement.removeChild(noRecElem);\n            }\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n            this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n            this.filterWireEvents(searchEle);\n        }\n        this.initWrapper();\n        this.setSelection();\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.isDataSourceUpdate) {\n                this.jsonData = [];\n                extend(this.jsonData, list, []);\n                this.isDataSourceUpdate = false;\n            }\n            if (this.allowFiltering) {\n                var filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n                var txtLength = this.filterInput.value.length;\n                filterElem.selectionStart = txtLength;\n                filterElem.selectionEnd = txtLength;\n                filterElem.focus();\n            }\n        }\n        if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n            var scope = this.scope.replace('#', '');\n            var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n            scopedLB.initToolbar();\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        var scrollParent;\n        var boundRect;\n        var scrollMoved = 36;\n        var scrollHeight = 10;\n        if (this.itemTemplate && args.target) {\n            if (args.target && args.target.closest('.e-list-item')) {\n                scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var listItem = args.element.querySelector('.e-list-item');\n                if (listItem) {\n                    scrollHeight = listItem.scrollHeight;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var event = args.event;\n        var wrapper;\n        if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item')\n            || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group')\n            || args.target.closest('.e-list-item'))) {\n            if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent')\n                || args.target.classList.contains('e-input-group')\n                || args.target.closest('.e-list-item')) {\n                wrapper = args.target.closest('.e-listbox-wrapper');\n            }\n            else {\n                wrapper = args.target;\n            }\n            if (this.allowFiltering) {\n                scrollParent = wrapper.querySelector('.e-list-parent');\n            }\n            else {\n                scrollParent = wrapper;\n            }\n            boundRect = scrollParent.getBoundingClientRect();\n            if ((boundRect.y + scrollParent.offsetHeight) - (event.clientY + scrollMoved) < 1) {\n                scrollParent.scrollTop = scrollParent.scrollTop + scrollHeight;\n            }\n            else if ((event.clientY - scrollMoved) - boundRect.y < 1) {\n                scrollParent.scrollTop = scrollParent.scrollTop - scrollHeight;\n            }\n        }\n        if (args.target === null) {\n            return;\n        }\n        this.trigger('drag', this.getDragArgs(args));\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        var items = [];\n        this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        if (this.value.indexOf(this.dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([this.dragValue]);\n        }\n        extend(items, args.items);\n        this.trigger('beforeDrop', args);\n        if (args.items !== items) {\n            this.customDraggedItem = args.items;\n        }\n    };\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource },\n            previousIndex: args.previousIndex, currentIndex: args.currentIndex });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        var targetListObj = this.getComponent(args.target);\n        if (targetListObj && targetListObj.listData.length === 0) {\n            var noRecElem = targetListObj.ulElement.childNodes[0];\n            if (noRecElem) {\n                targetListObj.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toSortIdx_1 = args.currentIndex;\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                if (!isNullOrUndefined(this.customDraggedItem)) {\n                    selectedOptions = [];\n                    this.customDraggedItem.forEach(function (item) {\n                        selectedOptions.push(getValue(_this.fields.value, item));\n                    });\n                }\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            if (!isNullOrUndefined(this.customDraggedItem)) {\n                selectedOptions = [];\n                this.customDraggedItem.forEach(function (item) {\n                    selectedOptions.push(getValue(_this.fields.value, item));\n                });\n            }\n            var fListData_1 = [].slice.call(this.listData);\n            var fSortData_1 = [].slice.call(this.sortedData);\n            selectedOptions.forEach(function (value, index) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                var sortIdx = _this.sortedData.indexOf(droppedData);\n                fListData_1.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                fSortData_1.splice(sortIdx, 1);\n                _this.listData = fListData_1;\n                _this.sortedData = fSortData_1;\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                sortedData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n                if (!value) {\n                    var liCollElem_1 = _this.getItems();\n                    for (var i = 0; i < liCollElem_1.length; i++) {\n                        if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem_1[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                if (!li_1) {\n                    li_1 = args.helper;\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            if (this.fields.groupBy) {\n                var sourceElem = this.renderItems(this.listData, this.fields);\n                this.updateListItems(sourceElem, this.ulElement);\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n                var sortable = getComponent(ul_2, 'sortable');\n                var sourceElem = listObj.renderItems(listData, listObj.fields);\n                listObj.updateListItems(sourceElem, ul_2);\n                this.setSelection();\n                if (sortable.placeHolderElement) {\n                    ul_2.appendChild(sortable.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n            dragArgs.items = this.customDraggedItem;\n        }\n        this.trigger('drop', dragArgs);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var liCollElem = dragArgs.elements;\n        if (liCollElem.length) {\n            for (var i = 0; i < liCollElem.length; i++) {\n                liCollElem[i].classList.remove('e-grabbed');\n            }\n        }\n    };\n    ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n        var i = 0;\n        destElem.innerHTML = '';\n        while (i < sourceElem.childNodes.length) {\n            destElem.appendChild(sourceElem.childNodes[i]);\n        }\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    ListBox.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.enableItems = function (items, enable, isValue) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            var text = item;\n            li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n            if (!li) {\n                return;\n            }\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     *\n     * @param {string[]} items - Array of text value of the item.\n     * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.selectItems = function (items, state, isValue) {\n        if (state === void 0) { state = true; }\n        if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n            this.getSelectedItems().forEach(function (li) {\n                li.classList.remove('e-active');\n                li.removeAttribute('aria-selected');\n                removeClass([li], cssClass.selected);\n            });\n        }\n        this.setSelection(items, state, !isValue);\n        this.updateSelectedOptions();\n        var selElems = [];\n        for (var i = 0; i < items.length; i++) {\n            var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n            for (var j = 0; j < liColl.length; j++) {\n                if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                    selElems.push(liColl[j]);\n                }\n            }\n        }\n        this.triggerChange(selElems, null);\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     *\n     * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n     * @returns {void}\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = void 0;\n            var dupData = [];\n            var itemIdx = void 0;\n            extend(dupData, [], this.jsonData);\n            var removeIdxes = [];\n            var removeLiIdxes = [];\n            for (var j = 0; j < items.length; j++) {\n                if (items[j] instanceof Object) {\n                    dataValue = getValue(fields.value, items[j]);\n                }\n                else {\n                    dataValue = items[j].toString();\n                }\n                for (var i = 0, len = dupData.length; i < len; i++) {\n                    if (dupData[i] instanceof Object) {\n                        objValue = getValue(fields.value, dupData[i]);\n                    }\n                    else {\n                        objValue = dupData[i].toString();\n                    }\n                    if (objValue === dataValue) {\n                        itemIdx = this.getIndexByValue(dataValue);\n                        var idx = itemIdx === i ? itemIdx : i;\n                        liCollections.push(liElement[idx]);\n                        removeIdxes.push(idx);\n                        removeLiIdxes.push(idx);\n                    }\n                }\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.listData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.jsonData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n                this.updateLiCollection(removeLiIdxes[k]);\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.jsonData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n        if (this.listData.length === 0) {\n            this.l10nUpdate();\n        }\n        this.value = [];\n        this.updateToolBarState();\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns {object[]}.\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in Top of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveTop = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(null, false, elem, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in bottom of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveBottom = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem, false, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @param {number} index - Specifies the index.\n     * @param {string} targetId - Specifies the target id.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     *\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        if (this.listData.length > 0) {\n            var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n            this.moveAllData(this, tlistbox, false, index);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Gets the updated dataSource in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n     */\n    /* eslint-enable */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    /* eslint-disable */\n    /**\n     * Returns the sorted Data in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n     */\n    /* eslint-enable */\n    ListBox.prototype.getSortedList = function () {\n        var sortData;\n        var tempData;\n        sortData = tempData = this.sortedData;\n        if (this.fields.groupBy) {\n            sortData = [];\n            for (var i = 0; i < tempData.length; i++) {\n                if (tempData[i].isHeader) {\n                    continue;\n                }\n                sortData.push(tempData[i]);\n            }\n        }\n        return sortData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li, module: 'listbox' });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainList = this.mainList.querySelectorAll('.e-list-item');\n        var ulList = this.ulElement.querySelectorAll('.e-list-item');\n        var mainCount = mainList.length;\n        var ulEleCount = ulList.length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < mainCount;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.allowFiltering && this.clearFilterIconElem) {\n            EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n        }\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        this.selectHandler(e);\n    };\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                value: (searchCount === len) ? 'check' : (len === 0) ? 'uncheck' : 'indeterminate' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (dataType === null) {\n                dataType = this.typeOfData(this.jsonData).typeof;\n            }\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        var filterInputObj;\n        if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: listBoxClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: listBoxClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: [listBoxClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-label': 'search list item',\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            if (this.height.toString().indexOf('%') < 0) {\n                addClass([this.list], 'e-filter-list');\n            }\n            this.inputString = this.filterInput.value;\n            this.filterWireEvents();\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.filterWireEvents = function (filterElem) {\n        if (filterElem) {\n            this.filterInput = filterElem.querySelector('.e-input-filter');\n        }\n        this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n        if (this.clearFilterIconElem) {\n            EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n            if (!filterElem) {\n                this.clearFilterIconElem.style.visibility = 'hidden';\n            }\n        }\n        EventHandler.add(this.filterInput, 'input', this.onInput, this);\n        EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n        EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + 'e-list-item');\n        var selectedLi = [li];\n        if (li && li.parentElement) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains('e-list-item'); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            else {\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'false');\n                });\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e, module: 'listbox' });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            if (this.list) {\n                this.checkMaxSelection();\n            }\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElements(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var data = [];\n        for (var i = 0, len = elems.length; i < len; i++) {\n            data.push(this.getDataByValue(this.getFormattedValue(elems[i].getAttribute('data-value'))));\n        }\n        return data;\n    };\n    ListBox.prototype.getDataByElements = function (elems) {\n        var data = [];\n        var value;\n        var sIdx = 0;\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && item === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            return data;\n        }\n        return null;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            this.toolbarAction = btn.getAttribute('data-value');\n            if (btn.disabled) {\n                return;\n            }\n            switch (this.toolbarAction) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n                default:\n                    this.trigger('actionBegin', { cancel: false, items: this.getDataByElems(this.getSelectedItems()),\n                        eventName: this.toolbarAction });\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        var tempItems = this.getDataByElems(elems);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        this.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            if (isTop) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n                _this.changeData(idx, 0, jsonToIdx, ele);\n            }\n            else if (isBottom) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n                _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n            }\n            else {\n                moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n                _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n            }\n        });\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBox} fListBox - Specifies the from listbox.\n     * @param {ListBox} tListBox - Specifies the to listbox.\n     * @param {boolean} isKey - Specifies the key.\n     * @param {Element[]} value - Specifies the value.\n     * @param {number} index - Specifies the index.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var tempItems = [];\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            elems.forEach(function (ele) {\n                idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n                // To update lb view data\n                dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n                // To update lb listdata data\n                dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n                // To update lb sorted data\n                sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n                // To update lb original data\n                jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n            });\n            if (this.sortOrder !== 'None') {\n                sortIdx.forEach(function (i) {\n                    tempItems.push(fListBox.sortedData[i]);\n                });\n            }\n            else {\n                jsonIdx.forEach(function (i) {\n                    tempItems.push(fListBox.jsonData[i]);\n                });\n            }\n            var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n            fListBox.trigger('actionBegin', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                var noRecElem = tListBox.ulElement.childNodes[0];\n                if (noRecElem) {\n                    tListBox.ulElement.removeChild(noRecElem);\n                }\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n                    fListBox.updateListItems(sourceElem, fListBox.ulElement);\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            fListBox.updateMainList();\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = tempItems.length - 1; i >= 0; i--) {\n                tListData.splice(index, 0, tempItems[i]);\n                tJsonData.splice(index, 0, tempItems[i]);\n                tSortData.splice(index, 0, tempItems[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n                tListBox.updateListItems(sourceElem, tListBox.ulElement);\n                tListBox.setSelection();\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n        }\n    };\n    ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n        var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n        var ele;\n        var liIdx;\n        var validIdx = -1;\n        if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n            liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n            ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n            validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n            if (validIdx > -1) {\n                (inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected));\n            }\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        var tempItems = [].slice.call(fListBox.listData);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        fListBox.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        if (tListBox.listData.length === 0) {\n            var noRecElem = tListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                tListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (isRefresh) {\n            var noRecElem = fListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                fListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        moveTo(fListBox.ulElement, tListBox.ulElement, \n        // eslint-disable-next-line prefer-spread\n        Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number), index);\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < fListBox.listData.length; i++) {\n            listData.splice(index + i, 0, fListBox.listData[i]);\n        }\n        for (var i = 0; i < fListBox.jsonData.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[i]);\n        }\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        fListBox.liCollections = [];\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        fListBox.value = [];\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        var sortedData = listData.filter(function (val) {\n            return tListBox.jsonData.indexOf(val) === -1;\n        });\n        for (var i = 0; i < sortedData.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n        }\n        tListBox.listData = listData;\n        if (fListBox.listData.length === fListBox.jsonData.length) {\n            fListBox.listData = fListBox.sortedData = fListBox.jsonData = [];\n        }\n        else if (fListBox.allowFiltering) {\n            for (var i = 0; i < fListBox.listData.length; i++) {\n                for (var j = 0; j < fListBox.jsonData.length; j++) {\n                    if (fListBox.listData[i] === fListBox.jsonData[j]) {\n                        fListBox.jsonData.splice(j, 1);\n                    }\n                }\n            }\n            fListBox.listData = fListBox.sortedData = [];\n        }\n        if (isRefresh) {\n            var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n            tListBox.updateListItems(sourceElem, tListBox.ulElement);\n            this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (fListBox.listData.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var sortData = [].slice.call(this.sortedData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n        this.sortedData = sortData;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + 'e-list-item'));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getGrabbedItems = function (args) {\n        var grabbItems = false;\n        for (var i = 0; i < this.value.length; i++) {\n            if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n                grabbItems = true;\n                break;\n            }\n        }\n        if (grabbItems) {\n            for (var i = 0; i < this.value.length; i++) {\n                var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n                for (var j = 0; j < liColl.length; j++) {\n                    if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                        liColl[j].classList.add('e-grabbed');\n                    }\n                }\n            }\n        }\n        var elems;\n        if (this.isAngular) {\n            elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n        }\n        else {\n            elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n        }\n        return elems;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getGrabbedItems(args);\n        if (elems.length) {\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        return { elements: elems, items: this.getDataByElems(elems) };\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        e.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && !this.allowFiltering) {\n            if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n                return;\n            }\n            e.preventDefault();\n            if (e.keyCode === 32 && this.ulElement.children.length) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    if (e.shiftKey) {\n                        this.moveAllData(this, listObj, true);\n                    }\n                    else {\n                        this.moveData(this, listObj, true);\n                    }\n                }\n                else {\n                    if (e.shiftKey) {\n                        this.moveAllData(listObj, this, true);\n                    }\n                    else {\n                        this.moveData(listObj, this, true);\n                    }\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                if (e.keyCode === 40) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        if (cli) {\n            fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n            if (fliIdx === -1) {\n                addClass([fli], 'e-focused');\n                return;\n            }\n            ul.children[fliIdx].focus();\n            ul.children[fliIdx].classList.add('e-focused');\n            if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n            }\n            if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n                var sidx = e.code === 'Home' ? 0 : selectedidx;\n                var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n                for (var i = sidx; i <= eidx; i++) {\n                    var item = ul.children[i];\n                    this.notify('updatelist', { li: item, e: {\n                            target: this.ulElement.getElementsByClassName('e-focused')[0],\n                            ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                        }, module: 'listbox' });\n                }\n            }\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || (e.keyCode === 46) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.dataUpdater(dataSource, query, fields);\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (args.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query.\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n        if (this.allowFiltering) {\n            this.refreshClearIcon();\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            if (keyCode === 40 || keyCode === 36) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.childNodes[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n                for (var i = 0; i < selectedOptions.length; i++) {\n                    if (values.indexOf(selectedOptions[i]) > -1) {\n                        continue;\n                    }\n                    else {\n                        values.push(selectedOptions[i]);\n                    }\n                }\n                this.setProperties({ value: values }, true);\n            }\n            else {\n                this.setProperties({ value: selectedOptions }, true);\n            }\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ListBox.prototype.setSelection = function (values, isSelect, isText) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                var text;\n                if (isText) {\n                    text = _this.getValueByText(value);\n                }\n                else {\n                    text = value;\n                }\n                if (typeof (text) === 'string') {\n                    text = text.split('\\\\').join('\\\\\\\\');\n                    li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n                }\n                else {\n                    li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n                }\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox) {\n                            _this.notify('updatelist', { li: li, module: 'listbox' });\n                            li.focus();\n                        }\n                        else {\n                            if (isSelect) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                                li.focus();\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        var innerHTML = '';\n        ele.innerHTML = '';\n        if (this.value) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                innerHTML += '<option selected>' + this.value[i] + '</option>';\n            }\n            ele.innerHTML += innerHTML;\n            for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n                ele.childNodes[i].setAttribute('value', this.value[i].toString());\n            }\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.checkDisabledState = function (inst) {\n        return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.checkDisabledState(_this);\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = _this.checkDisabledState(listObj_1);\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                if (liColl[index].classList.contains('e-list-item')) {\n                    liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                }\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - Module name\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ListBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n        this.enableRtlElements = [];\n        this.liCollections = null;\n        this.list = null;\n        this.ulElement = null;\n        this.mainList = null;\n        this.spinner = null;\n        this.rippleFun = null;\n        if (this.itemTemplate) {\n            this.clearTemplate();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBoxModel} newProp - Specifies the new properties.\n     * @param {ListBoxModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.list.classList.add('e-rtl');\n                    }\n                    else {\n                        this.list.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        getComponent(this.ulElement, 'sortable').destroy();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                        removeClass([this.list], 'e-filter-list');\n                    }\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        if (this.filterInput) {\n                            Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                        }\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings': {\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                }\n                case 'selectionSettings': {\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                }\n                case 'dataSource':\n                    this.isDataSourceUpdate = true;\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate$6([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate$6([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate$6([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate$6([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate$6([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate$6([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$6([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate$6([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate$6([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate$6([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate$6([\n        Property(null)\n    ], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate$6([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate$6([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate$6([\n        Property('Request failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate$6([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate$6([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate$6([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate$6([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate$6([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nvar listBoxClasses = {\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    clearIcon: 'e-clear-icon'\n};\n\n/**\n * export all modules from current location\n */\n\nvar __extends$7 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Mention, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {MentionModel} options - Specifies the MentionComponent model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Mention(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n     * @param {MentionModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'minLength':\n                    this.minLength = newProp.minLength;\n                    break;\n                case 'suffixText':\n                    this.suffixText = newProp.suffixText;\n                    break;\n                case 'allowSpaces':\n                    this.allowSpaces = newProp.allowSpaces;\n                    break;\n                case 'mentionChar':\n                    this.mentionChar = newProp.mentionChar;\n                    break;\n                case 'showMentionChar':\n                    this.showMentionChar = newProp.showMentionChar;\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Mention.prototype.updateCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.setCssClass(newClass, [this.inputElement], oldClass);\n        if (this.popupObj) {\n            this.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    Mention.prototype.setCssClass = function (cssClass$$1, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass$$1) && cssClass$$1 !== '') {\n            addClass(elements, cssClass$$1.split(' '));\n        }\n    };\n    Mention.prototype.initializeData = function () {\n        this.isSelected = false;\n        this.isFiltered = false;\n        this.beforePopupOpen = false;\n        this.initRemoteRender = false;\n        this.isListResetted = false;\n        this.isPopupOpen = false;\n        this.isCollided = false;\n        this.lineBreak = false;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.render = function () {\n        var isSelector = typeof this.target === 'string';\n        this.inputElement = !isNullOrUndefined(this.target) ?\n            this.checkAndUpdateInternalComponent(isSelector\n                ? document.querySelector(this.target)\n                : this.target) : this.element;\n        if (this.isContentEditable(this.inputElement)) {\n            this.inputElement.setAttribute('contenteditable', 'true');\n            addClass([this.inputElement], ['e-mention']);\n            if (isNullOrUndefined(this.target)) {\n                addClass([this.inputElement], ['e-editable-element']);\n            }\n        }\n        this.inputElement.setAttribute('role', 'textbox');\n        this.queryString = this.elementValue();\n        this.wireEvent();\n    };\n    Mention.prototype.wireEvent = function () {\n        EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n        this.bindCommonEvent();\n    };\n    Mention.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n        this.unBindCommonEvent();\n    };\n    Mention.prototype.bindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.inputElement, {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.hideSpinner = function () {\n        this.hideWaitingSpinner();\n    };\n    Mention.prototype.hideWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n        }\n        if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n            detach(this.spinnerTemplateElement);\n        }\n    };\n    Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n        if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n            return targetElement.querySelector('.e-content');\n        }\n        if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n            var parentElement = targetElement.parentElement;\n            if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n                return parentElement.querySelector('.e-content');\n            }\n        }\n        return targetElement;\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.popupObj)) {\n            if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n                this.spinnerElement = this.popupObj.element;\n                createSpinner({\n                    target: this.spinnerElement,\n                    width: Browser.isDevice ? '16px' : '14px'\n                }, this.createElement);\n                showSpinner(this.spinnerElement);\n            }\n            if (!isNullOrUndefined(this.spinnerTemplate)) {\n                this.setSpinnerTemplate();\n            }\n        }\n    };\n    Mention.prototype.keyActionHandler = function (e) {\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        var isTabAction = e.action === 'tab' || e.action === 'close';\n        if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space') {\n            this.renderList();\n        }\n        if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n            isNavigation && this.liCollections.length === 0) || this.isRequested) {\n            return;\n        }\n        if (e.action === 'escape') {\n            e.preventDefault();\n        }\n        this.isSelected = e.action === 'escape' ? false : this.isSelected;\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                this.isUpDownKey = true;\n                this.updateUpDownAction(e);\n                break;\n            case 'tab':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n                    if (li) {\n                        this.setSelection(li, e);\n                    }\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n                        this.updateSelectedItem(this.selectedLI, e, false, true);\n                    }\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen) {\n                    this.hidePopup(e);\n                }\n                break;\n        }\n    };\n    Mention.prototype.updateUpDownAction = function (e) {\n        var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n            if (!isNullOrUndefined(li)) {\n                var value = this.getFormattedValue(li.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n            }\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            var nextItem = isNullOrUndefined(this.activeIndex) ?\n                this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        if (this.isPopupOpen) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    Mention.prototype.unBindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n    };\n    Mention.prototype.onKeyUp = function (e) {\n        var rangetextContent;\n        if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n            this.isUpDownKey = false;\n            return;\n        }\n        this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n        if (document.activeElement != this.inputElement) {\n            this.inputElement.focus();\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n            rangetextContent = this.range.startContainer.textContent.split('');\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        var Regex = new RegExp(this.mentionChar, 'g');\n        var charRegex = new RegExp('[a-zA-Z]', 'g');\n        if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n            return;\n        }\n        if ((!currentRange || !lastWordRange) || e.code === 'Enter' || e.keyCode === 27 ||\n            (lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1) ||\n            (this.isContentEditable(this.inputElement) && this.range.startContainer &&\n                this.range.startContainer.previousElementSibling && this.range.startContainer.textContent.split('').length > 0 &&\n                (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 ||\n                    this.range.startContainer.nodeType === 1))) {\n            if (this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1\n                && !this.isMatchedText() && (currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ') &&\n                (this.list && this.list.querySelectorAll('ul').length > 0)) {\n                this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n                this.searchLists(e);\n            }\n            else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && (e.code !== 'ArrowDown' && e.code !== 'ArrowUp')) {\n                this.hidePopup();\n                this.lineBreak = true;\n            }\n            return;\n        }\n        this.queryString = lastWordRange.replace(this.mentionChar, '');\n        if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) &&\n            this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n            this.searchLists(e);\n            if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n                if (!this.isContentEditable(this.inputElement)) {\n                    this.showPopup();\n                }\n                else if (this.isContentEditable(this.inputElement) && this.range && this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n                    this.showPopup();\n                }\n            }\n        }\n        else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj ||\n            (isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) ||\n                !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element)))) {\n            if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n                this.searchLists(e);\n            }\n            this.resetList(this.dataSource, this.fields);\n            if (isNullOrUndefined(this.list)) {\n                this.initValue();\n            }\n            if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40) {\n                this.didPopupOpenByTypingInitialChar = true;\n                this.showPopup();\n                if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n                    this.showWaitingSpinner();\n                }\n                this.lineBreak = false;\n            }\n        }\n        else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 &&\n            e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n            this.searchLists(e);\n        }\n        else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.searchLists(e);\n            if (!this.isListResetted) {\n                this.resetList(this.dataSource, this.fields);\n            }\n        }\n        this.isListResetted = false;\n    };\n    Mention.prototype.isMatchedText = function () {\n        var isMatched = false;\n        for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n            if (this.getTextRange() &&\n                this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n                isMatched = true;\n            }\n        }\n        return isMatched;\n    };\n    Mention.prototype.getCurrentRange = function () {\n        this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n        return this.range;\n    };\n    Mention.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.render.call(this);\n            this.unWireListEvents();\n            this.wireListEvents();\n        }\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.queryString,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    Mention.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString.length >= this.minLength) {\n            this.resetList(dataSource, fields, query);\n            this.isListResetted = true;\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.beforePopupOpen = false;\n        }\n        this.setDataIndex();\n        this.renderReactTemplates();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isActive) {\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.inputElement.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            var focusItem = ulElement.querySelector('.' + dropDownBaseClasses.li);\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.selected);\n                this.selectedLI = focusItem;\n                var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n                this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n            }\n        }\n    };\n    Mention.prototype.setDataIndex = function () {\n        for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n            this.liCollections[i].setAttribute('data-index', i.toString());\n        }\n    };\n    Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    Mention.prototype.elementValue = function () {\n        if (!this.isContentEditable(this.inputElement)) {\n            return this.inputElement.value.replace(this.mentionChar, '');\n        }\n        else {\n            return this.inputElement.textContent.replace(this.mentionChar, '');\n        }\n    };\n    Mention.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ?\n            this.elementValue() : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 25, checked the condition\n            if (this.suggestionCount !== 25) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    Mention.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    Mention.prototype.getTextRange = function () {\n        var text;\n        if (!this.isContentEditable(this.inputElement)) {\n            var component = this.inputElement;\n            if (!isNullOrUndefined(component)) {\n                var startPos = component.selectionStart;\n                if (component.value && startPos >= 0) {\n                    text = component.value.substring(0, startPos);\n                }\n            }\n        }\n        else {\n            if (this.range) {\n                var selectedElem = this.range.startContainer;\n                if (!isNullOrUndefined(selectedElem)) {\n                    var workingNodeContent = selectedElem.textContent;\n                    var selectStartOffset = this.range.startOffset;\n                    if (workingNodeContent && selectStartOffset >= 0) {\n                        text = workingNodeContent.substring(0, selectStartOffset);\n                    }\n                }\n            }\n        }\n        return text;\n    };\n    Mention.prototype.getLastLetter = function (text) {\n        if (isNullOrUndefined(text)) {\n            return '';\n        }\n        var textValue = text.replace(/\\u00A0/g, ' ');\n        var words = textValue.split(/\\s+/);\n        var wordCnt = words.length - 1;\n        return words[wordCnt].trim();\n    };\n    Mention.prototype.isContentEditable = function (element) {\n        return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showPopup = function () {\n        this.beforePopupOpen = true;\n        if (document.activeElement != this.inputElement) {\n            this.inputElement.focus();\n        }\n        this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n        this.didPopupOpenByTypingInitialChar = false;\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        if (!this.isTyped) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.initValue();\n        }\n        this.renderPopup();\n        attributes(this.inputElement, { 'aria-activedescendant': this.selectedElementID });\n        if (this.selectedElementID == null) {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.hidePopup = function (e) {\n        this.removeSelection();\n        this.closePopup(0, e);\n    };\n    Mention.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.inputElement.removeAttribute('aria-owns');\n        this.inputElement.removeAttribute('aria-activedescendant');\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('closed', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && _this.popupObj) {\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    Mention.prototype.renderPopup = function () {\n        var _this = this;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle_1;\n                if (isNullOrUndefined(_this.target)) {\n                    popupEle_1 = _this.createElement('div', {\n                        id: _this.inputElement.id + '_popup', className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                }\n                else {\n                    popupEle_1 = _this.element;\n                    if (_this.cssClass != null) {\n                        addClass([popupEle_1], _this.cssClass.split(' '));\n                    }\n                }\n                if (!isNullOrUndefined(_this.target)) {\n                    popupEle_1.id = _this.inputElement.id + '_popup';\n                }\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n                    var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n                    if (!isNullOrUndefined(li)) {\n                        _this.selectedLI = li;\n                        var value = _this.getFormattedValue(li.getAttribute('data-value'));\n                        _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n                    }\n                }\n                append([_this.list], popupEle_1);\n                if (_this.inputElement.parentElement && _this.inputElement.parentElement.parentElement &&\n                    _this.inputElement.parentElement.parentElement.classList.contains('e-richtexteditor')) {\n                    if (popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n                        popupEle_1.firstElementChild.setAttribute('aria-owns', _this.inputElement.parentElement.parentElement.id);\n                    }\n                }\n                if ((!_this.popupObj || !document.body.contains(_this.popupObj.element)) ||\n                    !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n                    document.body.appendChild(popupEle_1);\n                }\n                var coordinates_1;\n                popupEle_1.style.visibility = 'hidden';\n                _this.setHeight(popupEle_1);\n                var offsetValue = 0;\n                var left = 0;\n                _this.initializePopup(popupEle_1, offsetValue, left);\n                _this.checkCollision(popupEle_1);\n                popupEle_1.style.visibility = 'visible';\n                addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options', 'aria-activedescendant': _this.selectedElementID });\n                if (_this.selectedElementID == null) {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('opened', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.renderReactTemplates();\n                        if (_this.popupObj) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.inputElement : null);\n                        }\n                        if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n                            return;\n                        }\n                        coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n                        if (!_this.isCollided) {\n                            popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                        }\n                        else {\n                            popupEle_1.style.left = formatUnit(coordinates_1.left);\n                            popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString()));\n                            _this.isCollided = false;\n                        }\n                        popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n                        _this.setHeight(popupEle_1);\n                        popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    Mention.prototype.setHeight = function (popupEle) {\n        if (this.popupHeight !== 'auto' && this.list) {\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n    };\n    Mention.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'mention'))) {\n            var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n            var collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n                this.isCollided = true;\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    Mention.prototype.getTriggerCharPosition = function () {\n        var mostRecentTriggerCharPos;\n        var currentRange = this.getTextRange();\n        if (currentRange !== undefined && currentRange !== null) {\n            mostRecentTriggerCharPos = 0;\n            var idx = currentRange.lastIndexOf(this.mentionChar);\n            if (idx >= mostRecentTriggerCharPos) {\n                mostRecentTriggerCharPos = idx;\n            }\n        }\n        return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n    };\n    Mention.prototype.initializePopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputElement, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' }, actionOnScroll: 'hide',\n            zIndex: this.zIndex,\n            close: function () {\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                _this.setDataIndex();\n            }\n        });\n    };\n    Mention.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    Mention.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.popupObj.destroy();\n        if (isNullOrUndefined(this.target)) {\n            detach(this.popupObj.element);\n        }\n        else {\n            this.popupObj.element.innerHTML = '';\n            this.popupObj.element.removeAttribute('style');\n            this.popupObj.element.removeAttribute('aria-disabled');\n        }\n    };\n    Mention.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n            this.hidePopup(e);\n        }\n    };\n    Mention.prototype.getCoordinates = function (element, position) {\n        var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n        var div;\n        var span;\n        var range;\n        var globalRange;\n        var coordinates;\n        var computed;\n        var rect;\n        if (!this.isContentEditable(this.inputElement)) {\n            div = this.createElement('div', { className: 'e-form-mirror-div' });\n            document.body.appendChild(div);\n            computed = getComputedStyle(element);\n            div.style.position = 'absolute';\n            div.style.visibility = 'hidden';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            properties.forEach(function (prop) {\n                // eslint-disable-next-line security/detect-object-injection\n                div.style[prop] = computed[prop];\n            });\n            div.textContent = element.value.substring(0, position);\n            if (this.inputElement.nodeName === 'INPUT') {\n                div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n            }\n            span = this.createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            rect = element.getBoundingClientRect();\n        }\n        else {\n            var selectedNodePosition = this.getTriggerCharPosition();\n            globalRange = this.range;\n            range = document.createRange();\n            if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                range.setStart(globalRange.startContainer, selectedNodePosition);\n                range.setEnd(globalRange.startContainer, selectedNodePosition);\n            }\n            else {\n                range.setStart(globalRange.startContainer, globalRange.startOffset);\n                range.setEnd(globalRange.startContainer, globalRange.endOffset);\n            }\n            this.isTyped = false;\n            range.collapse(false);\n            rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] : range.getBoundingClientRect();\n        }\n        var doc = document.documentElement;\n        var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var width = 0;\n        if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n            for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n                if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n                    width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n                }\n                else if (this.range.startContainer.childNodes[i].textContent !== '') {\n                    var span_1 = document.createElement(\"span\");\n                    span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n                    document.body.appendChild(span_1);\n                    var textNodeWidth = span_1.offsetWidth;\n                    document.body.removeChild(span_1);\n                    width += textNodeWidth;\n                }\n            }\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            coordinates = {\n                top: rect.top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) +\n                    parseInt(computed.fontSize, 10) + 3 - element.scrollTop - (this.isCollided ? 10 : 0),\n                left: rect.left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n            };\n            document.body.removeChild(div);\n        }\n        else {\n            coordinates = {\n                top: rect.top + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n                left: rect.left + windowLeft + width\n            };\n        }\n        return coordinates;\n    };\n    Mention.prototype.initValue = function () {\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    Mention.prototype.updateValues = function () {\n        var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li)) {\n            this.setSelection(li, null);\n        }\n    };\n    Mention.prototype.renderList = function () {\n        _super.prototype.render.call(this);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    Mention.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, 'click', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, 'click', this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    Mention.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.isSelected = true;\n        this.setSelection(li, e);\n        var delay = 100;\n        this.closePopup(delay, e);\n        this.inputElement.focus();\n    };\n    Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!preventSelect && !isNullOrUndefined(e) && !(e.action === \"down\" || e.action === \"up\")) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                    _this.isSelected = false;\n                    _this.isSelectCancel = true;\n                }\n                else {\n                    _this.selectEventCallback(li, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    Mention.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    Mention.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n            this.setScrollPosition(e);\n        }\n        if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        if (isNullOrUndefined(e) || this.setValue(e)) {\n            return;\n        }\n    };\n    Mention.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    Mention.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    Mention.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop;\n            }\n        }\n    };\n    Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        if (selectLi) {\n            addClass([li], dropDownBaseClasses.selected);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    Mention.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.setValue = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate();\n            }\n            this.updateMentionValue(e);\n            return true;\n        }\n        else {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate(e);\n            }\n            else {\n                this.updateMentionValue(e);\n            }\n            return true;\n        }\n    };\n    Mention.prototype.updateMentionValue = function (e) {\n        var dataItem = this.getItemData();\n        var textSuffix;\n        var value;\n        var endPos;\n        var range;\n        var globalRange;\n        var selection = this.inputElement.ownerDocument.getSelection();\n        var startPos = this.getTriggerCharPosition();\n        textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n        if (this.isSelectCancel) {\n            this.isSelectCancel = false;\n            return;\n        }\n        if (dataItem.text !== null) {\n            value = this.mentionVal(dataItem.text);\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            var myField = this.inputElement;\n            var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n            value += textSuffix;\n            endPos = startPos + this.mentionChar.length;\n            endPos += currentTriggerSnippet.length;\n            myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n            myField.selectionStart = startPos + value.length;\n            myField.selectionEnd = startPos + value.length;\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n        else {\n            endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n            if (this.range && (this.range.startContainer.textContent.trim() !== this.mentionChar)) {\n                endPos = this.range.endOffset;\n            }\n            globalRange = this.range;\n            range = document.createRange();\n            if (((this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) || this.getTextRange() && this.getTextRange().trim() === this.mentionChar)) {\n                range.setStart(globalRange.startContainer, startPos);\n                range.setEnd(globalRange.startContainer, endPos);\n            }\n            else {\n                if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n                }\n                else {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset);\n                }\n            }\n            this.isTyped = false;\n            range.deleteContents();\n            var element = this.createElement('div');\n            element.innerHTML = value;\n            var frag = document.createDocumentFragment();\n            var node = void 0;\n            var lastNode = void 0;\n            // eslint-disable-next-line no-cond-assign\n            while (node = element.firstChild) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(true);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n    };\n    Mention.prototype.mentionVal = function (value) {\n        var showChar = this.showMentionChar ? this.mentionChar : '';\n        if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n            value = this.displayTempElement.innerHTML;\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n        }\n        else {\n            return showChar + value;\n        }\n    };\n    Mention.prototype.setDisplayTemplate = function (e) {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['displayTemplate']);\n            if (this.displayTempElement) {\n                detach(this.displayTempElement);\n                this.displayTempElement = null;\n            }\n        }\n        if (!this.displayTempElement) {\n            this.displayTempElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.displayTempElement.innerHTML = '';\n        }\n        compiledString = compile(this.displayTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n        if (displayCompTemp && displayCompTemp.length > 0) {\n            append(displayCompTemp, this.displayTempElement);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.updateMentionValue(e);\n            });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Mention.prototype.renderTemplates = function (callBack) {\n        this.renderReactTemplates(callBack);\n    };\n    Mention.prototype.setSpinnerTemplate = function () {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['spinnerTemplate']);\n            if (this.spinnerTemplateElement) {\n                detach(this.spinnerTemplateElement);\n                this.spinnerTemplateElement = null;\n            }\n        }\n        if (!this.spinnerTemplateElement) {\n            this.spinnerTemplateElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.spinnerTemplateElement.innerHTML = '';\n        }\n        compiledString = compile(this.spinnerTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n        if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n            for (var i = 0; i < spinnerCompTemp.length; i++) {\n                this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n            this.popupObj.element.appendChild(this.spinnerTemplateElement);\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n            });\n        }\n    };\n    Mention.prototype.onChangeEvent = function (eve) {\n        this.isSelected = false;\n        var items = this.detachMentionChanges(this.itemData);\n        var preItems;\n        if (typeof this.previousItemData === 'string' ||\n            typeof this.previousItemData === 'boolean' ||\n            typeof this.previousItemData === 'number') {\n            preItems = Object.defineProperties({}, {\n                value: {\n                    value: this.previousItemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.previousItemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            preItems = this.previousItemData;\n        }\n        var eventArgs = {\n            e: eve,\n            item: this.item,\n            itemData: items,\n            previousItem: this.previousSelectedLI,\n            previousItemData: preItems,\n            isInteracted: eve ? true : false,\n            value: this.item.innerHTML,\n            element: this.inputElement\n        };\n        this.trigger('change', eventArgs);\n    };\n    Mention.prototype.detachMentionChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    Mention.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Mention.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    Mention.prototype.setHover = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    Mention.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    Mention.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    Mention.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.search = function (text, positionX, positionY) {\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        if ((this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()))\n            || !this.ignoreCase && text === lastWordRange) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            return;\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n            this.renderPopup();\n        }\n        else {\n            this.showPopup();\n        }\n        this.popupObj.element.style.left = formatUnit(positionX);\n        this.popupObj.element.style.top = formatUnit(positionY);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Mention.prototype.destroy = function () {\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        this.previousSelectedLI = null;\n        this.item = null;\n        this.selectedLI = null;\n        this.inputElement.innerText = null;\n        this.popupObj = null;\n        _super.prototype.destroy.call(this);\n    };\n    Mention.prototype.getLocaleName = function () {\n        return 'mention';\n    };\n    Mention.prototype.getNgDirective = function () {\n        return 'EJS-MENTION';\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    Mention.prototype.getModuleName = function () {\n        return 'mention';\n    };\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"cssClass\", void 0);\n    __decorate$7([\n        Property('@')\n    ], Mention.prototype, \"mentionChar\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Mention.prototype, \"showMentionChar\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Mention.prototype, \"allowSpaces\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"suffixText\", void 0);\n    __decorate$7([\n        Property(25)\n    ], Mention.prototype, \"suggestionCount\", void 0);\n    __decorate$7([\n        Property(0)\n    ], Mention.prototype, \"minLength\", void 0);\n    __decorate$7([\n        Property('None')\n    ], Mention.prototype, \"sortOrder\", void 0);\n    __decorate$7([\n        Property(true)\n    ], Mention.prototype, \"ignoreCase\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Mention.prototype, \"highlight\", void 0);\n    __decorate$7([\n        Property()\n    ], Mention.prototype, \"locale\", void 0);\n    __decorate$7([\n        Property('auto')\n    ], Mention.prototype, \"popupWidth\", void 0);\n    __decorate$7([\n        Property('300px')\n    ], Mention.prototype, \"popupHeight\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"displayTemplate\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"itemTemplate\", void 0);\n    __decorate$7([\n        Property('No records found')\n    ], Mention.prototype, \"noRecordsTemplate\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"spinnerTemplate\", void 0);\n    __decorate$7([\n        Property()\n    ], Mention.prototype, \"target\", void 0);\n    __decorate$7([\n        Property([])\n    ], Mention.prototype, \"dataSource\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Mention.prototype, \"query\", void 0);\n    __decorate$7([\n        Property('Contains')\n    ], Mention.prototype, \"filterType\", void 0);\n    __decorate$7([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], Mention.prototype, \"fields\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"actionBegin\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"actionComplete\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"actionFailure\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"change\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"beforeOpen\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"opened\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"closed\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"select\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"filtering\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"created\", void 0);\n    __decorate$7([\n        Event()\n    ], Mention.prototype, \"destroyed\", void 0);\n    Mention = __decorate$7([\n        NotifyPropertyChanges\n    ], Mention);\n    return Mention;\n}(DropDownBase));\n\n/**\n * export all modules from current location\n */\n\n/**\n * export all modules from current location\n */\n\nexport { incrementalSearch, Search, escapeCharRegExp, resetIncrementalSearchValues, highlightSearch, revertHighlightSearch, VirtualScroll, FieldSettings, dropDownBaseClasses, DropDownBase, dropDownListClasses, DropDownList, Fields, TreeSettings, DropDownTree, ComboBox, AutoComplete, MultiSelect, CheckBoxSelection, createFloatLabel, updateFloatLabelState, removeFloating, setPlaceHolder, floatLabelFocus, floatLabelBlur, encodePlaceholder, SelectionSettings, ToolbarSettings, ListBox, Mention };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}